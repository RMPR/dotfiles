T 1577983786 18<29kchibisov18>	What do you thing about downsampling everything with fixupfactor less then a 1?
T 1577983791 18<29kchibisov18>	s/thing/think
T 1577991065 18<24UndeadLeech18>	I'd have to check how we compute the fixup factor again. Is that computed at all?
T 1577991082 18<24UndeadLeech18>	Will fonts always provide it, even if it's a 'normal' glyph?
T 1577997683 18<24UndeadLeech18>	I think I just fixed the last bug of the 0.4.1 milestone, now we wait for winit/glutin.
T 1578001354 18<20cole-h18>	üéâ
T 1578001399 18<28eijebong18>	:party:
T 1579685655 19*	Now talking on 22#alacritty
T 1579685655 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/jwilm/alacritty/releases/tag/v0.4.1
T 1579685655 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Thu Jan  9 19:54:38 2020)
T 1579689372 18<25kchibisov[m]18>	C√©dric Van Rompay: This is fixed on the latest master
T 1579689393 18<25kchibisov[m]18>	Was our ‚Äúbug‚Äù on X11
T 1579689460 18<25cedricvr18>	I am not sure I am using X11. How do I check?
T 1579689634 18*	25cedricvr sent a long message:  < https://matrix.org/_matrix/media/r0/download/matrix.org/vTAzIuWwqACSzONXEwvnThVe >
T 1579695660 20*	Disconnected (20)
T 1579695825 23*	28RMPR is already in use. Retrying with 18...
T 1579695852 20*	Disconnected (20Remote host closed socket)
T 1579695874 22*	26RMPR sets mode 24+Z on 22RMPR
T 1579695874 22*	26RMPR sets mode 24+i on 22RMPR
T 1579695874 -18freenode-connect-	Welcome to freenode. To protect the network all new connections will be scanned for vulnerabilities. This will not harm your computer, and vulnerable hosts will be notified.
T 1579695874 24*	Received a CTCP 24VERSION from 18freenode-connect
T 1579695879 19*	Now talking on 22#alacritty
T 1579695879 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/jwilm/alacritty/releases/tag/v0.4.1
T 1579695879 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Thu Jan  9 19:54:38 2020)
T 1579696200 20*	Disconnected (20)
T 1579696354 22*	26RMPR sets mode 24+Z on 22RMPR
T 1579696354 22*	26RMPR sets mode 24+i on 22RMPR
T 1579696355 -18freenode-connect-	Welcome to freenode. To protect the network all new connections will be scanned for vulnerabilities. This will not harm your computer, and vulnerable hosts will be notified.
T 1579696355 24*	Received a CTCP 24VERSION from 18freenode-connect
T 1579696360 19*	Now talking on 22#alacritty
T 1579696360 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/jwilm/alacritty/releases/tag/v0.4.1
T 1579696360 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Thu Jan  9 19:54:38 2020)
T 1582109474 19*	Now talking on 22#alacritty
T 1582109474 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582109474 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582111250 20*	Disconnected (20)
T 1582111365 20*	Disconnected (20Remote host closed socket)
T 1582111431 20*	Disconnected (20Remote host closed socket)
T 1582111508 19*	Now talking on 22#alacritty
T 1582111508 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582111508 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582111520 20*	Disconnected (20)
T 1582111552 19*	Now talking on 22#alacritty
T 1582111552 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582111552 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582111640 20*	Disconnected (20)
T 1582111672 19*	Now talking on 22#alacritty
T 1582111672 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582111672 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582112510 20*	Disconnected (20)
T 1582112537 19*	Now talking on 22#alacritty
T 1582112537 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582112537 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582113505 18<19DemonLord18>	You can move `h` and `l` only on wrapped lines, I don't really like the idea about always moving them. `0` and `$` proposed behavior seems nice, so we can probably do the same.
T 1582115810 20*	Disconnected (20)
T 1582115854 19*	Now talking on 22#alacritty
T 1582115854 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582115854 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582116620 20*	Disconnected (20)
T 1582116685 19*	Now talking on 22#alacritty
T 1582116685 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582116685 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582119590 20*	Disconnected (20)
T 1582915867 19*	Now talking on 22#alacritty
T 1582915867 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582915867 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582916786 20*	Disconnected (20)
T 1582917014 19*	Now talking on 22#alacritty
T 1582917014 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582917014 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582917551 20*	Disconnected (20)
T 1582917614 20*	Disconnected (20Remote host closed socket)
T 1582917679 20*	Disconnected (20Remote host closed socket)
T 1582917704 19*	Now talking on 22#alacritty
T 1582917704 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582917704 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582923232 19*	Now talking on 22#alacritty
T 1582923232 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582923232 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582931194 20*	Disconnected (20)
T 1582962234 19*	Now talking on 22#alacritty
T 1582962234 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582962234 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582983807 19*	Now talking on 22#alacritty
T 1582983807 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582983807 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1582998123 20*	Disconnected (20)
T 1582998150 19*	Now talking on 22#alacritty
T 1582998150 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1582998150 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1583009923 20*	Disconnected (20)
T 1583010206 19*	Now talking on 22#alacritty
T 1583010206 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1583010206 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1583010734 20*	Disconnected (20)
T 1583147412 19*	Now talking on 22#alacritty
T 1583147412 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1583147412 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1583148234 18<28xkr4718>	also my 2015 laptop reports OpenGL version string: 3.0 Mesa 17.2.8
T 1583149230 18<29kchibisov18>	your mesa is very old, maybe that's the case.
T 1584531726 19*	Now talking on 22#alacritty
T 1584531726 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584531726 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584535066 20*	Disconnected (20)
T 1584535100 19*	Now talking on 22#alacritty
T 1584535100 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584535100 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584543278 20*	Disconnected (20)
T 1584543303 19*	Now talking on 22#alacritty
T 1584543303 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584543303 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584548391 18<22nixpulvis18>	fucking crates.io squatters man.
T 1584548408 18<29kchibisov18>	???
T 1584548415 18<22nixpulvis18>	https://crates.io/users/swmon
T 1584548418 18<22nixpulvis18>	look at this shit.
T 1584548444 18<22nixpulvis18>	9 fucking pages of crates, not 1 LoC as far as I can tell.
T 1584548470 18<22nixpulvis18>	sorry 11 pages.
T 1584548523 18<22nixpulvis18>	on the *bright* side ;) https://github.com/alacritty/alacritty/pull/3423#issuecomment-600726351 looks pretty.
T 1584548763 18<24UndeadLeech18>	nixpulvis: It's so infuriating.
T 1584548848 18<22nixpulvis18>	BTW, got a good chance to use Vi mode in my lazy copy and pasting of these color values.
T 1584548850 18<22nixpulvis18>	SOOOOOOOO nice.
T 1584549294 18<29kchibisov18>	oh, we broke config parsing.
T 1584549302 18<24UndeadLeech18>	Hm?
T 1584549318 18<29kchibisov18>	#3476
T 1584549377 18<24UndeadLeech18>	It should have just made it more robust.
T 1584549392 18<24UndeadLeech18>	If you previously had errors in your bindings, it will not fallback to the default anymore though.
T 1584549439 18<22nixpulvis18>	form of linting...
T 1584549457 18<29kchibisov18>	I feel like their configs are fine.
T 1584549529 18<29kchibisov18>	Yeah, I can repro it.
T 1584549551 18<29kchibisov18>	Try config file from v0.3.3 in neovim.
T 1584549563 18<24UndeadLeech18>	Oh is it sending the chars twice, not replacing the binding?
T 1584549573 18<29kchibisov18>	it sending char twice, yes
T 1584549580 18<29kchibisov18>	but only in Alt screen.
T 1584549611 18<24UndeadLeech18>	Huh?
T 1584549690 18<24UndeadLeech18>	Ah, I don't think it's alt screen.
T 1584549728 18<29kchibisov18>	I'm just saying that outside of neovim it works(1 char), inside it sends 2 chars.
T 1584549780 18<24UndeadLeech18>	echo -e "\e[?1h"
T 1584549782 18<24UndeadLeech18>	And it'll break.
T 1584549844 18<29kchibisov18>	so, it's just any mode besides normal?
T 1584549874 18<24UndeadLeech18>	Might be related to this potentially: https://github.com/alacritty/alacritty/commit/1a8cd172e520e493bacc9c6a2ae6f80de086eaa3#diff-477049f60a4e0056df655eec516628e7R272
T 1584549920 18<29kchibisov18>	it was bisected to vi mode already.
T 1584549934 18<24UndeadLeech18>	Yeah I know, that doesn't really help though.
T 1584550001 18<24UndeadLeech18>	Ah.
T 1584550004 18<24UndeadLeech18>	The notmode doesn't match.
T 1584550011 18<24UndeadLeech18>	So it doesn't consider them equal.
T 1584550076 18<24UndeadLeech18>	I'm not sure if we can fix that.
T 1584550090 18<29kchibisov18>	...
T 1584567528 20*	Disconnected (20)
T 1584567552 19*	Now talking on 22#alacritty
T 1584567552 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584567552 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584567555 18<29kchibisov18>	but if your bold font isn't a bold font it doesn't matter.
T 1584567625 18<29kchibisov18>	Also, we don't know if your font is bold or not.
T 1584567625 18<28ubitux18>	no but i mean, if the terminal can't show to the user the difference between bold and non-bold because the font doesn't support it, wouldn't it make sense to fallback on using the bright color instead by default (if and only if the font doesn't support it)
T 1584567630 18<28ubitux18>	but i'm nitpicking about random default, that setting is fine with me
T 1584567632 18<29kchibisov18>	we don't know it.
T 1584567643 18<28ubitux18>	ah, alright
T 1584567655 18<28ubitux18>	no such meta? that's surprising
T 1584567673 18<29kchibisov18>	I mean I can use different regular font as a bold font.
T 1584567703 18<29kchibisov18>	even if you have some meta, you can't say for sure.
T 1584567710 18<28ubitux18>	ok ok
T 1584567730 18<29kchibisov18>	So changing draw_bold_text_as_bright is likely a way to go for most users.
T 1584567763 18<29kchibisov18>	If they still want this behavior.
T 1584567764 18<28ubitux18>	alright
T 1584567785 18<29kchibisov18>	However I'd recommend to use bright colors if you want them.
T 1584567840 18<28ubitux18>	yeah i re-enabled that setting
T 1584567851 18<29kchibisov18>	I mean in your app.
T 1584567859 18<28ubitux18>	ah :)
T 1584568005 18<28ubitux18>	ok so, that vi-mode, i typically used it to copy a line in urxvt, right now the workflow equivalent of alt+esc <make select> esc shift+insert seems: ctrl+shift+space <make select> i ctrl+shift+v
T 1584568018 18<28ubitux18>	is there a way to have the copy inside the native clipboard?
T 1584568032 18<28ubitux18>	so i can use shift+insert instead of ctrl+shift+v?
T 1584568047 18<28ubitux18>	(and transfer it elsewhere)
T 1584568080 18<29kchibisov18>	shift + insert should work.
T 1584568099 18<29kchibisov18>	IIRC we have a binding for it to paste.
T 1584568105 18<24UndeadLeech18>	As long as you're not on macOS, yes.
T 1584568150 18<28ubitux18>	it's not in the clipboard, so shift+insert doesn't work here
T 1584568159 18<24UndeadLeech18>	Where else would it be?
T 1584568163 18<20cole-h18>	Man, English is hard
T 1584568169 18<28ubitux18>	in some alacritty specific buffer
T 1584568171 18<29kchibisov18>	Oh, have you pressed `copy`?
T 1584568172 18<24UndeadLeech18>	It really is. Especially shortenglish.
T 1584568177 18<20cole-h18>	UndeadLeech: Can we switch our changelog to lojban?
T 1584568181 18<20cole-h18>	:D
T 1584568181 18<28ubitux18>	kchibisov: "y" yes
T 1584568192 18<24UndeadLeech18>	As soon as you yank it, it will be in the system clipboard.
T 1584568201 18<29kchibisov18>	so ctrl + shift + v works, but shift + insert - not?
T 1584568203 18<24UndeadLeech18>	cole-h: Brainfuck.
T 1584568206 18<28ubitux18>	kchibisov: yes
T 1584568220 18<20cole-h18>	UndeadLeech: I thought that was just a JS dialect
T 1584568222 18<20cole-h18>	Oh no
T 1584568230 18<28ubitux18>	kchibisov: if i make a mouse select, shift+insert works though
T 1584568236 18<24UndeadLeech18>	ubitux: Could you check your `alacritty --print-events` output? Sounds like your key isn't setting the virtual keycode.
T 1584568238 18<28ubitux18>	but not after in yank the vi-mode
T 1584568240 18<24UndeadLeech18>	cole-h: That's JSFuck.
T 1584568245 18<28ubitux18>	a yank in vi-mode*
T 1584568253 18<29kchibisov18>	Oh, shift + insert is from primary buffer?
T 1584568272 18<29kchibisov18>	I mean from middle mouse selection.
T 1584568277 18<24UndeadLeech18>	Yeah.
T 1584568283 18<24UndeadLeech18>	Shift+Insert pastes from selection clipboard.
T 1584568287 18<29kchibisov18>	Oh, so you should yank to it.
T 1584568289 18<24UndeadLeech18>	You can change that though ubitux.
T 1584568301 18<28ubitux18>	yeah?
T 1584568302 18<29kchibisov18>	`y` is to a Ctrl + V clipboard.
T 1584568323 18<24UndeadLeech18>	Just copy the keybinding and change it to `Paste` instead of `PasteSelection`.
T 1584568346 18<28ubitux18>	kchibisov: ah i see, that one works indeed
T 1584568363 18<24UndeadLeech18>	Yeah, the problem is the pasting, not the copying.
T 1584568365 18<28ubitux18>	UndeadLeech: it's not the paste i want to change
T 1584568371 18<29kchibisov18>	Hm, UndeadLeech do we need a binding to copy to primary buffer?
T 1584568376 18<28ubitux18>	UndeadLeech:  no because i want to middle click somewhere else
T 1584568379 18<24UndeadLeech18>	Wait, you actually want it to yank to the selection clipboard?
T 1584568385 18<28ubitux18>	yep
T 1584568389 18<24UndeadLeech18>	kchibisov: Potentially.
T 1584568408 18<29kchibisov18>	ok, we'll add CopyPrimary.
T 1584568425 18<28ubitux18>	i mean it's not actually important but it's surprising coming from urxvt
T 1584568430 18<28ubitux18>	i sure can adapt :)
T 1584568445 18<24UndeadLeech18>	We just follow what vi does when you set it to write to your host clipboard.
T 1584568451 18<24UndeadLeech18>	It doesn't write to the selection clipboard either.
T 1584568461 18<28ubitux18>	im not sure vi is the best example of clipboard copy/paste :')
T 1584568477 18<28ubitux18>	freaking nightmare to get copy/paste correct with vim
T 1584568482 18<29kchibisov18>	I mean you have a way to copy into primary buffer from vi, we just forgot about it.
T 1584568507 18<29kchibisov18>	The problem I see is that you don't have primary buffer on macOS/Windows.
T 1584568526 18<29kchibisov18>	And on some Wayland compositors it's not a thing either.
T 1584568608 20*	Disconnected (20)
T 1584602725 22*	26RMPR sets mode 24+Z on 22RMPR
T 1584602725 22*	26RMPR sets mode 24+i on 22RMPR
T 1584602731 19*	Now talking on 22#alacritty
T 1584602731 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584602731 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584610124 20*	Disconnected (20)
T 1584610146 22*	26RMPR sets mode 24+Z on 22RMPR
T 1584610146 22*	26RMPR sets mode 24+i on 22RMPR
T 1584610152 19*	Now talking on 22#alacritty
T 1584610152 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584610152 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584619118 20*	Disconnected (20)
T 1584619144 19*	Now talking on 22#alacritty
T 1584619144 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584619144 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584620168 20*	Disconnected (20)
T 1584620217 20*	Disconnected (20Remote host closed socket)
T 1584620285 20*	Disconnected (20Remote host closed socket)
T 1584620353 20*	Disconnected (20Remote host closed socket)
T 1584620373 19*	Now talking on 22#alacritty
T 1584620373 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584620373 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584620678 20*	Disconnected (20)
T 1584620723 20*	Disconnected (20Remote host closed socket)
T 1584620791 20*	Disconnected (20Remote host closed socket)
T 1584620859 20*	Disconnected (20Remote host closed socket)
T 1584620886 19*	Now talking on 22#alacritty
T 1584620886 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584620886 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584623318 20*	Disconnected (20)
T 1584623365 19*	Now talking on 22#alacritty
T 1584623365 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584623365 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584627968 20*	Disconnected (20)
T 1584628059 20*	Disconnected (20Remote host closed socket)
T 1584628105 20*	Disconnected (20Remote host closed socket)
T 1584628173 20*	Disconnected (20Remote host closed socket)
T 1584628198 19*	Now talking on 22#alacritty
T 1584628198 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584628198 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584628364 18<29kchibisov18>	So msi installer could only be for the actuall release. We do provide 'portable', they are enough for testing IIRC.
T 1584631301 18<22nixpulvis18>	yo, can you tell LLVM to ignore a single instruction for optimization?
T 1584632326 18<29kchibisov18>	put it in asm_volatile?
T 1584632345 18<22nixpulvis18>	ohhh nice, volatile may make sense
T 1584632365 18<29kchibisov18>	you should use assembly though.
T 1584632388 18<29kchibisov18>	however you can pass your value to asm_volatile as input, so LLVM won't touch it.
T 1584632406 18<29kchibisov18>	like let x = 0; __asm volatile(x);
T 1584632427 18<29kchibisov18>	at least it won't optimize it away.
T 1584635886 18<28ubitux18>	mmh, alacritty git/master is much much slower in (n)vim here compared to latest release
T 1584635889 18<28ubitux18>	is this known?
T 1584635984 18<28ubitux18>	my cpu spikes violently when i scroll (jjjjj...)
T 1584636015 18<28ubitux18>	i get one core at 100%
T 1584636106 18<29kchibisov18>	what's your `alacritty --version`?
T 1584636214 18<28ubitux18>	alacritty 0.5.0-dev (3d7a789)
T 1584636274 18<29kchibisov18>	Does it spikes in alacritty or vim?
T 1584636325 18<28ubitux18>	alacritty
T 1584636329 18<29kchibisov18>	I can't repro either in nvim or on benchmarks.
T 1584636345 18<29kchibisov18>	Are you sure that you're using release build?
T 1584636358 18<29kchibisov18>	on both X11/Wayland I mean.
T 1584636467 18<28ubitux18>	it's a debug build (i did a cargo run)
T 1584636481 18<28ubitux18>	how can i enable the release one?
T 1584636491 18<20cole-h18>	`cargo run --release`
T 1584636587 18<29kchibisov18>	Well, I'm not surprised for debug build.
T 1584636611 18<29kchibisov18>	I mean for its performance.
T 1584636722 18<28ubitux18>	cole-h: thanks, trying that out (damn it's so slow to compile :P)
T 1584636748 18<20cole-h18>	Debug builds are for debugging because they're relatively quick to compile
T 1584636755 18<20cole-h18>	Release builds are for day-to-day use :P
T 1584636768 18<29kchibisov18>	if you want to install your `release` build later, you should do `cargo install --path alacritty --locked --force`.
T 1584636774 18<28ubitux18>	it's stuck on the last bin for 3 minutes already
T 1584636779 18<20cole-h18>	Yep
T 1584636782 18<29kchibisov18>	yeah, LTO.
T 1584636799 18*	20cole-h can't wait until `--locked` becomes unnecessary, because it should be default...
T 1584636805 18<28ubitux18>	ah that's much better indeed
T 1584636813 18<28ubitux18>	release doesn't have the problem, nice
T 1584636823 18<28ubitux18>	sorry for the noise :)
T 1584636829 18<29kchibisov18>	does it differ from your old version?
T 1584636847 18<29kchibisov18>	for me it's like 2% in alacritty when I scroll in neovim with 60 repeat rate.
T 1584636847 18<28ubitux18>	nah, it's pretty much the same
T 1584636866 18<28ubitux18>	yeah it's not really noticable, around 5-10%, but that's nvim
T 1584636886 18<29kchibisov18>	So old version is about the same here?
T 1584637045 18<28ubitux18>	i tried a larger file, it's actually a bit faster in the old version
T 1584637053 18<28ubitux18>	like, 24% vs 27% cpu
T 1584637068 18<28ubitux18>	but that's fine with me
T 1584637082 18<29kchibisov18>	I mean it's hard to judje since rust changes perf most of the time.
T 1584637094 18<29kchibisov18>	Like it really depends on compiler sometimes.
T 1584637106 18<29kchibisov18>	On benchmarks I don't see any difference.
T 1584637429 18<29kchibisov18>	I also wonder why our CPU usage differs so much in nvim.
T 1584637450 18<29kchibisov18>	Oh, are you using integrated GPU?
T 1584637515 18<28ubitux18>	yes
T 1584637545 18<29kchibisov18>	yeah, so for me all of extra percent is on GPU, I think.
T 1584637553 18<28ubitux18>	i have enough ptsd with big brand gpu, and i like small machines :p
T 1584637660 18<29kchibisov18>	yeah, was just curious. And they ask why terminal needs GPU acceleration :- ).
T 1584637740 18<29kchibisov18>	Though for laptops you don't have much options on Linux and the way to go is integrated GPU, since NVIDIA is NVIDIA, and AMD GPU in a laptops is still very rare thing.
T 1584637776 18<29kchibisov18>	Dedicated AMD GPU in a laptop, I mean.
T 1584638152 18<22nixpulvis18>	My nvidia card is starting to act up, and I'm worried :(
T 1584638197 18<29kchibisov18>	take a screw driver and remove it.
T 1584638246 18<29kchibisov18>	Anyway it's pretty useless for Linux desktops.
T 1584638249 18<22nixpulvis18>	but then how will my computer conntect to my monitors?
T 1584638282 18<29kchibisov18>	Don't you have integrated GPU inside of it?
T 1584638320 18<29kchibisov18>	unless it's some gaming Windows PC, it should work fine.
T 1584638338 18*	22nixpulvis is a gamer
T 1584638345 18<22nixpulvis18>	don't judge me
T 1584638371 18<22nixpulvis18>	at least I'm not a bitcoin miner.
T 1584638390 18<29kchibisov18>	You can game on Linux just fine most of the time though.
T 1584638396 18<22nixpulvis18>	false
T 1584638417 18<29kchibisov18>	With AMD GPU it should work just fnie.
T 1584638421 18<29kchibisov18>	with nvidia - no.
T 1584638448 18<22nixpulvis18>	last time I tried to play WoW (not currently active) on Linux, it was a mess.
T 1584638461 18<29kchibisov18>	lutris + dxvk?
T 1584638482 18<29kchibisov18>	just click, click, and click play.
T 1584638492 18<22nixpulvis18>	hmmmm, nope. Maybe that'll do a better job
T 1584638521 18<29kchibisov18>	you need Vulkan though.
T 1584638542 18<29kchibisov18>	not sure whether NVIDIA supports it on Linux in their binary blob driver.
T 1584638547 18<22nixpulvis18>	sure
T 1584638561 18<22nixpulvis18>	they state that they do...
T 1584638564 18<22nixpulvis18>	but...
T 1584638574 18<22nixpulvis18>	1.1 anyway.
T 1584638793 18<20cole-h18>	Doesn't help that Blizzard is/was actively hostile to its Linux users lol
T 1584645040 20*	Disconnected (20)
T 1584645169 19*	Now talking on 22#alacritty
T 1584645169 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584645169 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584695155 20*	Disconnected (20)
T 1584695183 19*	Now talking on 22#alacritty
T 1584695183 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584695183 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584703042 18<20danyspin9718>	focus events are not dispatched to clients in version  0.4.2-rc1
T 1584703398 18<29kchibisov18>	how so?
T 1584703430 18<29kchibisov18>	I mean we didn't touch anything related to focus, etc.
T 1584703445 18<29kchibisov18>	And I also can't repro.
T 1584703517 18<20danyspin9718>	kchibisov: I can't say that they worked before
T 1584703533 18<29kchibisov18>	If you provide me an example on how to reproduce it could help, but we haven't touched anything.
T 1584703551 18<20danyspin9718>	i am trying right now the Focus hook in kakoune and it doesn't receive the event
T 1584703570 18<29kchibisov18>	but HollowCursor works?
T 1584703582 18<20danyspin9718>	yea
T 1584703584 18<20danyspin9718>	"[2020-03-20 12:24:01.679761863] [INFO] glutin event: WindowEvent { window_id: WindowId(Wayland(WindowId(94589361942368))), event: Focused(false) }"
T 1584703598 18<29kchibisov18>	so so focus events are working.
T 1584703623 18<20danyspin9718>	but the client (kakoune) isn't receiving them
T 1584703639 18<29kchibisov18>	why they should receive it?
T 1584703698 18<20danyspin9718>	windows get updated based on the focus
T 1584703723 18<29kchibisov18>	Hm, so there should be espca, etc.
T 1584703728 18<20danyspin9718>	i.e. there is tagbar window that updates its contents based on which window is focused
T 1584703783 18<20danyspin9718>	what do you mean by "espca"
T 1584703793 18<29kchibisov18>	Could you provide me `alacritty -vvv` output?
T 1584703800 18<20danyspin9718>	yea
T 1584703801 18<29kchibisov18>	during repro ofc.
T 1584703986 18<20danyspin9718>	http://ix.io/2eKy
T 1584704056 18<29kchibisov18>	Oh, could you also include `--print-events` to it?
T 1584704060 18<20danyspin9718>	yea
T 1584704165 18<20danyspin9718>	http://ix.io/2eKA
T 1584704210 18<29kchibisov18>	Could you provide the same output from v0.4.1?
T 1584704226 18<29kchibisov18>	For now it seems like your editor bug.
T 1584704272 18<20danyspin9718>	I cannot compile prior to 0.4.1-rc1 :/
T 1584704286 18<29kchibisov18>	how so?
T 1584704300 18<29kchibisov18>	Ah, you don't have x11.
T 1584704304 18<20danyspin9718>	I needed the x11/wayland features patch
T 1584704314 18<29kchibisov18>	you can patch v0.4.1.
T 1584704326 18<29kchibisov18>	just apply this patch on v0.4.1, it should work.
T 1584704572 18<29kchibisov18>	If you have any issue applying the patch let me know.
T 1584704668 18<20danyspin9718>	in the end I'm compiling xcb, I'll remove it later
T 1584704701 18<29kchibisov18>	it should be applied just fine.
T 1584704726 18<29kchibisov18>	like I don't see why it should fail?
T 1584704802 18<29kchibisov18>	yeah, the last time we've touched related file were on v0.4.0.
T 1584704826 18<20danyspin9718>	i don't see the patch :/
T 1584704828 18<29kchibisov18>	so you can safely apply 4000ec04d89b9bd77995960d2a9da8fcad55e003 to v0.4.1.
T 1584704870 18<20danyspin9718>	but anyway, I've recompiled alacritty from source, v0.4.1
T 1584704894 18<29kchibisov18>	nice, I need the same output.
T 1584705026 18<20danyspin9718>	http://ix.io/2eKF
T 1584705177 18<29kchibisov18>	I'll assume it works on it?
T 1584705191 18<20danyspin9718>	it doesn't
T 1584705200 18<29kchibisov18>	lul
T 1584705234 18<29kchibisov18>	So when did it work last time?
T 1584705266 18<29kchibisov18>	this patch could be applied even on v0.4.0, just saying.
T 1584705284 18<20danyspin9718>	I don't know, it is the first time I check this hook :/
T 1584705313 18<29kchibisov18>	the problem is that it unsets the mode.
T 1584705319 18<29kchibisov18>	as you can see in a log.
T 1584705326 18<29kchibisov18>	Like it sets it and then unsets it.
T 1584705442 18<29kchibisov18>	Are you sure that it works at all and it's not an editor bug?
T 1584705508 18<20danyspin9718>	I was talking in #kakoune before and they said me it had to be on alacritty end :/ I can try on x11 on another system and check
T 1584705533 18<29kchibisov18>	this is not a problem in wayland, etc.
T 1584705546 18<29kchibisov18>	The problem that your editor resets mode.
T 1584705552 18<29kchibisov18>	so it sets mode and then resets.
T 1584705562 18<20danyspin9718>	alacritty receive the "focused" event so I guess that is not related to sway
T 1584705581 18<29kchibisov18>	As I said, the problem is on a different level.
T 1584705589 18<20danyspin9718>	give me 5 minutes and I try it on x11
T 1584705589 18<29kchibisov18>	it's not gui related, etc.
T 1584705593 18<29kchibisov18>	don't do that.
T 1584705597 18<29kchibisov18>	it's just a waste of time.
T 1584705610 18<20danyspin9718>	hmm okay
T 1584705650 18<29kchibisov18>	The problem in escape sequences from your editor.
T 1584705669 18<20danyspin9718>	Ah
T 1584705701 18<29kchibisov18>	So it send escape to enable Focus hook, and then disable it.
T 1584705722 18<29kchibisov18>	Read the log for ReportFocusInOut
T 1584705778 18<29kchibisov18>	So they are sending reset of this mode right away after setting it for whatever reason.
T 1584705814 18<29kchibisov18>	try echo -e "\e[?1004h", then `cat` and try to refocus.
T 1584705825 18<29kchibisov18>	you'll see this hook getting triggered.
T 1584705983 18<20danyspin9718>	I see
T 1584706060 18<29kchibisov18>	were you talking to them now?
T 1584706069 18<29kchibisov18>	your editor folks?
T 1584706070 18<20danyspin9718>	https://github.com/mawww/kakoune/blob/6766297623e9718db5b2b09bd655fe183acdcf67/src/ncurses_ui.cc#L1256
T 1584706076 18<20danyspin9718>	may this be related?
T 1584706096 18<29kchibisov18>	we have sgr mouse support.
T 1584709397 20*	Disconnected (20)
T 1584709424 19*	Now talking on 22#alacritty
T 1584709424 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584709424 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1584711652 20*	Disconnected (20)
T 1584711680 19*	Now talking on 22#alacritty
T 1584711680 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.1 - https://github.com/alacritty/alacritty/releases/tag/v0.4.1
T 1584711680 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Feb 16 20:20:48 2020)
T 1585816708 19*	Now talking on 22#alacritty
T 1585816708 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1585816708 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1585827497 20*	Disconnected (20)
T 1585827522 19*	Now talking on 22#alacritty
T 1585827522 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1585827522 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1585828505 20*	Disconnected (20)
T 1585828531 19*	Now talking on 22#alacritty
T 1585828531 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1585828531 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1585838564 20*	Disconnected (20)
T 1585838592 19*	Now talking on 22#alacritty
T 1585838592 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1585838592 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1585839269 18<29larsks18>	I've installed the "Fira Mono" font family on my system, and it's visible in other applications (e.g. as "Fira Mono Regular"), but trying to set font.normal.family to "Fira Mono" or "Fira Mono Regular" isn't working. Other fonts seem to work fine. Any thoughts on what I'm missing?
T 1585839302 18<29kchibisov18>	Could you should your config file?
T 1585839317 18<29kchibisov18>	show*
T 1585839418 18<29larsks18>	Sure, just a second.
T 1585839436 18<29kchibisov18>	Also, on what platform are you?
T 1585839512 18<29larsks18>	I'm on Fedora 31.  Config file is here: https://termbin.com/10ji
T 1585839537 18<29larsks18>	Normal font is currently set to "terminus" in that config.
T 1585839555 18<29kchibisov18>	Could you run `fc-list | grep -i fira`?
T 1585839641 18<29larsks18>	Sure, that gets: https://termbin.com/253s
T 1585839681 18<29kchibisov18>	Well it should be just `Fira Mono` in a config.
T 1585839707 18<29kchibisov18>	also, make sure to restart terminal if your font was added after terminal startup.
T 1585839713 18<29larsks18>	Yeah, that was my thought, too :)
T 1585839720 18<29larsks18>	I'll try restarting the terminal...
T 1585839774 18<29larsks18>	That was it. I didn't think that would be necessary. Thanks!
T 1585839792 18<29kchibisov18>	I mean it's only necessary in case the font was added after startup.
T 1585839833 18<29kchibisov18>	Like fontconfig just continues to report that it's not presented, etc.
T 1585839846 18<29kchibisov18>	But maybe we can do something about it.
T 1585861690 20*	Disconnected (20)
T 1585861719 19*	Now talking on 22#alacritty
T 1585861719 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1585861719 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1585868086 18<20lovesegfault18>	Hey everyone, thanks so much for all the work in the Alacritty 0.4.2 release
T 1585868094 18<20lovesegfault18>	Working flawlessly on NixOS
T 1585868103 18<20lovesegfault18>	Color emoji looks great
T 1585868123 18<20lovesegfault18>	ü¶Ä
T 1585868150 18<29kchibisov18>	nothing was changed in this regard from v0.4.1 to v0.4.2 though.
T 1585868172 18<29kchibisov18>	but thx.
T 1585868202 18<20lovesegfault18>	kchibisov: Well, they started working for me :D
T 1585868239 18<24UndeadLeech18>	kchibisov: Your font fallback was part of 0.4.2, right?
T 1585868239 18<20lovesegfault18>	And my cursor also no longer has potato res
T 1585871814 20*	Disconnected (20)
T 1585901200 19*	Now talking on 22#alacritty
T 1585901200 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1585901200 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1585901922 18<29kchibisov18>	noxid: this option is
T 1585901943 18<29kchibisov18>	noxid: this option is missunderstood by the users, we won't bring it back.
T 1585901982 18<27noxid18>	thanks for the reply
T 1585902122 18<29kchibisov18>	note, no terminal emulator allows this setting at all.
T 1585902201 18<19storm\18>	kchibisov: would it be possible to do a hour walkthrough of the code at somepoint to get me up to speed?
T 1585902210 18<19storm\18>	if thats something you would be comftable doing
T 1585902244 18<29kchibisov18>	I mean it depens on an issue you're trying to solve storm\ .
T 1585902276 18<19storm\18>	first issue ill solve is the locale we talked about for osx yesterday
T 1585902284 18<19storm\18>	but i would like to have some words attatched to the code base maybe
T 1585902303 18<19storm\18>	mostly because im new to rust, but deep knowledge in objc
T 1585902312 18<29kchibisov18>	well, for locale, you should be aware only about this single file.
T 1585902328 18<19storm\18>	yeah i know for THAT issue :)
T 1585902329 18<29kchibisov18>	and likely the code that is calling it.
T 1585902339 18<19storm\18>	but its more a breif overview of the project.
T 1585902346 18<19storm\18>	i plan to fix more than JUST that hehe.
T 1585902371 18<29kchibisov18>	I mean you can ask what you want to fix and we'll give more specific replies.
T 1585902390 18<19storm\18>	hehe okay, i think you are missing the point :)
T 1585902396 18<19storm\18>	its cool
T 1585902405 18<29kchibisov18>	I mean you can just read from main.rs
T 1585902425 18<19storm\18>	and thats missing the point again :)
T 1585902430 18<29kchibisov18>	and if your bug is in specific component of it, you can go there and read it.
T 1585902474 18<29kchibisov18>	Like our structure is pretty simple and you can use file names to understand how everything structured.
T 1585902510 18<19storm\18>	yeah ive been through it.
T 1585902530 18<29kchibisov18>	But in general, font is in font crate, alacritty is gui + rendering, alacritty_terminal is just terminal + PTY.
T 1585902613 18<19storm\18>	ill just ask about the coding releated questions and decisions then, no worries.
T 1585903923 18<29kchibisov18>	I mean it's hard to answer of an abstract questions.
T 1585903958 18<29kchibisov18>	Like if you want to implement feature X, I can likely give more information about it.
T 1585905997 18<20sidh18>	Greetings
T 1585906061 18<19storm\18>	Hey
T 1585909560 18<19Hamilton18>	Is there sth wrong with Alacritty right-click->copy or the problem is my setuo?
T 1585909976 18<25kchibisov_18>	Right click does nothing
T 1585910025 18<25kchibisov_18>	It doesn‚Äôt reset selection anymore, etc.
T 1585910027 18<19Hamilton18>	kchibisov_, oh select copies. Still sometime it doesn't work it seems...not sure
T 1585910054 18<25kchibisov_18>	I mean copy is select and LMB release
T 1585920452 18<22nixpulvis18>	Hey, catching up on PRs/issues today, had a surprise April 1st deadline lol.
T 1585920624 18<20sidh18>	I would need your advices : I installed alacritty on Hgh sierra osx and I installed alacritty-colorscheme, I downloded themes and when I run alacritty-colorscheme -C whereis/themes-dir -T, I got "Bad configuration file"
T 1585920684 18<20sidh18>	configuration file is retrived from alacritty git repo
T 1585920696 18<20sidh18>	is there a way to have log or debug
T 1585920749 18<22nixpulvis18>	I've honestly never heard of the tool `alacritty-colorscheme`.
T 1585920801 18<22nixpulvis18>	sidh: logging is done with -v, -vv, and -vvv. But config errors should report in the red error bar.
T 1585920820 18<22ifreund18>	me neither but i found a github repo https://github.com/toggle-corp/alacritty-colorscheme
T 1585920824 18<20sidh18>	https://github.com/toggle-corp/alacritty-colorscheme
T 1585920919 18<22nixpulvis18>	What's the config error?
T 1585920947 18<20sidh18>	ok so it is not alacritty itself , it is pure related to this third party tool
T 1585920958 18<22nixpulvis18>	I would assume so.
T 1585920976 18<20sidh18>	alacritty-colorscheme -C ~/.config/alacritty/.eendroroy-alacritty-theme/themes/ -t solarized_light.yaml solarized_dark.yaml
T 1585920994 18<20sidh18>	Bad configuration file.
T 1585921002 18<20sidh18>	that's all
T 1585921009 18<22ifreund18>	i'm really struggling to figure out why this is useful, how often do you change colorschemes?
T 1585921095 18<20sidh18>	ifreund: in fact I have 3 27" screens , and I vanted to try several coloscheme to avoid the headache due to those glossy screens
T 1585921144 18<20sidh18>	tipically balck background are not bearable
T 1585921148 18<20sidh18>	black
T 1585921210 18<22ifreund18>	ok, but you can just edit the alacritty config right? (i'd recommend solarized dark by the way, super easy on the eyes)
T 1585921439 18<22nixpulvis18>	I personally find copying and pasting and commenting my config to work pretty well for testing purposes.
T 1585921478 18<22nixpulvis18>	The main thing I've conosidered a tool for is switching between a light and dark theme, however that tool wouldn't need to be that complex... just a simple symlink update.
T 1585921570 18*	22nixpulvis still needs to find the time to make a color scheme based off #161616.
T 1585921590 18<22ifreund18>	yeah, it's a problem that's solved by a basic shell script, that python tool is like the definition of bloat
T 1585921622 18<22nixpulvis18>	most are
T 1585922164 18<22caveman18>	u guys need to add image viewing inside alacritty.
T 1585922178 18<29kchibisov18>	caveman: go ahead and add it.
T 1585922201 18<22caveman18>	got better things to do.
T 1585922209 18<29kchibisov18>	if you're just pinging us with 'you need to do X' it's not productive and just wasting our time.
T 1585922220 18<29kchibisov18>	and your time.
T 1585922238 18<22caveman18>	no.  i'm just giving u ideas.  u can ignore them.  i'm happy with st.  i am just being kind to share thoughts.
T 1585922254 18<22caveman18>	or re-inforcing ideas u had.
T 1585922263 18<22ifreund18>	no you're being a jerk
T 1585922269 18<29kchibisov18>	ifreund++
T 1585922280 18<22caveman18>	how so?
T 1585922289 18<24UndeadLeech18>	Also image rendering is mostly pointless in a terminal emulator.
T 1585922289 18<22caveman18>	now getting feedback means being a jerk?
T 1585922303 18<24UndeadLeech18>	You're not giving constructive feedback.
T 1585922306 18<29kchibisov18>	just read issue on github about image thing.
T 1585922313 18<22caveman18>	ifreund: the only jerk here is u right now.  calling someone 'jerk' for sharing on topic thoughts.
T 1585922375 18<22caveman18>	UndeadLeech: it's really useful and increases productivity.  specially that u r in the gpu accelerated business, pics is one of the main wins.
T 1585922388 18<24UndeadLeech18>	It's really not.
T 1585922408 18<22caveman18>	how to u browse images in ur directories?  open them by feh?  feh *?
T 1585922421 18<29kchibisov18>	this is how it should done?
T 1585922436 18<24UndeadLeech18>	I indeed do not use a program meant to render text to browser my images. Shocking, I know.
T 1585922461 18<29kchibisov18>	UndeadLeech: how are you even alive with such habbits?
T 1585922480 18<29kchibisov18>	oh, yeah, you're undead.
T 1585922501 18<24UndeadLeech18>	;)
T 1585922515 18<29kchibisov18>	anyway, browsing images in terminal seems a bit off tbh, however if there're will be a standard protocol to do so, we're fine with adding it.
T 1585922521 18<29kchibisov18>	for now there's only sixel.
T 1585922529 18<22caveman18>	for all the megs of rams u consume, u better render images.
T 1585922544 18<22caveman18>	u can't act like alacritty is some conservative terminal of the 80s, where it only renders text.
T 1585922557 18<22caveman18>	heck, even st terminal can render pics in it, and it is much more efficient than alacritty.
T 1585922567 18<24UndeadLeech18>	We can do whatever we want?
T 1585922575 18<24UndeadLeech18>	Seriously, stop being so toxic.
T 1585922575 18<29kchibisov18>	^
T 1585922585 18<22nixpulvis18>	^
T 1585922595 18<29kchibisov18>	if you don't like something just create your own terminal, I don't see a problem.
T 1585922599 18<22caveman18>	absolutely.  u can do watever u want.  including being a total dick to ppl who come here to kindly give u some thoughts.
T 1585922607 18<22nixpulvis18>	I'm not opposed to images in the terminal FWIW.
T 1585922609 22*	26UndeadLeech sets ban on 18*!*@cave.mn
T 1585922627 18<24UndeadLeech18>	Fucking hell, is it really so hard to be a decent person...
T 1585922650 18<24UndeadLeech18>	You'd think after getting banned from Kitty's github already, people would learn.
T 1585922653 18<22nixpulvis18>	like, search for the issue at least a little bit too...
T 1585922698 22*	26UndeadLeech has kicked 18caveman from 22#alacritty (24caveman)
T 1585922731 18<20sidh18>	ok I will uninstall it and put directly the color block
T 1585922775 18<22ifreund18>	sidh: if you want a nice collection of colorschemes to try out, check out this repo https://github.com/aaron-williamson/base16-alacritty
T 1585922799 18<28Yaniel18>	nixpulvis: tbh if someone asked for it with that attitude I'd oppose it purely out of spite
T 1585922838 18<29kchibisov18>	Yaniel: this is not the first time, they're just annoying.
T 1585922899 18<22nixpulvis18>	Yaniel: I wouldn't blame you... Though it's best to not take it out on the feature :P
T 1585922920 18<22nixpulvis18>	Yea, caveman has been doing this a bunch. Now he's DMing me....
T 1585922926 18<28Yaniel18>	classic
T 1585922931 18<28Yaniel18>	get banned, DM the mods
T 1585922961 18<28Yaniel18>	at least he's not stooping down to ban evasion
T 1585922976 18<28Yaniel18>	unlike someone on the opengl channel
T 1585922996 18<22nixpulvis18>	Apperently we're all "suicidal jerks".
T 1585922996 18<20sidh18>	ifreund: yes I cone those repo too
T 1585923015 18<29kchibisov18>	noice nixpulvis
T 1585923025 18<20sidh18>	I clone
T 1585926093 20*	Disconnected (20)
T 1585943436 19*	Now talking on 22#alacritty
T 1585943436 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1585943436 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1585943479 18<22nixpulvis18>	I mean, you could probably get unlucky and have the drive fucked.
T 1585943499 18<22nixpulvis18>	anything with sensitive internal state.... but I'd hope they could recover themselves.
T 1585943508 18<29kchibisov18>	Also, if you're using ext4 or some normal file system you're likely safe from powerloss.
T 1585943531 18<22nixpulvis18>	well, "safe". No direct corruption.
T 1585943532 18<20ShinyRice18>	yeah I use basic bitch ext4
T 1585943559 18<20ShinyRice18>	is f2fs worth using?
T 1585943568 18<29kchibisov18>	ext4 is fine for powerloss.
T 1585943576 18<29kchibisov18>	like it can handle it just fine.
T 1585943589 18<29kchibisov18>	unless you've disabled journaling.
T 1585943612 18<22nixpulvis18>	yea, you just lose a little more data.
T 1585943613 18<29kchibisov18>	and some other stuff that 'improves performance'.
T 1585943693 18<22nixpulvis18>	god damn it, I don't want to buy new shit... but now's the time to upgrade to AMD.
T 1585943712 18<22nixpulvis18>	and knowing my luck my nvidia card isn't going to play nice.
T 1585943796 18<29kchibisov18>	just hope that it's not dead.
T 1585943810 18<22nixpulvis18>	it's not. I'm pretty sure
T 1585943828 18<22nixpulvis18>	EVGA makes their shit tight!
T 1585945558 20*	Disconnected (20)
T 1585953114 19*	Now talking on 22#alacritty
T 1585953114 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1585953114 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1585953988 18<22nixpulvis18>	yea sadly. even the indicator light doesn't show up on the mobo anymore.
T 1585954009 18<22nixpulvis18>	The PSU passes "self test", and the GPU clearly gets power during that time (side LEDs come on).
T 1585954418 18<24UndeadLeech18>	You've tried clearing CMOS, right?
T 1585954620 18<24UndeadLeech18>	I've had really strange issues with motherboards that were seemingly not doing anything until I tried resetting them.
T 1585989369 19*	Now talking on 22#alacritty
T 1585989369 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1585989369 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1585992553 18<19Hamilton18>	It happened again, `select->copy to clipboard` does not always work.
T 1585998109 20*	Disconnected (20)
T 1585998418 19*	Now talking on 22#alacritty
T 1585998418 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1585998418 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586005914 18<24andi_18>	-00O\
T 1586005917 18<24andi_18>	']'
T 1586005929 18<29kchibisov18>	Hm?
T 1586005943 18<24andi_18>	']=0']][\\[]['[//
T 1586007586 20*	Disconnected (20)
T 1586016710 20*	Disconnected (20Connection timed out)
T 1586016738 19*	Now talking on 22#alacritty
T 1586016738 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586016738 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586019973 20*	Disconnected (20)
T 1586020002 19*	Now talking on 22#alacritty
T 1586020002 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586020002 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586020485 18<20cole-h18>	UndeadLeech: Since we don't want a description of the escape sequences on that wiki, would it be a good idea to add a link to XTerm or whatever that page was that describes them all?
T 1586020746 18<24UndeadLeech18>	https://github.com/alacritty/alacritty/wiki/ANSI-References
T 1586020769 18<20cole-h18>	Oh right
T 1586020771 18<20cole-h18>	:D
T 1586021586 18<19DusXMT18>	I wonder, how are the dim colors typically used? / how can I test them?
T 1586021744 18<29kchibisov18>	echo -e "\e[31;2mhello"
T 1586021751 18<29kchibisov18>	should be dim red
T 1586022754 18<19DusXMT18>	Indeed, thanks :)
T 1586024338 20*	Disconnected (20)
T 1586024366 19*	Now talking on 22#alacritty
T 1586024366 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586024366 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586034030 20*	Disconnected (20)
T 1586034075 19*	Now talking on 22#alacritty
T 1586034075 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586034075 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586034127 18<29kchibisov18>	what background opacity setting do you have in alacritty?
T 1586034240 18<28saber118>	kchibisov: 0.95
T 1586034261 18<29kchibisov18>	could you try 0.0, idk.
T 1586034265 18<29kchibisov18>	it should work.
T 1586034688 18<29kchibisov18>	I'd also recommend to try without empty compton config.
T 1586034834 18<28saber118>	kchibisov: it's working now, turned my background image was too dark, so I didn't notice it was transparent, silly me..thanks for the help
T 1586035200 18<20wma18>	any idea about why scrolling a TUI with mouse causes flicker but scrolling with keyboard doesn't?
T 1586035207 18<20wma18>	things like manpages, weechat
T 1586035221 18<29kchibisov18>	depends on your intense and how the app is handling it.
T 1586035238 18<29kchibisov18>	but basically the problem is in how applications are writing content.
T 1586035290 18<29kchibisov18>	if it updates content with multiple writes you can see a flicker sometimes.
T 1586035298 18<29kchibisov18>	since we can render it in the middle of update.
T 1586035344 18<29kchibisov18>	We don't know app's content update status, so we're just drawing all the time without any delay.
T 1586035353 18<20wma18>	I'll test lowering the mouse scroll step to 1
T 1586035451 18<29kchibisov18>	note, one way to solve this thing is to delay rendering.
T 1586035459 18<29kchibisov18>	which is not an option.
T 1586035477 18<29kchibisov18>	this thing is done by a lot of terminal emulators IIRC, which is just wrong.
T 1586035642 18<20wma18>	yes, I think this flickering didn't happen with kitty
T 1586035695 18<29kchibisov18>	yeah, even xterm has like 22ms of delay IIRC.
T 1586035736 18<29kchibisov18>	The one solution that makes sense is syncronized updates.
T 1586035764 18<29kchibisov18>	However it requires application support.
T 1586035770 18<29kchibisov18>	and a terminal.
T 1586035777 18<29kchibisov18>	but this thing is something reliable.
T 1586038276 18*	29kchibisov was thinking that alacritty was freezing on focus change, but he was accidentally using 1.25 thickness for cursor from some old experiment, so HollowBlock cursor was just block cursor.
T 1586038287 18<29kchibisov18>	it took me like 30 minutes to realize that.
T 1586038482 18<24UndeadLeech18>	lol
T 1586038546 18<29kchibisov18>	I really wonder how long it takes us to roundtrip to winit.
T 1586038557 18<24UndeadLeech18>	Roundtrip for what?
T 1586040135 20*	Disconnected (20)
T 1586040161 19*	Now talking on 22#alacritty
T 1586040161 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586040161 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586040341 18<29kchibisov18>	Oh, god, winit can't work in pair with frame callbacks properly.
T 1586040353 18<24UndeadLeech18>	Hm?
T 1586040357 18<29kchibisov18>	it blows up.
T 1586040365 18<24UndeadLeech18>	You mean with them in Alacritty?
T 1586040371 18<29kchibisov18>	yeah.
T 1586040377 18<29kchibisov18>	it just sends shit ton of stupid events.
T 1586040392 18<29kchibisov18>	like their redraw requested logic just explodes
T 1586040422 18<29kchibisov18>	it's a constant spam of events, etc.
T 1586040533 18<29kchibisov18>	but it works so good with frame callbacks tbh.
T 1586040560 18<29kchibisov18>	like resize glitches are solved with them.
T 1586040577 18<29kchibisov18>	but yeah, I should investigate why winit blows up when I'm using them.
T 1586040599 18<29kchibisov18>	I feel like the problem is that I dispatch_queue each time in run_return;
T 1586040607 18<29kchibisov18>	and it triggers redraw_requested for me.
T 1586040817 18<29kchibisov18>	So I guess I should make it in winit.
T 1586040829 18<29kchibisov18>	like this even spam isn't good.
T 1586040984 18<29kchibisov18>	yeah, I'll publish PR, just for some folks to try it, but I'll should add it into winit.
T 1586041043 18<29kchibisov18>	since it fixes glitches + updates.
T 1586041051 18<29kchibisov18>	I mean offscreen updates.
T 1586041172 18<24UndeadLeech18>	Resize glitches shouldn't matter anymore. I've decided I'm just going to remove the ability to resize from X/Wayland/Windows/macOS.
T 1586041179 18<24UndeadLeech18>	That would make things a lot easier.
T 1586041183 18<29kchibisov18>	true.
T 1586041633 18<29kchibisov18>	though we
T 1586041646 18<29kchibisov18>	though, we'll have special flag to redraw on wayland anyway.
T 1586041678 18<29kchibisov18>	Like you're setting dirty in it right now, which is kind of true, but on Wayland, you can't draw without it.
T 1586041717 18<29kchibisov18>	so you'll have one bool flag anyway.
T 1586042794 18<29kchibisov18>	btw, I can't repo any glitches due to partical write on my branch.
T 1586042803 18<29kchibisov18>	or they are really hard.
T 1586042926 18<29kchibisov18>	Well, actually only on resize it's possible right now.
T 1586042948 18<29kchibisov18>	Like when I fullscreen vim I see this kind of flicker.
T 1586043601 18<24UndeadLeech18>	Okay, I think I'll move the cursors on the grid, then pass a callback to reflow, remove rotation of selection from grid by moving selection to term and hopefully that'll be semi clean.
T 1586043622 18<29kchibisov18>	Reflow callbacks oO
T 1586043646 18<24UndeadLeech18>	Just something simple, like passing a closure to reflow which is called when a line is added/removed.
T 1586043667 18<24UndeadLeech18>	Instead of passing points. So that we can keep all the logic in that closure instead of having to iterate over the points in reflow.
T 1586043688 18<24UndeadLeech18>	I might make it a trait and store selection/vi cursor on a struct implementing it.
T 1586043741 18<24UndeadLeech18>	It's mostly to prevent havig to add a for loop to reflow for every time any of the points is modified, hopefully keeping it a bit cleaner.
T 1586043785 18<24UndeadLeech18>	And storing the points on grid means we don't need to search the points for the smallest line to determine rotation.
T 1586043926 18<29kchibisov18>	I really wonder how atomics should be done in a most performant way.
T 1586043931 18<29kchibisov18>	like I feel like mutex was better for me.
T 1586043979 18<24UndeadLeech18>	What do you mean?
T 1586043994 18<29kchibisov18>	I mean I feel like I'm messing up order from time to time.
T 1586043994 18<24UndeadLeech18>	Atomics should be pretty fast, you just using store/load with relaxed ordering?
T 1586044010 18<24UndeadLeech18>	Which ordering do you use?
T 1586044109 18<29kchibisov18>	Acquire for load and Release for store.
T 1586044117 18<29kchibisov18>	I feel like I should use Relaxed for store.
T 1586044123 18<24UndeadLeech18>	Have you tried relaxed for everything, just for testing?
T 1586044132 18<29kchibisov18>	load can't use relaxed
T 1586044154 18<29kchibisov18>	Oh, I'm wrong.
T 1586044159 18<29kchibisov18>	It could use Relaxed.
T 1586044165 18<29kchibisov18>	I've read it in a wrong way.
T 1586044213 18<29kchibisov18>	let me try relaxed.
T 1586044376 18<24UndeadLeech18>	I mean SeqCst is probably the least error prone I'd assume.
T 1586044399 18<29kchibisov18>	I thought about that, but I only read.
T 1586044407 18<29kchibisov18>	And stores should be before.
T 1586044426 18<29kchibisov18>	I mean I store pretty rare, and the other time I just read it.
T 1586044500 18<24UndeadLeech18>	SeqCst is the slowest, so probably shouldn't be used unless you really need it.
T 1586044541 18<29kchibisov18>	I feel like I'm fine with relaxed tbh.
T 1586044557 18<24UndeadLeech18>	That's usually how I feel too.
T 1586044600 18<24UndeadLeech18>	Especially because wrapping my head around that gets me confused literally every single time I use it.
T 1586044613 18<24UndeadLeech18>	So I mostly just end up trial and erroring my way through.
T 1586044829 18<29kchibisov18>	However I'm not really sure that it was a right thing to use Relaxed.
T 1586044839 18<29kchibisov18>	just logically I need Release + Acquire
T 1586044918 FiSHLiM plugin unloaded
T 1586509191 19*	Now talking on 22#alacritty
T 1586509191 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586509191 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586516312 20*	Disconnected (20)
T 1586516951 19*	Now talking on 22#alacritty
T 1586516951 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586516951 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586524454 20*	Disconnected (20)
T 1586524483 19*	Now talking on 22#alacritty
T 1586524483 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586524483 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586525948 18<24UndeadLeech18>	hahuang65: Font fallback is done using your system font configuration.
T 1586530588 18<28ubitux18>	http://b.pkh.me/s/2020-04-10-165604_598x421_scrot.png i wonder if it's possible to have a color palette respecting the semantic where everything is always readable
T 1586530707 18<28ubitux18>	typically: magenta/red, yellow/green
T 1586530730 18<28ubitux18>	sometimes black on blue
T 1586542767 20*	Disconnected (20)
T 1586542801 20*	Disconnected (20Remote host closed socket)
T 1586542828 19*	Now talking on 22#alacritty
T 1586542828 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586542828 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586554077 20*	Disconnected (20)
T 1586554281 19*	Now talking on 22#alacritty
T 1586554281 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586554281 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586559867 20*	Disconnected (20)
T 1586560032 20*	Disconnected (20Remote host closed socket)
T 1586560078 20*	Disconnected (20Remote host closed socket)
T 1586560106 19*	Now talking on 22#alacritty
T 1586560106 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586560106 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586566887 20*	Disconnected (20)
T 1586591601 19*	Now talking on 22#alacritty
T 1586591601 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586591601 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586594332 18<19Hamilton18>	How to spawn an alacritty window with a start command and make it stick? alacritty -r "ls" disappers after running the command
T 1586594430 18<19Hamilton18>	I'm not looking for a keybinding inside alacritty but a switch for alacritty cli app to run a new instance, execute a command and stay there
T 1586594547 18<29kchibisov18>	Hamilton: --hold.
T 1586594554 18<29kchibisov18>	type --help for help.
T 1586594665 18<19Hamilton18>	kchibisov, okay it holds but I can't interact with it any further
T 1586594682 18<29kchibisov18>	yes, because you've told it do so.
T 1586594700 18<19Hamilton18>	I'm using a wm. I want a certain key to 1- launch alacritty 2- execute a start command 3- let me do other things with it
T 1586594729 18<29kchibisov18>	just run your shell and make it run things?
T 1586594768 18<29kchibisov18>	other things means shell, not just command.
T 1586594787 18<29kchibisov18>	Hold is only useful, if you're running app and want to keep output.
T 1586594818 18<19Hamilton18>	exec "alacritty" && "ls"?
T 1586594905 18<29kchibisov18>	alacritty -e sh -c "ls; exec sh"
T 1586594977 18<19Hamilton18>	Thanks https://unix.stackexchange.com/a/82783/306382
T 1586595523 18<19Hamilton18>	kchibisov, https://pastebin.com/sXa7Kxg9
T 1586595539 18<19Hamilton18>	xfce4-terminal works (with an error) but alacritty doesn't spawn
T 1586595575 18<29kchibisov18>	Do you see "" things in my example?
T 1586595595 18<29kchibisov18>	I mean to quote the entire thing.
T 1586595605 18<29kchibisov18>	like you shouldn't use it, since it's one argument.
T 1586595613 18<19Hamilton18>	alacritty -e "bash -c 'ls;exec $SHELL'"
T 1586595623 18<29kchibisov18>	should be alacritty -e bash -c 'ls;exec $SHELL'
T 1586595645 18<19Hamilton18>	so -e is not like exec ""
T 1586595650 18<29kchibisov18>	yes.
T 1586595657 18<29kchibisov18>	we're not launching it in shell by default.
T 1586595671 18<29kchibisov18>	like it's a command with arguments.
T 1586595719 18<19Hamilton18>	*sigh* now it works but no scroll up :)
T 1586595756 18<19Hamilton18>	It's okay. Doesn't matter. Thanks
T 1586595776 18<29kchibisov18>	what do you mean by `scroll up`?
T 1586595991 18<19Hamilton18>	kchibisov, if ls is long, it just shows the final 4 lines or sho
T 1586596022 18<29kchibisov18>	works for me?
T 1586596031 18<29kchibisov18>	I can scroll, etc.
T 1586596092 18<29kchibisov18>	So your prompt should be in the bottom of the screen if your output is too long.
T 1586596235 18<29kchibisov18>	Well if you can repro everytime I can debug this thing.
T 1586596394 18<29kchibisov18>	Just set history value in config to some value like 300 and do `alacritty --ref-test -e sh -c "ls -lah; ls -lah; exec sh"`
T 1586596414 18<29kchibisov18>	it should create 4 files, and I need only alacritty.recording from them.
T 1586597284 18<19Hamilton18>	kchibisov, I did a 4 ls -lah it works. It was printing everything. I thought I was doing a ls -a instead
T 1586597318 18<19Hamilton18>	and ls -a scrolls properly also
T 1586597849 18<19Hamilton18>	kchibisov, What distro/DE/wm do you yourself use?"
T 1586597864 18<29kchibisov18>	gentoo + sway
T 1586597870 18<19Hamilton18>	oof
T 1586597892 18<19Hamilton18>	kchibisov, On a laptop?
T 1586597952 18<29kchibisov18>	yeah, and on a desktop.
T 1586626012 18<24UndeadLeech18>	kchibisov: Oh, looks like GitHub stored my previous review...
T 1586626040 18<24UndeadLeech18>	That's a bit strange.
T 1586626282 18<24UndeadLeech18>	Not sure if that's a bug or a feature.
T 1586635058 18<29kchibisov18>	I wonder if we can have one thread around to do various kind of strange things to not block alacritty.
T 1586635065 18<29kchibisov18>	and a channel to send requests to it.
T 1586635093 18<29kchibisov18>	e.g. launching commands, etc.
T 1586635117 18<29kchibisov18>	clipboard interop.
T 1586635123 18<24UndeadLeech18>	Seems easier to just spawn them and get rid of them.
T 1586635132 18<24UndeadLeech18>	Since 99% of the time there won't be one.
T 1586635143 18<29kchibisov18>	yeah, but what if you spawm a ton of them.
T 1586635156 18<29kchibisov18>	like imagine triggers proposal + bell spam.
T 1586635220 18<29kchibisov18>	Though, I haven't measured if it's slow or not tbh.
T 1586636067 18<24UndeadLeech18>	Even then it wouldn't be a big deal.
T 1586636077 18<24UndeadLeech18>	That's not 'a ton' when it comes to threads.
T 1586638684 20*	Disconnected (20)
T 1586639218 19*	Now talking on 22#alacritty
T 1586639218 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586639218 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586639494 20*	Disconnected (20)
T 1586639514 19*	Now talking on 22#alacritty
T 1586639514 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586639514 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586639957 20*	Disconnected (20Connection reset by peer)
T 1586639978 19*	Now talking on 22#alacritty
T 1586639978 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586639978 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586644261 20*	Disconnected (20)
T 1586644287 19*	Now talking on 22#alacritty
T 1586644287 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586644287 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586645365 18<29kchibisov18>	Ok, I'm tired of that shit, time to install macOS.
T 1586645491 20*	Disconnected (20)
T 1586645577 20*	Disconnected (20Remote host closed socket)
T 1586645629 20*	Disconnected (20Remote host closed socket)
T 1586645681 20*	Disconnected (20Remote host closed socket)
T 1586645711 19*	Now talking on 22#alacritty
T 1586645711 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586645711 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586646141 18<22ifreund18>	maybe that says something about the average mac user
T 1586646166 18<29kchibisov18>	The problem that it prevents me from fixing other shit.
T 1586646206 18<29kchibisov18>	Like if I want to create new API + test that things will work on macOS with it, it just won't be done by someone else.
T 1586646272 18<29kchibisov18>	Just hope that qemu boots up
T 1586646670 18<24UndeadLeech18>	kchibisov: Which issue specifically?
T 1586646679 18<29kchibisov18>	just pick random font issue.
T 1586646696 18<29kchibisov18>	and pick random macOS winit issue.
T 1586646724 18<24UndeadLeech18>	I mean the same could be said about Windows.
T 1586646745 18<29kchibisov18>	On Windows we have davidhewitt.
T 1586646761 18<29kchibisov18>	and everything is mostly done on Windows font's side.
T 1586646784 18<29kchibisov18>	and winit even has Windows maintainers from time to time and more folks around.
T 1586646800 18<24UndeadLeech18>	It has more macOS maintainers at the moment tbh.
T 1586646807 18<24UndeadLeech18>	At least from my last experiences.
T 1586646814 18<29kchibisov18>	macOS has 0 maintainers.
T 1586646833 18<24UndeadLeech18>	Who maintains Windows?
T 1586646838 18<29kchibisov18>	osspial.
T 1586646877 18<24UndeadLeech18>	Is he contributing again?
T 1586646900 18<29kchibisov18>	I'm not sure tbh, but Windows backend is way more stable than macOS tbh.
T 1586646903 18<29kchibisov18>	in winit.
T 1586646928 18<24UndeadLeech18>	I'm relatively familiar with both and I'm not sure I agree with it from a code perspective.
T 1586646959 18<29kchibisov18>	Windows is at least testable without issues.
T 1586647003 18<29kchibisov18>	idk, let me try to setup qemu.
T 1586647250 18<24UndeadLeech18>	You mean macOS?
T 1586647260 18<29kchibisov18>	yeah, macOS in qemu.
T 1586647591 18<22Hexi18>	greetings, I am trying to set a keybind for increasing font size as the defaults do not map to anything usable on my keyboard. In the config I have added 'key: Caret' in the appropriate place but it does not work. That key generates the ^ symbol when pressed but in xev it reports as 'asciicircum' rather than 'carat'
T 1586647621 18<22Hexi18>	But if I set it to 'asciicircum' I get a red error message immediately with a list of keys and that one not being in the list.
T 1586647776 18<24UndeadLeech18>	Hexi: Use `alacritty --print-events` to get the key names used by Alacritty.
T 1586647796 18<24UndeadLeech18>	You'll have to look at the `WindowEvent`s in the output.
T 1586647808 18<22Hexi18>	oh, great tip, I will give that a try, thanks!
T 1586647984 18<22Hexi18>	much sadness, that key returns virtual_keycode: None
T 1586648006 18<29kchibisov18>	you can bind by scancode.
T 1586648027 18<22Hexi18>	oh I see it has scancode 13, I will try
T 1586648049 18<22Hexi18>	yes that works! thank you so much
T 1586651435 18<29kchibisov18>	UndeadLeech: it works.
T 1586651625 18<24UndeadLeech18>	Alacritty in macOS VM you mean?
T 1586651635 18<29kchibisov18>	yes.
T 1586651642 18<24UndeadLeech18>	Question is for how long.
T 1586651654 18<24UndeadLeech18>	But yeah, that's what I did for macOS testing before I got hardware.
T 1586651670 18<24UndeadLeech18>	Until it broke.
T 1586651682 18<29kchibisov18>	If you won't touch this scam, I hope it won't break.
T 1586652585 18<24UndeadLeech18>	That's what I thought.
T 1586652590 18<29kchibisov18>	:- )
T 1586653628 18<29kchibisov18>	macOS in qemu seems to work faster than native macOS.
T 1586653685 18<29kchibisov18>	but anyway, let me try to debug those font issues.
T 1586653728 18<29kchibisov18>	also, UndeadLeech have you ever checked whether color you set in alacritty actually matches the color you'll get from color picker later.
T 1586653951 18<24UndeadLeech18>	Yes?
T 1586653970 18<29kchibisov18>	So I'll just ignore wierd color mismatch for now.
T 1586654010 18<29kchibisov18>	Also, have you checked that default color for background in terminal.app matches the color in a config.
T 1586654015 18<24UndeadLeech18>	Are you testing with text or background?
T 1586654022 18<29kchibisov18>	background
T 1586654035 18<24UndeadLeech18>	Why would I check Terminal.app background?
T 1586654054 18<29kchibisov18>	Just to check that its color value for background differs from the color specified.
T 1586654058 18<24UndeadLeech18>	I've never used Terminal.app.
T 1586654078 18<24UndeadLeech18>	It does, depending on color configuration.
T 1586654088 18<29kchibisov18>	IIRC they use some weird color speculation
T 1586654125 18<24UndeadLeech18>	I mean in theory that exists on other platforms too.
T 1586654529 18<29kchibisov18>	It seems like live font size reload is broken on macOS, right?
T 1586654545 18<29kchibisov18>	Oh, nvm.
T 1586654566 18<29kchibisov18>	I forget our semantic, that if you ever changed it, it won't work.
T 1586654596 18<24UndeadLeech18>	What do you mean?
T 1586654598 18<24UndeadLeech18>	Oh, the font size.
T 1586654598 18<29kchibisov18>	yeah.
T 1586654598 18<24UndeadLeech18>	It will work when you reset it.
T 1586654625 18<29kchibisov18>	I don't see unicode issue on `cat /dev/urandom` tbh
T 1586654641 18<29kchibisov18>	like it's not freezing, at least.
T 1586654652 18<29kchibisov18>	testing urw is pretty hard, since it's a vm without real gpu.
T 1586655084 18<24UndeadLeech18>	I don't think any performance tests will be useful.
T 1586655104 18<29kchibisov18>	I can always compare to asrw perf.
T 1586655120 18<29kchibisov18>	like numbers doesn't matter, but diff in render time could matter.
T 1586655168 18<24UndeadLeech18>	They do matter though if you're bottlenecked by a path that is never a bottleneck on a normal machine.
T 1586655247 18<29kchibisov18>	I mean they correlate with my linux machine tbh.
T 1586655313 18<29kchibisov18>	Like ~12-16x difference in render time on asrw/urw
T 1586655333 18<29kchibisov18>	I mean asrw is 12-16x faster on average in render times than urw on both machines.
T 1586655390 18<29kchibisov18>	the problem is that on macOS it's 12ms and 100ms, but on linux it's something like 130usec and 2.3ms
T 1586655526 18<24UndeadLeech18>	130usec and 2.3ms are both lower than FPS though, while 100ms is not and even 12ms is getting close.
T 1586655550 18<29kchibisov18>	I mean it's a vm inside on qemu without GPU
T 1586655555 18<24UndeadLeech18>	So you're suddenly bottlenecked by rendering, while normal machines shouldn't be.
T 1586655573 18<29kchibisov18>	The thing I care about is render time.
T 1586655581 18<29kchibisov18>	I don't care about the time to run benchmark.
T 1586655591 18<29kchibisov18>	so I look only on render times here.
T 1586655591 18<24UndeadLeech18>	I mean fair enough, I'm not saying there is absolutely no point.
T 1586655626 18<29kchibisov18>	Also, macOS seems to do similar things in a font crate.
T 1586655645 18<29kchibisov18>	e.g. iterate over fallback fonts, etc.
T 1586655653 18<24UndeadLeech18>	I mean it's fonts, there's not that much that can be done differently.
T 1586655670 18<29kchibisov18>	I only care about fonts.
T 1586655680 18<29kchibisov18>	I mean that I want to fix only fonts on macOS.
T 1586655983 18<29kchibisov18>	storm\: are you around?
T 1586657168 18<29kchibisov18>	Anyway, I need someone with macOS + kitty to test one thing for me.
T 1586657380 18<24UndeadLeech18>	What do you need tested, I might be able to look into it tomorrow?
T 1586657384 18<24UndeadLeech18>	Assuming you mean native macOS?
T 1586657404 18<29kchibisov18>	Oh, actually I can test kitty myself.
T 1586657421 18<29kchibisov18>	I forgot that I actually have macOS.
T 1586657433 18<24UndeadLeech18>	lol
T 1586657435 18<29kchibisov18>	the problem that it looks like shit on my system, so debugging font quality is hard.
T 1586657442 18<24UndeadLeech18>	What do you want to look into?
T 1586657453 18<29kchibisov18>	thin_strokes thing
T 1586657484 18<29kchibisov18>	AFAICKS kitty is using CGContextSetLineWidth to impl it.
T 1586657520 18<29kchibisov18>	iterm has a shit ton of strange heuristic based logic to handle fonts.
T 1586657798 18<29kchibisov18>	Oh, I can't test it.
T 1586657808 18<29kchibisov18>	it requires OpenGL 4.0+ I guess.
T 1586657823 18<24UndeadLeech18>	Great.
T 1586657826 18<29kchibisov18>	Like it crashes with GL error on start.
T 1586657836 18<29kchibisov18>	and they blame us for OpenGL 3.3
T 1586657887 18<29kchibisov18>	ok, let me try to understand iterm code a bit more, and I'll post the thing I want to test.
T 1586658481 20*	Disconnected (20)
T 1586673399 19*	Now talking on 22#alacritty
T 1586673399 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586673399 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586674741 20*	Disconnected (20)
T 1586676955 19*	Now talking on 22#alacritty
T 1586676955 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586676955 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586678266 18<20lovesegfault18>	kchibisov: You around?
T 1586678274 18<29kchibisov18>	yeah.
T 1586678335 18<20lovesegfault18>	I can't open any windows with winit 0.22 on Wayland, do none of the examples do anything?
T 1586678348 18<20lovesegfault18>	They run, don't crash or anything, but no window comes up
T 1586678356 18<29kchibisov18>	you should draw.
T 1586678381 18<29kchibisov18>	so you should test glutin examples, and not winit examples, since winit isn't drawing.
T 1586678395 18<20lovesegfault18>	So, I was trying to test this https://github.com/parasyte/pixels/pull/60
T 1586678414 18<20lovesegfault18>	it explodes on wayland, with Xwayland it works
T 1586678430 18<20lovesegfault18>	c.f. https://gist.github.com/0e38722940d17caeb4a9fd84cd6ec394
T 1586678450 18<20lovesegfault18>	I _think_ it's a bug in smithay?
T 1586678500 18<29kchibisov18>	idk, let me run your thing.
T 1586678556 18<29kchibisov18>	let me make some coffee. I'll be right back to you in like 15 mins.
T 1586678562 18<20lovesegfault18>	I'm trying the wgpu examples rn
T 1586678565 18<20lovesegfault18>	let's see
T 1586678612 18<20Levanx18>	I think you're hitting https://github.com/rust-windowing/winit/issues/793
T 1586678730 18<20lovesegfault18>	yep
T 1586678840 18<20lovesegfault18>	Levanx: Ah, yes, indeed
T 1586678850 18<20lovesegfault18>	Goddamn
T 1586678869 18<20lovesegfault18>	kchibisov: how does Alacritty not hit this?
T 1586678900 18<20lovesegfault18>	https://github.com/alacritty/alacritty/issues/2714
T 1586678901 18<20lovesegfault18>	oh
T 1586678909 18<20lovesegfault18>	But how does it work otherwise?
T 1586678917 18<20Levanx18>	(btw, fixing this is more a matter of deciding what winit should do than a technical problem)
T 1586678960 18<20lovesegfault18>	Yeah, I see that
T 1586679225 18<29kchibisov18>	yeah, the only way to hit that is Fullscreen startup mode.
T 1586679229 18<29kchibisov18>	in alacritty.
T 1586679247 18<29kchibisov18>	but you can launch normal things just fine.
T 1586679301 18<29kchibisov18>	I feel like the only way to solve more
T 1586679323 18<29kchibisov18>	more major issues like that is to port to a new SCTK and then fix them.
T 1586679422 18<29kchibisov18>	I feel like it's time to start porting winit to a newer SCTK.
T 1586679487 18<29kchibisov18>	Though, I should fix some minor issues first, but they won't be merged unless Levanx will press the button.
T 1586679525 18<20Levanx18>	You mean the winit maintainership is basically dead now ? :/
T 1586679535 18<29kchibisov18>	kind of.
T 1586679543 18<29kchibisov18>	so you can press the button, and I can send patches to winit.
T 1586679557 18<29kchibisov18>	Or we can fork winit and maintain it in alacritty.
T 1586679562 18<20lovesegfault18>	kchibisov: How do you open a window not-fullscreen?
T 1586679573 18*	20lovesegfault wonders why pixels is opening fullscreen
T 1586679580 18<20Levanx18>	welp
T 1586679597 18<20Levanx18>	I guess I can. But ping me for review then, I disabled general notifications for winit.
T 1586679601 18<29kchibisov18>	Like I'm fine with maintaining Wayland in winit, since alacritty requires it.
T 1586679630 18<29kchibisov18>	Like I don't see any reason to not use winit, but gentz was away for 2 months.
T 1586679650 18<29kchibisov18>	and osspial for a similar amount of time.
T 1586679678 18<29kchibisov18>	And other folks won't merge my shit, since it's not their platform.
T 1586679701 18<20lovesegfault18>	That's sad :/
T 1586679718 18<29kchibisov18>	But as I said, we can fork it in alacritty.
T 1586679729 18<29kchibisov18>	that's not a problem and was discussed already.
T 1586679752 18<20Levanx18>	lovesegfault: Winit is, as a whole, a pretty unrewarding thing to maintain tbh
T 1586679768 18<29kchibisov18>	like winit is just a wrapper, while we have smithay project it'll be fine.
T 1586679896 18<29kchibisov18>	lovesegfault: you shouldn't set any mods when launching.
T 1586679970 18*	20lovesegfault looks
T 1586680038 18<29kchibisov18>	Levanx: if you don't want to spend your time reviewing random winit stuff let me know, we'll likely fork it right away then. But I don't see anyone besides me who can maintain Wayland in winit.
T 1586680061 18<20lovesegfault18>	kchibisov: I don't think I'm setting anything? https://github.com/lovesegfault/pixels/blob/update-deps/examples/conway/main.rs#L18-L19
T 1586680087 18<20lovesegfault18>	kchibisov: Have you consider asking for a commit bit instead?
T 1586680108 18<29kchibisov18>	No, but there's no one I can ask for it.
T 1586680127 18<29kchibisov18>	unless everyone in winit has equal ownership.
T 1586680136 18<20lovesegfault18>	OH
T 1586680139 18<20lovesegfault18>	I see the issue
T 1586680153 18<29kchibisov18>	like osspial should be the boss, I guess, but I don't see them.
T 1586680154 18<29kchibisov18>	and gentz.
T 1586680202 18<20Levanx18>	kchibisov: If it's just reviewing & merging a few technical PRs, that's fine.
T 1586680236 18<20Levanx18>	I just don't want to be dragged into yet another long debate about API design abstracting over multiple platforms ._.
T 1586680355 18<20Levanx18>	I already restarted the momentum when francesca left, leading to the shared maintainership we had until now. I don't really want to do that a second time tbqh :/
T 1586680461 18<29kchibisov18>	lovesegfault: let me debug your thing.
T 1586680593 18<29kchibisov18>	Oh, I've got the issue.
T 1586680625 18<29kchibisov18>	yeah, they are calling to monitor too early.
T 1586680643 18<29kchibisov18>	I absolutely hate what they are doing so.
T 1586680761 18<20lovesegfault18>	kchibisov: Yeah, did you find they part where they draw the hidden window to figure out a good size?
T 1586680820 18<29kchibisov18>	yeah, they are doing shit.
T 1586680837 18<29kchibisov18>	like this code is just bad and won't work..
T 1586680852 18<29kchibisov18>	first of all `set_inner_size` doesn't guarantee you anything.
T 1586680876 18<29kchibisov18>	set_outer_position is not a thing on some systems.
T 1586680928 18<29kchibisov18>	Also, on HiDPI system, initial scale factor is always 1.
T 1586680936 18<29kchibisov18>	so you'll resize anyways.
T 1586681003 18<20lovesegfault18>	oh jesus the mouse handling is all fucked
T 1586681014 18<29kchibisov18>	I'll propose to just use scale factor instead of monitor dimensions magic, since THERE'S NO GUARANTEE THAT THEY ARE CORRECT.
T 1586681023 18<20lovesegfault18>	if you run and try and do line a drag (i.e. draw a line)
T 1586681064 18<29kchibisov18>	like just use scale factor and don't be smart.
T 1586681080 18*	20lovesegfault nods
T 1586681120 18<29kchibisov18>	like I'm tired of some winit ideas like DPR factor 777 on X11.
T 1586681139 18<29kchibisov18>	because they're due to monitor dimensions.
T 1586681139 18<20lovesegfault18>	What's DPR?
T 1586681149 18<29kchibisov18>	I mean scale factor.
T 1586681156 18<29kchibisov18>	it's a Device Pixel Ratio.
T 1586681173 18<20lovesegfault18>	Ah
T 1586681178 18<20lovesegfault18>	Why 777 O.o
T 1586681195 18<29kchibisov18>	it was 719 to be more precise.
T 1586681237 18<29kchibisov18>	16mmx9mm 5kx1440p display or something like that.
T 1586681467 18<20lovesegfault18>	kchibisov: I gotta go to sleep, if you have time to help fix that example code it'd be greatly appreciated; I'm trying to get that little lib back in shape, it's really handy
T 1586681473 18<20lovesegfault18>	thanks for all the help, gnight
T 1586681567 18<29kchibisov18>	note, I'm not justifing winit crash here and I don't have much time to work on `one more project`.
T 1586683895 18<20basic18>	waah, when i use ncurses in alacritty (compiled yesterday) it moves 2 spots, not 2
T 1586683925 18<29kchibisov18>	Could you explain your issue a bit more?
T 1586683942 18<29kchibisov18>	Oh, I guess you should remove old bindings to arrow keys.
T 1586683990 18<20basic18>	well, i tried to recompile my kernel, and if i use the arrow keys it moves2 instead of 1
T 1586684003 18<29kchibisov18>	remove default bindings.
T 1586684016 18<20basic18>	uhm, une second
T 1586684025 18<29kchibisov18>	Just leave the thing you've defined yourself.
T 1586684060 18<20basic18>	  - { key: Up,       mods: Shift,   chars: "\x1b[1;2A"                       } these?
T 1586684069 18<20basic18>	https://github.com/bananarne/dotfiles/blob/bb57071c4ae763ed6de43c55123be5536112d895/.config/alacritty/alacritty.yml#L476
T 1586684075 18<29kchibisov18>	yeah those things.
T 1586684088 18<20basic18>	you want me to remove all bindings?
T 1586684092 18<29kchibisov18>	You can safely delete the entire section.
T 1586684094 18<20basic18>	like line 445 to 546
T 1586684103 18<20basic18>	okay, thanks
T 1586684105 18<29kchibisov18>	yeah, you can do that from 424
T 1586684161 18<20basic18>	yeah works again, thanks
T 1586684168 18<20basic18>	does this mean, i mapped 2 things to the arrowkey?
T 1586684175 18<20basic18>	(2 times the same thing)
T 1586684186 18<29kchibisov18>	yeah, we changed default bindings, so you've mapped twice.
T 1586684190 18<20basic18>	ah, cool
T 1586684227 18<29kchibisov18>	Like we removed bindings like a year ago, but now we actually changed all default ones, since we added one more mode, which affected all bindings.
T 1586684243 18<20basic18>	which mode?
T 1586684248 18<29kchibisov18>	Vi mode.
T 1586684257 18<20basic18>	UHH what does tha tmean?? that sounds interesting af
T 1586684267 18<20basic18>	can i copy paste in alacritty? without tmux n shit?
T 1586684270 18<29kchibisov18>	yeah.
T 1586684276 18<20basic18>	WOAH alacritty IS the best
T 1586684278 18<20basic18>	how how how
T 1586684279 18<29kchibisov18>	Ctrl + Shift + space.
T 1586684289 18<29kchibisov18>	and other default vi bindings should kind of work.
T 1586684305 18<20basic18>	man
T 1586684306 18<20basic18>	that is fukin
T 1586684310 18<29kchibisov18>	https://github.com/alacritty/alacritty/blob/ab2db49af5467ec972e297259dd8c23022783347/alacritty.yml#L561
T 1586684310 18<20basic18>	awesome
T 1586684317 18<20basic18>	this is exactly what i suggested in here, half a year ago
T 1586684324 18<20basic18>	man that is cool
T 1586684325 18<20basic18>	i am so happy
T 1586684341 18<20basic18>	thank you for implementing this
T 1586684350 18<20basic18>	whoever did
T 1586684362 18<29kchibisov18>	note, it's still missing some useful things, but they should be added at some point.
T 1586684376 18<20basic18>	as long as i can copy/paste without touching the mouse
T 1586684378 18<20basic18>	i don't mind
T 1586684424 18<20basic18>	as long as i can copy/paste without touching the mouse
T 1586684425 18<20basic18>	hihihihi
T 1586684452 18<20basic18>	what would be useful, addditionally to this?
T 1586684463 18<29kchibisov18>	search + indicator for vi mode.
T 1586684581 18<20Levanx18>	BTW, Yesterday I realized alacritty now had block selection. No idea since when it is the case, but that's very cool! Thanks ‚ù§Ô∏é
T 1586684597 18<29kchibisov18>	was added like a year ago also.
T 1586684607 18<20basic18>	search + indicator for
T 1586684607 18<20basic18>	, Yesterday I realized
T 1586684610 18<20basic18>	hohoho
T 1586684616 18<20basic18>	sorry, im way to happy about this
T 1586684637 18<20basic18>	i should follow the repository & learn to rust
T 1586684662 18<29kchibisov18>	You can just follow releases, I guess, since we publish very verbose changelog, so you won't miss new features.
T 1586684697 18<20basic18>	you should have a "read the changelog" notification :p
T 1586684703 18<20basic18>	with super fancy shaders
T 1586684734 18<29kchibisov18>	I don't see a need for such things, just read release notes.
T 1586684832 18*	20Levanx just obtains new alacritty without noticing via system updates :-¬∞
T 1586684963 18<29kchibisov18>	Oh, god, winit doesn't have dollar VirtualKeyCode.
T 1586684980 18<20basic18>	Levanx: same here
T 1586684981 18<29kchibisov18>	As well as some other fancy stuff.
T 1586685013 18<20Levanx18>	Actually, I forgot following only releases was a thing. Goona do that.
T 1586685040 18<20basic18>	can i change the ctrl+shift+space thing to something different?
T 1586685045 18<29kchibisov18>	I do the same for some projects on github, since I manually download them.
T 1586685060 18<29kchibisov18>	basic: yeah, read new default config.
T 1586685066 18<20basic18>	uhhhhhhhhh
T 1586685074 18<29kchibisov18>	I mean it's just new bindings.
T 1586685090 18<29kchibisov18>	it's called ToggleViMode.
T 1586685578 18<29kchibisov18>	the most interesting thing that winit has Yen keycode, but not dollar.
T 1586685813 18<19storm\18>	kchibisov: mac releated again, i just had time to look at code etc, and about to choose a issue to dig into
T 1586685828 18<19storm\18>	would you say https://github.com/alacritty/alacritty/issues/2800 is the most important osx for now which is a good first one?
T 1586685838 18<29kchibisov18>	Oh, this is hard.
T 1586685853 18<29kchibisov18>	locale is the easiest one.
T 1586685860 18<29kchibisov18>	and the most important.
T 1586685883 18<29kchibisov18>	You can test it by launching Alacritty.app, typing locale and see that locale is a bit wrong.
T 1586685893 18<29kchibisov18>	compared to iterm2 and Terminal.app.
T 1586685922 18<29kchibisov18>	I've figured out the issue with thin strokes, and it's not really our fault, but we can likely have a setting similar to iterm.
T 1586685942 18<19storm\18>	difference for me is that kitty and terminal app writes: `LC_ALL=` and alacritty writes: LC_ALL="en_US.UTF-8"
T 1586685947 18<19storm\18>	rest of them is wqual.
T 1586685949 18<19storm\18>	equal*
T 1586685962 18<19storm\18>	oh you did? nice
T 1586685963 18<29kchibisov18>	we don't touch LC_ALL at all.
T 1586685976 18<19storm\18>	okay, so let me maybe look at why that is being set.
T 1586685988 18<29kchibisov18>	let me launch macOS, one sec.
T 1586686105 18<29kchibisov18>	https://paste.rs/bvB.png
T 1586686111 18<29kchibisov18>	like this is the issue.
T 1586686136 18<29kchibisov18>	You can see iterm/terminal.app and alacritty.
T 1586686145 18<19storm\18>	hmm
T 1586686146 18<29kchibisov18>	you can notice that locale differs in LC_CTYPE
T 1586686171 18<29kchibisov18>	note, UTF-8 locale is shit, but whatever macOS decides.
T 1586686186 18<29kchibisov18>	you're likely setting locale in shell.
T 1586686201 18<19storm\18>	lemme check
T 1586686203 18<29kchibisov18>	since we don't touch LC_ALL at all.
T 1586686217 18<29kchibisov18>	just grep the thing for LC_ALL and how stes it.
T 1586686283 18<20basic18>	thnaks all!
T 1586686344 18<19storm\18>	yeah ok i see the problem kchibisov
T 1586686388 18<29kchibisov18>	so we have locale.rs file in alacritty_terminal which is purely msg_send(objective-C shit) which is trying to guess locale.
T 1586686409 18<29kchibisov18>	So we should do what native terminal and iterm2 are doing and end up with this UTF-8 locale.
T 1586686421 18<29kchibisov18>	which isn't a thing, but whatever.
T 1586686426 18<19storm\18>	wait hmm wtf is this.
T 1586686427 18<19storm\18>	hang on
T 1586686543 18<19storm\18>	https://imgur.com/a/cjx2beG
T 1586686585 18<19storm\18>	kitty and alacritty shows equals locales for me. both is not equal to terminal.app
T 1586686594 18<19storm\18>	terminal.app in the middle
T 1586686604 18<19storm\18>	alacritty to the right
T 1586686624 18<29kchibisov18>	yeah, terminal.app is likely correct to some point.
T 1586686666 18<29kchibisov18>	This is a key to display some unicode glyphs, since without it it'll blow up.
T 1586686683 18<29kchibisov18>	I mean apps won't render unicode chars, e.g. tmux
T 1586686724 18<29kchibisov18>	So my main question why iterm and terminal.app are using the same locales.
T 1586686726 18<19storm\18>	yeah, i had `export LANG="en_US.UTF-8"` in my zshrc which then solves the issues on all my terminal emulators
T 1586686739 18<19storm\18>	ill get iterm2, sec
T 1586686739 18<29kchibisov18>	yeah, you shouldn't do that, since it's wrong.
T 1586686759 18<29kchibisov18>	If you want to do that properly, it should be set in alacritty.yml for example.
T 1586686836 18<19storm\18>	okay so the issue is the following:
T 1586686845 18<19storm\18>	LC_CTYPE is not getting set properly to the correct value
T 1586686855 18<29kchibisov18>	I see that yeah.
T 1586686856 18<19storm\18>	iterm and terminal SOMEHOW gets "UTF-8"
T 1586686869 18<29kchibisov18>	so someone should figure out that SOMEHOW.
T 1586686873 18<19storm\18>	ill do that.
T 1586686895 18<29kchibisov18>	I'd just recommend to look at iterm code here.
T 1586686918 18<29kchibisov18>	and correct our locale.rs to match it.
T 1586686990 18<19storm\18>	yeah
T 1586687326 18<19storm\18>	noobie rust question #1, kchibisov: if i do some logging in the code ‚Äì where would this be outputted when building it? how do you guys normally do this?
T 1586687345 18<29kchibisov18>	println!("PRINT");
T 1586687356 18<29kchibisov18>	will be output to stdout.
T 1586687392 18<29kchibisov18>	println!("{:?}", value); will print debug formatting for the value.
T 1586687403 18<29kchibisov18>	println!("{}", value); normal formatting.
T 1586687443 18<29kchibisov18>	so you basically do `cargo run` and see your output, if you log with `println!()`.
T 1586687503 18<19storm\18>	goodie
T 1586687517 18<19storm\18>	i feel bad for fixing alacritty in vim, in kitty.
T 1586687519 18<19storm\18>	:|
T 1586687547 18<29kchibisov18>	note, I can't test kitty at all, since it doesn't run on my macOS setup.
T 1586687560 18<19storm\18>	its fine
T 1586687572 18<19storm\18>	how do you emulate osx?
T 1586687805 18<29kchibisov18>	qemu.
T 1586687844 18<22ifreund18>	qemu is magic
T 1586687866 18<29kchibisov18>	I mean folks already solved that task for me, I just follow instrs and run it.
T 1586688040 18<19storm\18>	alrite, i think ive found the bug
T 1586688069 18<19storm\18>	will try to fix it, obviously take me a some more time until im comfortable in rust but whatever.
T 1586688269 18<19storm\18>	aaaaand kid woke up, will fix tonight.
T 1586691929 18<19storm\18>	kchibisov: do we want a encoding variable or something in the yml config or do we just hardcore to utf-8 encoding?
T 1586691967 18<29kchibisov18>	We shouldn't hardcode anything, I want to know how it works.
T 1586691995 18<19storm\18>	Both terminal and iterm2 sets theirs based on what you chose in their options
T 1586692000 18<29kchibisov18>	you can set env variables in config right now though.
T 1586692031 18<29kchibisov18>	So, you can make iterm to use just C?
T 1586692045 18<29kchibisov18>	I mean LC_CTYPE to report C.
T 1586692046 18<19storm\18>	No because they force you to select one
T 1586692055 18<19storm\18>	We set to null
T 1586692065 18<29kchibisov18>	Oh, could you link their code?
T 1586692075 18<29kchibisov18>	or where this setting is?
T 1586692105 18<19storm\18>	yes hang on
T 1586692137 18<19storm\18>	iterm2 -> pref -> terminal -> char encoding
T 1586692164 18<19storm\18>	that list they pull from objc api to populate the encoding options
T 1586692171 18<19storm\18>	and defaults to utf8 if you dont choose anything else
T 1586692187 18<29kchibisov18>	can we do something like that?
T 1586692196 18<19storm\18>	https://github.com/alacritty/alacritty/blob/master/alacritty_terminal/src/locale.rs#L63
T 1586692214 18<19storm\18>	yeah i guess we can
T 1586692243 18<29kchibisov18>	How do they handle LANG?
T 1586692247 18<29kchibisov18>	just leave it unset?
T 1586692250 18<19storm\18>	yes
T 1586692273 18<29kchibisov18>	So in theory we can check whether env variable is there and just set it.
T 1586692281 18<29kchibisov18>	if it wasn't already set.
T 1586692335 18<19storm\18>	from what i can see the code we have right now works fine, except the LC_CTYPE for char encoding. this we cant se on a specific case
T 1586692369 18<29kchibisov18>	I mean that you can set it to C.UTF-8 if LC_CTYPE was unset during run.
T 1586692372 18<29kchibisov18>	during startup.
T 1586692375 18<19storm\18>	so yes, i am wondering if we should default to UTF-8, and this can then be overwritten through the yml.
T 1586692389 18<29kchibisov18>	that's exactly what I'm saying.
T 1586692397 18<29kchibisov18>	you can set LC_CTYPE in yaml already.
T 1586692403 18<29kchibisov18>	it's not a problem.
T 1586692406 18<19storm\18>	oki
T 1586692415 18<29kchibisov18>	just add it to `env:` section.
T 1586692430 18<19storm\18>	ok ill have to play with the little one now, but will make a PR tonight
T 1586692433 18<29kchibisov18>	Could you link the iterm code to me.
T 1586692436 18<19storm\18>	yes hang on
T 1586692614 18<19storm\18>	hm theres another place i cant find right now but theres some of it here: https://github.com/gnachman/iTerm2/blob/34318c13b9031b33008852a2991dfa614c9655ae/sources/ProfilesTerminalPreferencesViewController.m#L238
T 1586692738 18<29kchibisov18>	I feel like all the code is in sources/PTYSession.m
T 1586692758 18<29kchibisov18>	I mean in iterm2, so you can just grep for LC_CTYPE.
T 1586692780 18<19storm\18>	Yeah will continue tonight when kid sleeps again
T 1586692793 18<19storm\18>	Shouldn‚Äôt be that complicated
T 1586699943 20*	Disconnected (20)
T 1586699971 19*	Now talking on 22#alacritty
T 1586699971 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586699971 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586711756 18<19storm\18>	kchibisov: how do i get the env variables in the code?
T 1586712003 20*	Disconnected (20)
T 1586713763 22*	26RMPR sets mode 24+Z on 22RMPR
T 1586713763 22*	26RMPR sets mode 24+i on 22RMPR
T 1586713768 19*	Now talking on 22#alacritty
T 1586713768 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1586713768 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1586714376 18<19storm\18>	I pm'ed you kchibisov to discuss locale issue im working on. Let me know when you have time to talk.
T 1586715007 18<29kchibisov18>	lovesegfault: are you around?
T 1586715040 18<20lovesegfault18>	kchibisov: Yeah, what's up?
T 1586715073 18<29kchibisov18>	Could you test one example for me?
T 1586715079 18<20lovesegfault18>	Sure thing
T 1586715281 18<29kchibisov18>	run `cargo run --example kbd_input` from https://github.com/smithay/client-toolkit and press the same keys you're pressing in winit.
T 1586715512 18<29kchibisov18>	You can aslo post results from xev, wev, instead of this example though.
T 1586715688 18*	20lovesegfault tries wev first
T 1586715754 18<20lovesegfault18>	kchibisov: Here's wev https://gist.github.com/44cf575e432f8d92d9ac06e8f565d151
T 1586715761 18<20lovesegfault18>	doing smithay now
T 1586715909 18<20lovesegfault18>	https://gist.github.com/91a3da4f654d9ef197622c7c1f6515d7
T 1586715911 18<20lovesegfault18>	heh
T 1586715983 18<29kchibisov18>	Levanx: beep
T 1586715998 18<20lovesegfault18>	If I add libxkbcommon to my env it works
T 1586716007 18*	20lovesegfault tries glutin now
T 1586716043 18<20lovesegfault18>	Yep, and now it works :)
T 1586716046 18*	20lovesegfault tries crow
T 1586716089 18<29kchibisov18>	Could you try to `git checkout v0.6.x` in repo I've linked to you and rerun kbd_input?
T 1586716100 18<20Levanx18>	Yeah, you cannot really interpret Wayland keyboard input without libxkbcommon
T 1586716150 18<29kchibisov18>	I wonder why it crashed though.
T 1586716196 18<29kchibisov18>	lovesegfault: are you on NixOS?
T 1586716216 18<20lovesegfault18>	kchibisov: yep
T 1586716224 18<20lovesegfault18>	Trying v0.6.x
T 1586716228 18<20lovesegfault18>	I'm in a nix-shell
T 1586716242 18<29kchibisov18>	Could you modify rpath to include libxbkcommon?
T 1586716244 18<20Levanx18>	Oh, the kbd_input example crashed because if mapping the keyboard with xkbcommon fails, it doesn't assign any closure to the wl_keyboard
T 1586716246 18<20Levanx18>	woops
T 1586716267 18<20lovesegfault18>	kchibisov: I modified LD_LIBRARY_PATH to have libxkbcommon and it worked :^)
T 1586716286 18<29kchibisov18>	yeah, because it's using dlopen, so you need to patchelf.
T 1586716295 18<20lovesegfault18>	With that both master and 0.6.x work, without neither work
T 1586716299 18<20lovesegfault18>	kchibisov: Ah, I see
T 1586716392 18<29kchibisov18>	Could you check that winit works with this thing applied?
T 1586716404 18<29kchibisov18>	I mean with modified rpath
T 1586716441 18<20lovesegfault18>	Yes it does :)
T 1586716447 18<20lovesegfault18>	Thanks a lot kchibisov
T 1586716454 18<29kchibisov18>	So it's a nixos thing.
T 1586716497 18<20lovesegfault18>	Yep; but I'll add that it'd be nice if there was an option to statically link stuff and avoid this
T 1586716688 18<29kchibisov18>	So I guess your issue should be closed now.
T 1586717390 18<29kchibisov18>	nixpulvis what do you mean?
T 1586717443 18<29kchibisov18>	UndeadLeech: if winit folks won't appear in a week, we're forking it and glutin.
T 1586717499 18<29kchibisov18>	yourfate Could you elaborate on no colors in tmux anymore and what terminfo you've installed?
T 1586717538 18<29kchibisov18>	IIRC you should just have ncurses installed or whatever gives you terminfos on FreeBSD.
T 1586717713 18<22nixpulvis18>	kchibisov: I'm trying to reset all the syntax colors in Vim and it's litterally a nightmare.
T 1586717717 18<24UndeadLeech18>	kchibisov: Might be worth opening an issue offering support?
T 1586717722 18<22nixpulvis18>	I recall you talking about doing something like this.
T 1586717738 18<24UndeadLeech18>	Maybe we can just take over when nobody else is around.
T 1586717786 18<27yourfate18>	kchibisov: I have ncurses installed, but afaik on freebsd termcap is used
T 1586717788 18<27yourfate18>	not terminfo
T 1586717839 18<27yourfate18>	I have not installed alacritty on the bsd machine
T 1586717861 18<27yourfate18>	I manually installed the terminfo as described on the alacritty gitlab page
T 1586717880 18<27yourfate18>	which didn't work, I created a termcap from it and put that in ~/.termcap
T 1586717894 18<27yourfate18>	which seems to work when I SSH to the machine, but once I start tmux on it I lose color
T 1586717908 18<27yourfate18>	if I first set TERM to xterm-256color everything is well
T 1586718190 18<22nixpulvis18>	kchibisov: I might have gotten somewhere with ~/.vim/after/syntax/syncolor.vim.
T 1586718859 18<29kchibisov18>	yourfate: does infocmp -x alacritty is working on your remote machine?
T 1586718875 18<29kchibisov18>	Also, FreeBSD is shipping our terminfo somewhere IIRC.
T 1586718892 18<29kchibisov18>	nixpulvis: I have my custom theme, but it's not named, so it's not published.
T 1586718896 18<27yourfate18>	yes, that outputs stuff, but it ends prematurely I think
T 1586718898 18<29kchibisov18>	but it works in vim.
T 1586718922 18<27yourfate18>	#       Reconstructed via infocmp from file: /usr/local/share/misc/terminfo.db
T 1586718924 18<27yourfate18>	is the header
T 1586718932 18<27yourfate18>	I put that in the terminfo.db using tic I think
T 1586718953 18<29kchibisov18>	could you infocmp -d alacritty xterm-256color?
T 1586718984 18<27yourfate18>	output: https://bsd.to/QG03
T 1586719021 18<29kchibisov18>	it seems fine.
T 1586719036 18<29kchibisov18>	so again what's your color issues? like I don't see them in `ls`?
T 1586719070 18<27yourfate18>	I don't see any colours, my shell prompt, ls, neofetch
T 1586719073 18<27yourfate18>	etc
T 1586719075 18<27yourfate18>	everything white text
T 1586719078 18<27yourfate18>	in tmux
T 1586719094 18<29kchibisov18>	what is echo $TERM inside of tmux?
T 1586719117 18<27yourfate18>	I tried different things, alacritty, tmux-256color, screen-256color
T 1586719124 18<27yourfate18>	via tmux.conf
T 1586719135 18<27yourfate18>	to no avail
T 1586719141 18<29kchibisov18>	is `echo -e "\e[31mRED` is red?
T 1586719201 18<27yourfate18>	sec, my irc client garbled that
T 1586719259 18<27yourfate18>	no, just says RED in white
T 1586719289 18<29kchibisov18>	Oh, so tmux is completely broken.
T 1586719299 18<27yourfate18>	something is very weird there
T 1586719314 18<27yourfate18>	before I had the alacritty in .termcmp it would tell me it can't find the terminfo database
T 1586719318 18<27yourfate18>	when I tried to attach
T 1586719322 18<27yourfate18>	when term as alacritty
T 1586719330 18<27yourfate18>	but it worked with xterm-256color
T 1586719349 18<27yourfate18>	eh .termcap
T 1586719357 18<29kchibisov18>	have you tried that `set -g default-terminal tmux-256color` in tmux, right?
T 1586719372 18<27yourfate18>	yes
T 1586719383 18<27yourfate18>	I also tied that in addition to `set-option -ga terminal-overrides ",xterm-256color:Tc"`
T 1586719390 18<27yourfate18>	which I found somewhere
T 1586719394 18<27yourfate18>	no changes
T 1586719409 18<29kchibisov18>	it should be set-option -ga terminal-overrides ",alacritty:Tc"
T 1586719409 18<27yourfate18>	also tried with no config at all
T 1586719440 18<29kchibisov18>	but it's for truecolors, so..
T 1586719445 18<27yourfate18>	nope
T 1586719496 18<29kchibisov18>	and i'll assume `env TERM=xterm-256color tmux` works?
T 1586719521 18<27yourfate18>	yup
T 1586719548 18<29kchibisov18>	what tmux version are you using?
T 1586719559 18<27yourfate18>	3.0a
T 1586719575 18<27yourfate18>	i'm on freebsd 12.1
T 1586719578 18<27yourfate18>	installed like 2 days ago
T 1586719584 18<27yourfate18>	well, the machine is, I'm on arch
T 1586719613 18<29kchibisov18>	it's just random bsd issue, I guess.
T 1586719626 18<27yourfate18>	thanks for trying though!
T 1586719635 18<27yourfate18>	I guess I'll alias tmux :P
T 1586719636 18<29kchibisov18>	let me check tmux sources, since linux works fine.
T 1586719671 18<29kchibisov18>	tmux speaks about ncurses a lot, do you have it?
T 1586719700 18<27yourfate18>	I first had tmux, which worked, but needed to install the ncruses package to get tic
T 1586719712 18<27yourfate18>	I think there are 2 different ncurses on bsd?
T 1586719723 18<29kchibisov18>	Hm?
T 1586719731 18<27yourfate18>	I think tmux needs ncurses
T 1586719735 18<29kchibisov18>	BSD doesn't have ncurses at all by default.
T 1586719745 18<27yourfate18>	yes, but installing tmux should have installed it maybe?
T 1586719750 18<27yourfate18>	sed
T 1586719753 18<27yourfate18>	sec
T 1586719886 18<27yourfate18>	ok, idk, but I installed ncurses after tmux I think
T 1586719895 18<27yourfate18>	mainly because I wanted tic
T 1586719904 18<27yourfate18>	to install the alacritty terminfo :P
T 1586720469 18<29kchibisov18>	Could you run `tmux -v` and post some logs?
T 1586720496 18<27yourfate18>	where does that log?
T 1586720550 18<29kchibisov18>	it should create 2 files in a dir where you've started it.
T 1586720558 18<29kchibisov18>	I need server log.
T 1586720627 18<27yourfate18>	sec
T 1586720726 18<27yourfate18>	http://sprunge.us/nYGIMw
T 1586721055 18<29kchibisov18>	could you post similar output when TERM=xterm-256color?
T 1586721180 18<27yourfate18>	http://sprunge.us/UG786F
T 1586721226 18<27yourfate18>	I still had set -g default-terminal "tmux-256color" in there
T 1586721229 18<27yourfate18>	in tmux.conf
T 1586721460 18<29kchibisov18>	could you recompile our terminfo?
T 1586721505 18<27yourfate18>	as in, with tic?
T 1586721527 18<27yourfate18>	done
T 1586721527 18<29kchibisov18>	yeah, and in a way it's mentioned on our INSTALLATION.
T 1586721538 18<29kchibisov18>	yeah and logout + reconnect
T 1586721573 18<27yourfate18>	still the old situation
T 1586721597 18<29kchibisov18>	both terminfos, even xterm one seems broken.
T 1586721625 18<29kchibisov18>	I mean tmux reports that a lot of features are not presented/defined even in xterm terminfo.
T 1586721648 18<29kchibisov18>	but yeah, it says that `colors` missing in alacritty terminfo.
T 1586721660 18<29kchibisov18>	on linux it reports everything correctly
T 1586721676 18<27yourfate18>	maybe because I have the .termcap file?
T 1586721679 18<27yourfate18>	in home
T 1586721689 18<29kchibisov18>	could you remove it?
T 1586721691 18<27yourfate18>	but if I remove that tmux says it can't find the terminfo db
T 1586721692 18<27yourfate18>	sure, sec
T 1586721721 18<27yourfate18>	if I remove that I get `open terminal failed: can't find terminfo database`
T 1586721726 18<27yourfate18>	when trying to start tmux
T 1586721838 18<29kchibisov18>	Hm, I guess you're correct, also, I guess you should translate our terminfo to termcap.
T 1586721872 18<29kchibisov18>	Could you try to pass `-C` to tic?
T 1586721954 18<27yourfate18>	btw, if that .termcap is missing the shell is somewhat broken even before tmux, keybinds don't work, can't delete chars etc
T 1586721957 18<27yourfate18>	sec
T 1586722108 18<27yourfate18>	the output of the command from INSTALLATION, but with C added yelds: https://bsd.to/ymLG
T 1586722114 18<27yourfate18>	I tried that as .termcap before
T 1586722129 18<27yourfate18>	but it's missing the alacritty+common it references afaik
T 1586722160 18<27yourfate18>	I don't really know much about terminfo/cap though, I talked to people in freeBSD though
T 1586722367 18<27yourfate18>	# that is
T 1586722470 18<29kchibisov18>	Could you delete our terminfo and reinstall ncurses?
T 1586722479 18<29kchibisov18>	ncurses should have our terminfo.
T 1586722686 18<27yourfate18>	sec
T 1586722693 18<27yourfate18>	the terminfo.db you mean
T 1586722707 18<27yourfate18>	it uses the hashed db isntead of the individual files
T 1586722708 18<27yourfate18>	it seems
T 1586722756 18<29kchibisov18>	yeah, but it should install it, I guess.
T 1586723080 18<27yourfate18>	hmm
T 1586723086 18<27yourfate18>	now there is no terminfo.db
T 1586723103 18<27yourfate18>	in /usr/share/misc/
T 1586723203 18<27yourfate18>	ah, /usr/local/share/misc has it
T 1586723385 18<27yourfate18>	ye, ncurses seems to come with a terminfo
T 1586723403 18<29kchibisov18>	does it work though?
T 1586723408 18<27yourfate18>	I made sure the db was gone when I uninstalled it.
T 1586723429 18<27yourfate18>	nah, can't delete characters, and tmux can't find the database
T 1586723446 18<27yourfate18>	infocmp does tell me it has something
T 1586723457 18<29kchibisov18>	nah, I have no idea how FreeBSD works here.
T 1586723464 18<27yourfate18>	thanks for trying though!
T 1586723467 18<27yourfate18>	:D
T 1586723483 18<27yourfate18>	maybe it'll get fixed in the future, for now I'll just use xterm terminfo on that machine
T 1586723495 18<27yourfate18>	great terminal though, like it so far!
T 1586723538 18<27yourfate18>	if you for some reason have more thoughts on this ping me, i'll idle here :P
T 1586723636 18<29kchibisov18>	yeah, someone from bsd should explain how it works, I guess.
T 1586726896 18<29kchibisov18>	yourfate: do you see `colors#256` in infocmp -x?
T 1586726984 18<27yourfate18>	well, colors#0x100
T 1586726988 18<27yourfate18>	which should be the same
T 1586727002 18<29kchibisov18>	in both xterm and alacritty
T 1586727005 18<27yourfate18>	I do have color before i start tmux
T 1586727010 18<27yourfate18>	sec
T 1586727044 18<27yourfate18>	ye, xterm-256color also has colors#0x100
T 1586727103 18<29kchibisov18>	is .termcap some your local file?
T 1586727123 18<29kchibisov18>	or dir
T 1586727224 18<27yourfate18>	I currently have no .termcap in home
T 1586727235 18<27yourfate18>	i moved it to old.termcap for the test
T 1586727239 18<27yourfate18>	and still haven't moved it back
T 1586727247 18<29kchibisov18>	also, do you tmux kill-server ?
T 1586727265 18<29kchibisov18>	like it's not like some old tmux running.
T 1586727270 18<27yourfate18>	ye, I had a look in ps to see if tmux was off
T 1586727296 18<27yourfate18>	kill-server says no server running
T 1586727305 18<29kchibisov18>	Could you try TERM=alacritty tmux new and then tmux info|grep colors
T 1586727319 18<29kchibisov18>	with empty tmux config, please.
T 1586727328 18<29kchibisov18>	and the same for xterm-256color
T 1586727417 18<27yourfate18>	xterm:    9: colors: (number) 256
T 1586727449 18<27yourfate18>	ah, can't start tmux with alacitty term, as I removed my .termcap
T 1586727462 18<27yourfate18>	so it just says zsh: can't find terminal definition for alacritty
T 1586727464 18<27yourfate18>	open terminal failed: can't find terminfo database
T 1586727476 18<29kchibisov18>	Wait, could you explain where xterm-256color is on FreeBSD?
T 1586727552 18<29kchibisov18>	on linux it's in /usr/share/terminfo/x/xterm-256color
T 1586727565 18<27yourfate18>	there are 3 places I think, there is /usr/share/misc/termcap, /usr/share/misc/termcap.db and /usr/local/share/misc/terminfo.db
T 1586727578 18<27yourfate18>	thermcap is also a file
T 1586727593 18<27yourfate18>	there are no folders for terminfo or termcap from what I can see
T 1586727650 18<29kchibisov18>	Oh, so you should have xterm inside of this thing and when you install alacritty you have to make a custom termcap db
T 1586727663 18<29kchibisov18>	right?
T 1586727690 18<27yourfate18>	I think alacritty's terminfo is in the /usr/loca/share/misc/terminfo.db
T 1586727695 18<27yourfate18>	and I can convert that to termcap format
T 1586727698 18<27yourfate18>	and put that in my homedir
T 1586727703 18<27yourfate18>	then I can start tmux
T 1586727715 18<27yourfate18>	but have no color in tmux
T 1586727727 18<27yourfate18>	I think what might be happening is that the system uses the terminfo.db
T 1586727729 18<27yourfate18>	as it has color
T 1586727733 18<27yourfate18>	but tmux somehow doesn't?
T 1586727740 18<29kchibisov18>	do you have strace?
T 1586727787 18<27yourfate18>	I shall get it, sec
T 1586727859 18<29kchibisov18>	Could you try tic with  -c -r in addition?
T 1586727882 18<27yourfate18>	apparently, there is no strace on freebsd, there is truss()
T 1586727903 18<29kchibisov18>	Also, if you remove our terminfo entirely from the system does BSD has it?
T 1586727914 18<29kchibisov18>	like by default tmux is the only problem right?
T 1586727946 18<27yourfate18>	no, there is some problem with keys too, like when I to del it instead inserts a space, and arrow keys have problems too
T 1586727950 18<27yourfate18>	that might be shell related though idk
T 1586727970 18<27yourfate18>	that is if I'm using TERM=alacritty
T 1586727982 18<29kchibisov18>	so BSD doesn't have it at all then.
T 1586727986 18<27yourfate18>	it has
T 1586727991 18<27yourfate18>	if I remove every manual terminfo
T 1586727998 18<27yourfate18>	and connect with TERM=alacritty
T 1586728002 18<29kchibisov18>	And why it doesn't work?
T 1586728003 18<27yourfate18>	I have colors, but broken keys, but
T 1586728018 18<29kchibisov18>	broken keys is a result of missing terminfo most of the time.
T 1586728024 18<27yourfate18>	infocmp outputs stuff
T 1586728028 18<27yourfate18>	related to alacritty
T 1586728035 18<27yourfate18>	and says it has it from the terminfo.db
T 1586728039 18<27yourfate18>	which comes with ncurses
T 1586728071 18<29kchibisov18>	this is so strange.
T 1586728094 18<29kchibisov18>	I'd recommend to understand how to compile it with termcap.
T 1586728123 18<29kchibisov18>	Also, run this command with sudo.
T 1586728129 18<29kchibisov18>	I mean `tic`.
T 1586728131 18<29kchibisov18>	without*
T 1586728144 18<27yourfate18>	sorry?
T 1586728196 18<29kchibisov18>	tic -xe -c -r -K alacritty,alacritty-direct extra/alacritty.info
T 1586728216 18<27yourfate18>	it did something
T 1586728219 18<27yourfate18>	:P
T 1586728221 18<27yourfate18>	no output though
T 1586728231 18<29kchibisov18>	it should install terminfo for user
T 1586728238 18<29kchibisov18>	does tmux works?
T 1586728277 18<27yourfate18>	wtf, sec, now alacritty won't start on my linux
T 1586728280 18<27yourfate18>	wtf
T 1586728299 18<27yourfate18>	oh, I did a system update on linux in the meantime, maybe I need a reboot
T 1586728315 18<29kchibisov18>	what it outputs yourfate ?
T 1586728321 18<29kchibisov18>	I mean on linux.
T 1586728321 18<27yourfate18>	        Error creating GL context; Received multiple errors. Errors: `[OsError("eglInitialize failed"), OsError("GL context creation failed")]`
T 1586728328 18<29kchibisov18>	driver update?
T 1586728331 18<27yourfate18>	probably
T 1586728333 18<27yourfate18>	lots of updates
T 1586728334 18<27yourfate18>	sec, reboot
T 1586728675 18<27yourfate18>	no, doesn't work. keys still broken, tmux can't find the database
T 1586728784 18<29kchibisov18>	does keys broken outside of tmux as well?
T 1586728872 18<27yourfate18>	well, yes, can't get into tmux as it won't start without a terminfo, keys broken outside of it
T 1586728892 18<29kchibisov18>	does keys broken with other terminfo?
T 1586728903 18<27yourfate18>	no, xterm-256color it's ifne
T 1586728912 18<27yourfate18>	and tmux works
T 1586728917 18<29kchibisov18>	let me run my BSD.
T 1586728922 18<27yourfate18>	:D
T 1586728933 18<27yourfate18>	myabe it's different if alacritty is installed on the BSD
T 1586728939 18<27yourfate18>	but I bet that needs x11
T 1586728948 18<29kchibisov18>	it's some BSD bs tbh, since our terminfo is just copy pasta of xterm.
T 1586728948 18<27yourfate18>	which is not on that machine and I don't plan to have that there
T 1586728962 18<29kchibisov18>	we require only libxcb to built
T 1586728968 18<27yourfate18>	ye, i bet it's some Bs with them still using termcap usually
T 1586728980 18<29kchibisov18>	let me start my bsd sec
T 1586729013 18<27yourfate18>	right, I can isntall the alcaritty package, without any dependencies
T 1586729038 18<27yourfate18>	that didn't fix anything :P
T 1586729056 18<29kchibisov18>	ofc it won't fix anything.
T 1586729068 18<27yourfate18>	idk I thought maybe the port packages a termcap or something
T 1586729158 18<29kchibisov18>	god, bsd.
T 1586729217 18<27yourfate18>	not a fan?
T 1586729251 18<27yourfate18>	I'm new to it, but I thought it might make for a better server os than arch
T 1586729263 18<27yourfate18>	not that I really had problems with arch on a server
T 1586729276 18<27yourfate18>	just watned to give that a try b/c why not :P
T 1586729295 18<29kchibisov18>	let me understand why my ssh is broken on it.
T 1586729350 18<27yourfate18>	client or server?
T 1586729363 18<29kchibisov18>	I have no idea which one.
T 1586730260 18<29kchibisov18>	Ok, let me see.
T 1586730279 18<29kchibisov18>	seems like identical problem, but I can delete with backspace at least
T 1586730381 18<27yourfate18>	at least it's not something I messed up somehow. would have felt bald wasting all that time with some dumb mistake :P
T 1586730387 18<27yourfate18>	*bad
T 1586730400 18<29kchibisov18>	I mean xterm-256color is broken as well.
T 1586730417 18<29kchibisov18>	like you can lauch somthing but a lot of features of it are just disabled
T 1586730437 18<27yourfate18>	maybe because termcap is limited to I think 1023 bytes or something?
T 1586730482 18<29kchibisov18>	How to install packages on this thing?
T 1586730489 18<27yourfate18>	pkg install bla
T 1586730523 18<27yourfate18>	or go to /usr/ports and compile them
T 1586731220 18<27yourfate18>	headed to bed, I'll check back tomorrow to see if there were any new insights :P have fun
T 1586732405 18<29kchibisov18>	it seems like I've figured out
T 1586732535 18<20basic18>	now that i removed my default bindings, i can't copy paste anymore
T 1586732540 18<20basic18>	is that to be expected?
T 1586732550 18<29kchibisov18>	you should be able to copy paste just fine.
T 1586732564 18<29kchibisov18>	All copy paste bindings are builtin.
T 1586732566 18<20basic18>	with ctrl+shift+v right?
T 1586732573 18<29kchibisov18>	yes
T 1586732574 18<20basic18>	hm
T 1586732577 18<20basic18>	*test*
T 1586732588 18<20basic18>	kchibi
T 1586732588 18<20basic18>	basic>
T 1586732590 18<20basic18>	sorry
T 1586732593 18<20basic18>	hm, weird
T 1586732605 18<29kchibisov18>	Also, if you can have custom key bindings just fine.
T 1586732609 18<29kchibisov18>	s/if/
T 1586732618 18<20basic18>	yeah looks like vim isn't able to save to clipboard
T 1586732637 18<29kchibisov18>	Are you using "+" buffer?
T 1586732656 18<29kchibisov18>	unnamedplus, etc.
T 1586732686 18<20basic18>	yes, i guess it's because gvim isn't installeed
T 1586732702 18<29kchibisov18>	no, vim clipboard doesn't use escape sequence to set clipboard.
T 1586732715 18<29kchibisov18>	So vim is using xclip like software to write to a clipboard.
T 1586732718 18<29kchibisov18>	or tmux.
T 1586732749 18<20basic18>	yeah, i had this problem already it's weird
T 1586732763 18<20basic18>	i compiled it with xsupport, that alone doesn't fix it
T 1586732767 18<20basic18>	i need gvim
T 1586732768 18<29kchibisov18>	Like it's not alacritty problem, it's vim that should implement OSC 52
T 1586732774 18<29kchibisov18>	no, you don't need X support
T 1586732784 18<20basic18>	well, it fixes it :/
T 1586732795 18<29kchibisov18>	Oh, maybe it has some weird code to do that.
T 1586732800 18<20basic18>	yeah but not a alacritty problem
T 1586736415 18<29kchibisov18>	UndeadLeech: are you around?
T 1586736503 18<29kchibisov18>	How custom layouts like dvorak works with key bindings on various systems.
T 1586736535 18<29kchibisov18>	Do you usually have QWERTY bindings or custom dvorak bindings by default.
T 1586736594 18<29kchibisov18>	and how it works on let's say macOS.
T 1586737622 18<24UndeadLeech18>	Now I am.
T 1586737635 18<24UndeadLeech18>	I just use dvorak with default bindings everywhere.
T 1586737650 18<24UndeadLeech18>	But I use i3 which doesn't really have "default bindings" and a custom WM in macOS too.
T 1586737662 18<24UndeadLeech18>	But for stuff like vim I use default, which I would strongly recommend.
T 1586737662 18<29kchibisov18>	Are they based on QWERTY or dvorak.
T 1586737671 18<24UndeadLeech18>	I tried remapping, but it just doesn't work well.
T 1586737681 18<24UndeadLeech18>	They're mostly based on vi, so QWERTY.
T 1586737692 18<24UndeadLeech18>	But vi bindings work pretty well with dvorak once you get used to them tbh.
T 1586737706 18<29kchibisov18>	I'm qurious on how winit should handle such things.
T 1586737710 18<29kchibisov18>	and what it should provide
T 1586737722 18<29kchibisov18>	I'm not interested in dvorak :- )
T 1586737738 18<24UndeadLeech18>	I mean my keyboard reports as us layout. :P
T 1586737757 18<24UndeadLeech18>	Though on macOS it reports as dvorak, since I often use the trash built-in one there.
T 1586737774 18<24UndeadLeech18>	Since I have only one and that one doesn't have usb-c.
T 1586737816 18<24UndeadLeech18>	I mean dvorak is fairly uncomplicated, since all base keys are the same as on qwerty I think.
T 1586737828 18<24UndeadLeech18>	Problematic is something like german qwertz for example, where you have actually different keys.
T 1586737873 18<24UndeadLeech18>	Like it has a +/* key, instead of a =/+ one. So you'll get a different base key.
T 1586737880 18<29kchibisov18>	My concern is that if we go full keysyms which is very good for dvorak support, I wonder what should we do about Russian layout, etc.
T 1586737893 18<24UndeadLeech18>	Dvorak really shouldn't be a problem tbh.
T 1586737901 18<29kchibisov18>	yeah, it's not a problem.
T 1586737907 18<29kchibisov18>	Russian layout is a problem.
T 1586737917 18<24UndeadLeech18>	Like for dvorak all keys are identical, they're just in different locations.
T 1586737923 18<24UndeadLeech18>	The keymap takes care of that.
T 1586737931 18<24UndeadLeech18>	But russian/german/french/whatever, that's problematic.
T 1586737966 18<24UndeadLeech18>	I think I said this on the winit tracker before, but I believe the base key should always be reported regardless of shift state.
T 1586737975 18<29kchibisov18>	yeah, my question is whether concept like reporting keys based on scancodes in addition to virtual key codes is nice.
T 1586737991 18<24UndeadLeech18>	Then in Alacritty for bindings like IncreaseFontSize, we should bind to `ReceivedChar('+')`, not a key.
T 1586738014 18<24UndeadLeech18>	Scancodes are already reported, right? Or what do you mean?
T 1586738081 18<29kchibisov18>	I mean that you'll have { scancode: 38, raw_code: Some(Code::F), virtual_key_code: Some(VCode::RussianA)"}
T 1586738089 18<29kchibisov18>	so you can bind either by vcode or by raw_code.
T 1586738120 18<29kchibisov18>	and in case of vcode you can have per layout bindings, but bindings by raw_code could be good for games, etc.
T 1586738149 18<24UndeadLeech18>	Where does that raw_code come from?
T 1586738158 18<29kchibisov18>	it's based off scancode.
T 1586738164 18<24UndeadLeech18>	The us binding of that scancode?
T 1586738167 18<29kchibisov18>	yes.
T 1586738183 18<24UndeadLeech18>	How does that work, is that based on key location?
T 1586738196 18<29kchibisov18>	it's not dvorak, etc aware.
T 1586738200 18<29kchibisov18>	it's just direct mapping.
T 1586738234 18<24UndeadLeech18>	I don't think that's ever a good idea tbh.
T 1586738235 18<29kchibisov18>	Like you can have QWERTY bindings regardless of using dvorak/Russian bindings.
T 1586738247 18<29kchibisov18>	I use such thing in sway, without it it's hard to use for me.
T 1586738259 18<24UndeadLeech18>	Because that's exactly what you don't want to do. You don't want to map to a key location, but to a key value.
T 1586738276 18<29kchibisov18>	I mean that you have an option.
T 1586738297 18<29kchibisov18>	you either use location based or value based bindings.
T 1586738305 18<24UndeadLeech18>	I don't see a scenario where we'd ever want that tbh.
T 1586738307 18<29kchibisov18>	and Vcode is value based, but raw code location based.
T 1586738309 18<24UndeadLeech18>	Like in our default bindings.
T 1586738322 18<24UndeadLeech18>	Like it makes no sense to the user.
T 1586738333 18<29kchibisov18>	In our default bindings we don't need them, but in general we need them.
T 1586738347 18<24UndeadLeech18>	I don't even have a staggered keyboard layout for example, it makes absolutely zero sense on my keyboard where each scancode is located.
T 1586738353 18<24UndeadLeech18>	I don't think we do.
T 1586738360 18<24UndeadLeech18>	What benefit does this provide over just scancodes?
T 1586738371 18<29kchibisov18>	cross platform way?
T 1586738382 18<24UndeadLeech18>	Scancodes work on all platforms?
T 1586738389 18<29kchibisov18>	yes.
T 1586738405 18<24UndeadLeech18>	So what's the problem?
T 1586738415 18<29kchibisov18>	User should match numbers instead of good enum values.
T 1586738439 18<29kchibisov18>	and each platform has different numbers.
T 1586738441 18<29kchibisov18>	IIRC.
T 1586738442 18<24UndeadLeech18>	The enum values make absolutely no sense though for someone who isn't using qwerty.
T 1586738450 18<24UndeadLeech18>	How the hell would I know where my qwerty keys are?
T 1586738496 18<29kchibisov18>	The problem is that you're assuming US + QWERTY, when I'm talking about this thing.
T 1586738518 18<29kchibisov18>	However my problem is Russian + QWERTY.
T 1586738533 18<24UndeadLeech18>	I don't see what you mean.
T 1586738552 18<29kchibisov18>	If I change my layout to Russian, I can't paste into alacritty.
T 1586738566 18<29kchibisov18>	like I just can't do that.
T 1586738575 18<24UndeadLeech18>	Because the `V` key doesn't exist?
T 1586738580 18<29kchibisov18>	yes
T 1586738585 18<24UndeadLeech18>	Then bind to scancode?
T 1586738602 18<29kchibisov18>	But then I change to macOS and got the same problem
T 1586738605 18<29kchibisov18>	with different scancode.
T 1586738619 18<29kchibisov18>	so it's just a good way to abstract scancode bindings.
T 1586738632 18<24UndeadLeech18>	I don't think it is at all.
T 1586738644 18<24UndeadLeech18>	It just binds to an arbitrary intermediate state that is completely confusing.
T 1586738657 18<29kchibisov18>	it binds to scancode.
T 1586738667 18<29kchibisov18>	but it just has some name, which makes sense.
T 1586738671 18<24UndeadLeech18>	No, you bind scancode to qwerty.
T 1586738674 18<29kchibisov18>	instead of 0xfffff
T 1586738695 18<29kchibisov18>	yes, but I want to bind to location.
T 1586738702 18<29kchibisov18>	since there's not dvorak(russian) IIRC.
T 1586738706 18<29kchibisov18>	s/not/no
T 1586738721 18<29kchibisov18>	You want to bind to location anyway.
T 1586738724 18<24UndeadLeech18>	I don't think that's a good idea at all tbh.
T 1586738732 18<29kchibisov18>	scancode binding is a binding to location.
T 1586738743 18<24UndeadLeech18>	Having to lookup the qwerty value of your key to map it just sounds stupid.
T 1586738761 18<29kchibisov18>	it's not value, winit will just send you Raw(A).
T 1586738772 18<24UndeadLeech18>	It's just another thing to confuse people that now have a million different ways to bind the same thing, with no clear indication of which thing is the correct thing.
T 1586738804 18<29kchibisov18>	I'm just saying that bindings doens't work well, and in expected way for multilayout.
T 1586738806 18<24UndeadLeech18>	And if you have keyboards like mine, you can't even map by location at all, it'll just give you back complete garbage.
T 1586738822 18<29kchibisov18>	scancode is shitty solution, since it's just an arbitrary number which I should just guess.
T 1586738835 18<24UndeadLeech18>	Because my us F is at dvorak F location, not at US F.
T 1586738849 18<24UndeadLeech18>	So then I switch my keyboard and nothing works, just how you switch your layout and nothing works.
T 1586738851 18<24UndeadLeech18>	Same shit.
T 1586738853 18<29kchibisov18>	if you have hardware dvorak it'll remap.
T 1586738863 18<29kchibisov18>	I have a keyboard with hardware dvorak.
T 1586738876 18<29kchibisov18>	I don't set dvorak layout at all for it.
T 1586738883 18<24UndeadLeech18>	Yeah exactly.
T 1586738885 18<29kchibisov18>	it just works with qwerty.
T 1586738891 18<24UndeadLeech18>	Which will run into the same problem as you have when switching layouts.
T 1586738895 18<29kchibisov18>	because it chagnes scancodes.
T 1586738906 18<24UndeadLeech18>	Because suddenly your key is at a different location with a software dvorak keyboard.
T 1586738907 18<29kchibisov18>	so your scancodes will be chaged as well, and you'll have correct bidnings.
T 1586738937 18<24UndeadLeech18>	I just don't see how this simplifies anything.
T 1586738946 18<24UndeadLeech18>	It just adds another thing, bloating everything up.
T 1586738958 18<29kchibisov18>	but scancode binding has the same flow.
T 1586738974 18<24UndeadLeech18>	So why the hell do we need another thing, if scancode already does it?
T 1586738979 18<29kchibisov18>	but you should guess what this shit is instead of just binding to a location.
T 1586738995 18<29kchibisov18>	and on other platform you'll have different shit.
T 1586739002 18<24UndeadLeech18>	You assume that I would know the qwerty location.
T 1586739025 18<24UndeadLeech18>	Qwerty names are just as arbitrary as scancodes, with the nice benefit of being extremely confusing.
T 1586739025 18<29kchibisov18>	I assume that you'd know location on your keyboard hardware layout.
T 1586739038 18<24UndeadLeech18>	Which most people that do not actually use qwerty won't know.
T 1586739050 18<29kchibisov18>	if you're using qwerty keyboard with software dvorak you don't have any problems.
T 1586739062 18<29kchibisov18>	because this keyboard is qwerty, and you can just look at it.
T 1586739073 18<24UndeadLeech18>	If I use qwertz or hardware dvorak I will.
T 1586739075 18<29kchibisov18>	and if you hardware dvorak, you've binded to hardware dvorak.
T 1586739110 18<29kchibisov18>	So in hardware dvorak, you'll have a completely different location.
T 1586739121 18<29kchibisov18>	because your scancode is in completely different location.
T 1586739128 18<24UndeadLeech18>	Also what if there is no qwerty key? Need to use scancodes anyways.
T 1586739157 18<29kchibisov18>	I'm saying that binding by scancode doesn't work well for the end users.
T 1586739180 18<29kchibisov18>	keysym is fine, but if you want binding that works regardless of layout it won't work.
T 1586739182 18<24UndeadLeech18>	Why not?
T 1586739233 18<29kchibisov18>	Because end users don't know how to obtain scancodes, but it can obtain location of char on his keyboard.
T 1586739239 18<24UndeadLeech18>	How?
T 1586739250 18<29kchibisov18>	Just look at the keyboard?
T 1586739258 18<24UndeadLeech18>	Only because you use a qwerty keyboard.
T 1586739261 18<29kchibisov18>	on a keycap.
T 1586739265 18<24UndeadLeech18>	That won't help a large chunk of users that don't.
T 1586739282 18<29kchibisov18>	if you use software dvorak you have qwerty keyboard.
T 1586739286 18<24UndeadLeech18>	No.
T 1586739289 18<24UndeadLeech18>	That's not true.
T 1586739297 18<29kchibisov18>	unless you swapped all the key caps.
T 1586739304 18<29kchibisov18>	which is like 0.01% users.
T 1586739308 18<24UndeadLeech18>	Except for my hardware dvorak keyboard, I do not own a single qwerty keyboard.
T 1586739328 18<29kchibisov18>	your hardware dvorak keyboard will work fine, since it's not based on QWERTY
T 1586739359 18<29kchibisov18>	So Raw keys will match your keysyms on your keyboard.
T 1586739360 18<24UndeadLeech18>	My hardware dvorak will work fine, because it's qwerty and they're identical.
T 1586739363 18<24UndeadLeech18>	But none of my others will.
T 1586739394 18<24UndeadLeech18>	On MacOS I have a qwertz keyboard with software dvorak for example.
T 1586739397 18<29kchibisov18>	I'm saying that only software layouts could behave differently.
T 1586739399 18<24UndeadLeech18>	Now you're adding qwerty to that.
T 1586739411 18<24UndeadLeech18>	So you're asking me to check the qwerty location on my qwertz keyboard which uses dvorak.
T 1586739412 18<29kchibisov18>	How macOS default bindings are working on macOS?
T 1586739413 18<24UndeadLeech18>	That's stupid.
T 1586739422 18<29kchibisov18>	no, it'll be based on qwertz
T 1586739428 18<29kchibisov18>	not on qwerty.
T 1586739441 18<29kchibisov18>	it's based on hardware layout, not on QWERTY.
T 1586739448 18<24UndeadLeech18>	You said you always want to bind to qwerty though, not qwertz, right?
T 1586739455 18<24UndeadLeech18>	Gotcha.
T 1586739459 18<29kchibisov18>	I said that I want to name scancodes.
T 1586739470 18<24UndeadLeech18>	Then it won't work between any of my keyboards, nice.
T 1586739484 18<29kchibisov18>	no, because scancodes are floating.
T 1586739494 18<24UndeadLeech18>	Because macOS qwertz is different than normal qwertz which is different than my qwerty hardware dvorak.
T 1586739518 18<29kchibisov18>	So do you have Command + C working on macOS?
T 1586739526 18<24UndeadLeech18>	Yeah of course, works just fine.
T 1586739529 18<24UndeadLeech18>	Why wouldn't it?
T 1586739535 18<29kchibisov18>	and where this `C` is?
T 1586739547 18<29kchibisov18>	on your dvorak layout or on qwertz
T 1586739602 18<29kchibisov18>	and if you switch layout to e.g. French will it have the same physical position?
T 1586739647 18<29kchibisov18>	I just want to understand how this thing is supposed to work.
T 1586739660 18<29kchibisov18>	And how some systems are handling such thing.
T 1586739781 18<29kchibisov18>	But literally every app can do such thing just fine without requiring me to define scancode bindnigs.
T 1586739820 18<29kchibisov18>	I mean paste from Russian layout.
T 1586739984 18<24UndeadLeech18>	I'm not familiar with how layouts work that are entirely different.
T 1586740043 18<29kchibisov18>	So I wonder how this problem should be solved, I feel like the majority is using Scancode like things for bindings.
T 1586740451 18*	29kchibisov tried to test dvorak and spend 5 minutes to just reload sway.
T 1586740556 18<29kchibisov18>	It's interesting actually.
T 1586740586 18<29kchibisov18>	GTK is using dvorak layout for bindings in Russian layout.
T 1586740596 18<29kchibisov18>	and it's software dvorak.
T 1586740650 18<29kchibisov18>	so if you have 3 layouts, us,us(dvorak),ru it'll use QWERTY,Dvorak,Dvorak.
T 1586740653 18<29kchibisov18>	for bindnigs.
T 1586740680 18<24UndeadLeech18>	I found a bug.
T 1586740688 18<29kchibisov18>	where?
T 1586740703 18<24UndeadLeech18>	Our rotation doesn't work correctly. Escape `CSI Ps T`.
T 1586740789 18<29kchibisov18>	and sway uses Dvorak bindings as well in QWERTY layout if I do --bind-to-code.
T 1586740817 18<29kchibisov18>	this is just pure madness.
T 1586741316 18<24UndeadLeech18>	https://github.com/alacritty/alacritty/issues/3582
T 1586741321 18<24UndeadLeech18>	I can't believe I've never noticed that.
T 1586741325 18<24UndeadLeech18>	This is pretty borked.
T 1586741853 18<24UndeadLeech18>	Also I think my reflow implementation might be functionally finished.
T 1586741861 18<24UndeadLeech18>	I'll have to do a ton of testing though.
T 1586741870 18<24UndeadLeech18>	And there's two dozen TODOs left.
T 1586742084 18<29kchibisov18>	If I understand the thing correctly, you bind to a physical location based on keymap.
T 1586742195 18<24UndeadLeech18>	How would that work though, do they check if the key exists on your keymap and then choose fallback if it doesn't?
T 1586742199 18<24UndeadLeech18>	Like if ctrl+c just works with software dvorak and russian.
T 1586742219 18<24UndeadLeech18>	Because on software dvorak it obviously should be at dvorak `c` location.
T 1586742220 18<29kchibisov18>	So you iterate all configured keymaps and collect their keysyms and bind to code in the end, if you requested to bind by code.
T 1586742253 18<29kchibisov18>	And on russian keyboard it's not a place for software dvorak.
T 1586742337 18<29kchibisov18>	I mean it's not on QWERTY place when you use --bind-to-code, but on software dvorak C position, as well as other bindings.
T 1586742396 18<24UndeadLeech18>	You said that other applications just handle it without having to configure anything though, right?
T 1586742403 18<29kchibisov18>	right.
T 1586742409 18<29kchibisov18>	I want the same in alacritty.
T 1586742420 18<24UndeadLeech18>	That would require a more complicated solution then though.
T 1586742439 18<29kchibisov18>	yeah, and such thing is costly.
T 1586742446 18<24UndeadLeech18>	Since software dvorak on a qwerty keyboard shouldn't have it at the qwerty location. But software russian on qwerty keyboard should?
T 1586742457 18<24UndeadLeech18>	Seems like a mess to me. Just force everyone to use qwerty.
T 1586742481 18<29kchibisov18>	I mean software russian has it on dvorak location.
T 1586742573 20*	Disconnected (20)
T 1586742601 Python interface unloaded
T 1586742601 FiSHLiM plugin unloaded
T 1587051375 19*	Now talking on 22#alacritty
T 1587051375 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587051375 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587058124 20*	Disconnected (20)
T 1587058153 19*	Now talking on 22#alacritty
T 1587058153 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587058153 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587074329 20*	Disconnected (20)
T 1587074356 19*	Now talking on 22#alacritty
T 1587074356 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587074356 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587078559 20*	Disconnected (20)
T 1587113818 19*	Now talking on 22#alacritty
T 1587113818 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587113818 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587138500 18<20basic18>	as soon as i have opacity activated in alacritty
T 1587138507 18<20basic18>	i observe some sort of "border" inside windows
T 1587138517 18<29kchibisov18>	Could you screenshot it?>
T 1587138524 18<20basic18>	it's really faint, i might not be able to screenshot it
T 1587138531 18<20basic18>	im sure i wouldn't see it on another monitor
T 1587138538 18<20basic18>	(because this one is expensive af)
T 1587138541 18<20basic18>	i try to screenshot
T 1587138573 18<20basic18>	https://paste.pics/71f76ca131c03e52c2fa1435f10fd5ae
T 1587138581 18<20basic18>	it's very visible
T 1587138600 18<20basic18>	(top and left edge)
T 1587138624 18<20basic18>	the floating shell window shows that it's not something that "shrines through"
T 1587138629 18<20basic18>	while that would be a weird shape either way
T 1587138653 18<20basic18>	it could be compton, tho
T 1587138655 18<29kchibisov18>	I see it, indeed.
T 1587138666 18<29kchibisov18>	I can't repro ofc.
T 1587138675 18<20basic18>	compton running?
T 1587138680 18<29kchibisov18>	I don't have X11.
T 1587138683 18<20basic18>	hm
T 1587138705 18<29kchibisov18>	Could it be shadows from compton?
T 1587138716 18<20basic18>	oh interesting
T 1587138755 18<20basic18>	yeah it's shadows
T 1587138758 18<20basic18>	:) thanks
T 1587138786 18<20basic18>	but why is everythings brighterr now
T 1587138788 18<20basic18>	wwhen startet
T 1587138788 18<20basic18>	hm
T 1587138841 18<20basic18>	well the answer is also shadow >.<
T 1587140413 18<29kchibisov18>	UndeadLeech: amazing selection reflow, it discovered Wayland clipboard bug.
T 1587145003 18<24nimbius18>	anyone using noto fonts? im getting weird spacing issues.
T 1587145030 18<29kchibisov18>	make sure to type it coloreclty in config and ensure that it's a monospace font.
T 1587145100 18<24nimbius18>	same issue if i switch to mono
T 1587145247 18<24nimbius18>	hm
T 1587145253 18<24nimbius18>	nevermind, retyped and now it works?
T 1587145337 18<24nimbius18>	do all fonts have to be monospace?
T 1587145535 18<20cole-h18>	If you want them to look nice in a terminal
T 1587145618 18<24nimbius18>	hm
T 1587145628 18<24nimbius18>	im guessing alacritty is somehow different than gnome-terminal?
T 1587145739 18<29kchibisov18>	ofc, it's a different terminal.
T 1587145755 18<29kchibisov18>	but I don't know any terminal supporting proportional fonts.
T 1587145773 18<29kchibisov18>	Like we can draw them, sure, but they won't look good.
T 1587145785 18<29kchibisov18>	So you need monospace fonts.
T 1587145796 18<29kchibisov18>	e.g. DejaVu Sans Mono, Roboto Mono,
T 1587145914 18<24nimbius18>	interesting.
T 1587145968 18<24nimbius18>	maybe Noto isnt the best monospace font then.
T 1587145996 18<29kchibisov18>	there's Noto Mono
T 1587146021 18<29kchibisov18>	just try `fc-list | grep -i "noto.*mono"`
T 1587146025 18<24nimbius18>	correct...
T 1587146031 18<29kchibisov18>	you'll likely find out something.
T 1587146056 18<29kchibisov18>	note, if you see suffix CJK, that's not what you want.
T 1587146077 18<24nimbius18>	i guess noto is a step up from inconsolata
T 1587146155 18<24nimbius18>	rendering weird utf characters however is something different i guess.
T 1587147178 18<24nimbius18>	iosevka is a nice font
T 1587147473 18<24nimbius18>	thanks kchibisov  :)
T 1587151978 18<26candy18>	Hi
T 1587151986 18<29kchibisov18>	Hi.
T 1587151987 18<24UndeadLeech18>	kchibisov: Huh, really? What bug is it?
T 1587151992 18<26candy18>	how can i make new tab in alacritty?
T 1587151999 18<24UndeadLeech18>	You can't.
T 1587152011 18<26candy18>	ru sure?
T 1587152017 18<29kchibisov18>	UndeadLeech: there's some strange limit for 64KB, etc.
T 1587152029 18<29kchibisov18>	will be fixed at some point, but it was funny.
T 1587152059 18<24UndeadLeech18>	candy: I'm relatively certain that I haven't accidentally implemented this, yes.
T 1587152067 18<29kchibisov18>	Also, I feel like selection expansion on paste shouldn't be a thing.
T 1587152082 18<24UndeadLeech18>	Selection expansion on paste?
T 1587152090 18<26candy18>	i thinking about moving from lxterminal to alacritty, what you think about?
T 1587152093 18<29kchibisov18>	just try `cat`, paste something, select it, and continue to paste with mouse.
T 1587152108 18<29kchibisov18>	selection will be growing.
T 1587152151 18<24UndeadLeech18>	Oh yeah of course, selection expansion has always been a thing done on rendering, not on select.
T 1587152163 18<24UndeadLeech18>	Though it always has been questioned.
T 1587152223 18<29kchibisov18>	I wonder why it happens now.
T 1587152261 18<24UndeadLeech18>	It always was a problem with stuff like weechat, where we didn't have properly working rotation.
T 1587152266 18<26candy18>	can i change the colors of hostname etc?
T 1587152277 18<29kchibisov18>	it's done in your shell.
T 1587152282 18<24UndeadLeech18>	That's a shell, not a terminal thing candy. So yes you can.
T 1587152283 18<29kchibisov18>	we have nothing to do with that.
T 1587152290 18<26candy18>	that's a terminal thing
T 1587152294 18<29kchibisov18>	no.
T 1587152313 18<26candy18>	yes, it's different than all my other terminals
T 1587152324 18<29kchibisov18>	echo -e "\e[31mHOME\e[0m" is red
T 1587152328 18<29kchibisov18>	that's how coloring is done.
T 1587152354 18<26candy18>	yea i know
T 1587152363 18<26candy18>	but something just different in it
T 1587152370 18<29kchibisov18>	you can have system configuration to color hostname.
T 1587152378 18<29kchibisov18>	based on e.g. terminfo name.
T 1587152391 18<26candy18>	LOL , i try to explain
T 1587152408 18<29kchibisov18>	I try to answer how it is.
T 1587152418 18<26candy18>	i know what you talking about, i talking about different thing
T 1587152438 18<26candy18>	the gui is weird
T 1587152442 18<29kchibisov18>	ok, what thing are you talking about?
T 1587152456 18<29kchibisov18>	what gui?
T 1587152484 18<29kchibisov18>	I'm not sure that we have any, besides the terminal content.
T 1587152513 18<29kchibisov18>	if you can screenshot that gui, it could help.
T 1587152524 18<26candy18>	https://ibb.co/0M8q3s1
T 1587152528 18<26candy18>	see that picture
T 1587152541 18<29kchibisov18>	yeah, it's your shell.
T 1587152551 18<29kchibisov18>	green and blue.
T 1587152568 18<29kchibisov18>	you can change colors in config if you don't like them.
T 1587152616 18<29kchibisov18>	But you should ask, `my green color is weird`, since we have no clue what color your hostname is using.
T 1587152619 18<26candy18>	now look at the original colors
T 1587152621 18<26candy18>	https://ibb.co/D7dfQTb
T 1587152628 18<29kchibisov18>	they are not origianl
T 1587152645 18<29kchibisov18>	that's just your other terminal defined them.
T 1587152651 18<26candy18>	ok
T 1587152652 18<29kchibisov18>	we have our own colors.
T 1587152657 18<24UndeadLeech18>	If you don't like the colors, just change them?
T 1587152658 18<29kchibisov18>	some temrinal Y has their own.
T 1587152660 18<26candy18>	maybe i wrong
T 1587152667 18<26candy18>	that's a shell thing?
T 1587152675 18<29kchibisov18>	Shell askes for green.
T 1587152677 18<24UndeadLeech18>	The colors are identical.
T 1587152681 18<29kchibisov18>	asks*
T 1587152684 18<24UndeadLeech18>	They're just rendered differently.
T 1587152697 18<29kchibisov18>	we render green with value defined in our config.
T 1587152712 18<26candy18>	ok
T 1587152720 18<26candy18>	how can i change that?
T 1587152728 18<24UndeadLeech18>	The configuration file.
T 1587152735 18<29kchibisov18>	edit `alacritty.yml`
T 1587152737 18<26candy18>	it's in home?
T 1587152744 18<29kchibisov18>	you can place it in home.
T 1587152744 18<24UndeadLeech18>	You create it.
T 1587152752 18<24UndeadLeech18>	It's all documented on GitHub.
T 1587152772 18<29kchibisov18>	or was shipped with your distro package somewhere
T 1587152782 18<26candy18>	actually i think you need to improve the docs
T 1587152790 18<29kchibisov18>	how so?
T 1587152823 18<26candy18>	with pictures
T 1587152828 18<26candy18>	more visual
T 1587152842 18<29kchibisov18>	our docs are just .yml file.
T 1587152849 18<29kchibisov18>	what pictures do you want in .yml file?
T 1587152849 18<26candy18>	yea i saw
T 1587152851 18<24UndeadLeech18>	It's a terminal emulator...
T 1587152857 18<29kchibisov18>	^
T 1587152857 18<26candy18>	i know
T 1587152883 18<29kchibisov18>	I've never seen pictures of a terminal emulator tbh, they are all the same visually.
T 1587152892 18<29kchibisov18>	I mean multiple on front page.
T 1587152908 18<26candy18>	or maybe change the default shell color
T 1587152922 18<29kchibisov18>	What shell color?
T 1587152933 18<29kchibisov18>	Do you mean default color values?
T 1587152937 18<26candy18>	yes
T 1587152939 18<29kchibisov18>	That's subjective
T 1587152941 18<26candy18>	the hostname color etc
T 1587152982 18<29kchibisov18>	maybe you don't like them, someone else likes them, etc.
T 1587153006 18<26candy18>	i have to say i like it because of the performance
T 1587153006 18<29kchibisov18>	I mean colors.
T 1587153014 18<29kchibisov18>	if you don't like colors, just change them.
T 1587153080 18<26candy18>	you told me i need to place yml config file and i can choose the location. i am not sure how to set the location
T 1587153080 18<29kchibisov18>	We even has a wiki to copypaste colorschemes.
T 1587153080 18<29kchibisov18>	https://github.com/alacritty/alacritty#configuration
T 1587153080 18<26candy18>	i am using the binary file of this
T 1587153080 18<26candy18>	not package
T 1587153101 18<24UndeadLeech18>	The location for the configuration file is documented right in the readme.
T 1587153108 18<24UndeadLeech18>	It's also in the manpage.
T 1587153154 18<26candy18>	can i fetch only the man page?
T 1587153169 18<24UndeadLeech18>	I suppose you could.
T 1587153183 18<29kchibisov18>	I mean you've installed our binary somehow.
T 1587153188 18<26candy18>	yea
T 1587153194 18<26candy18>	i didn't installed
T 1587153195 18<29kchibisov18>	so if you have repo, then you have manpage in it.
T 1587153201 18<26candy18>	just run it
T 1587153233 18<26candy18>	sorry for my noob questions
T 1587153254 18<29kchibisov18>	our manpage doens't differ that match from alacritty --help
T 1587153272 18<24UndeadLeech18>	No problem, though reading through the documentation is likely going to be easier for you than having to wait for responses.
T 1587153293 18<24UndeadLeech18>	kchibisov: The difference matters here though, since `--help` does not document the config locations.
T 1587153294 18<24UndeadLeech18>	But the manpage does.
T 1587153298 18<29kchibisov18>	Specify alternative configuration file [default: $XDG_CONFIG_HOME/alacritty/alacritty.yml]
T 1587153301 18<29kchibisov18>	it has one of them at least.
T 1587153332 18<24UndeadLeech18>	Fair enough.
T 1587153417 18<26candy18>	what you think about adding tabs option?
T 1587153441 18<29kchibisov18>	We think that your window manager should do that.
T 1587153479 18<29kchibisov18>	But you have plenty of options like tmux/tabbed/i3 to have tabs.
T 1587153530 18<26candy18>	only few people using i3 wm
T 1587153548 18<26candy18>	and in the other we can make new tab, lets say in lxde
T 1587153554 18<26candy18>	can
T 1587153556 18<26candy18>	can't
T 1587153557 18<29kchibisov18>	I feel like a giant chunk of our users are using i3/sway
T 1587153566 18<29kchibisov18>	even macOS has a concept of tabs on a wm level.
T 1587153579 18<29kchibisov18>	and for the rest, there's `tabbed`.
T 1587153596 18<24UndeadLeech18>	If you can't make tabs in your window manager, but you want multiple tabs in your window manager, you're using the wrong window manager.
T 1587153623 18<24steinex18>	:D
T 1587153624 18<22ifreund18>	^^^
T 1587153627 18<26candy18>	maybe you right :)
T 1587153640 18<29kchibisov18>	Just use tabbed from suckless, and embed alacritty into it.
T 1587153647 18<26candy18>	but i3 it too minimal
T 1587153650 18<24UndeadLeech18>	Though there are alternatives, like kchibisov has mentioned.
T 1587153654 18<22ifreund18>	no i3 is bloated
T 1587153668 18<22ifreund18>	(it's all relative)
T 1587153670 18<24UndeadLeech18>	Even has resize with mouse.
T 1587153684 18<26candy18>	what do you suggest?
T 1587153695 18<29kchibisov18>	idk, try `tabbed`.
T 1587153695 18<24UndeadLeech18>	It depends on your needs.
T 1587153706 18<24UndeadLeech18>	I run i3, but I never use tabs.
T 1587153718 18<24UndeadLeech18>	Someone else might run tmux, because they need it anyways.
T 1587153720 18<29kchibisov18>	I run sway and use tabs quite often.
T 1587153769 18<26candy18>	i'm using tmux
T 1587153778 18<29kchibisov18>	it has tabs as well.
T 1587153789 18<26candy18>	but you know, it has his Disadvantages
T 1587153802 18<24UndeadLeech18>	Yeah if you're running tmux anyways, just use tmux for tabs.
T 1587153837 18<29kchibisov18>	I don't see any problems with tmux at all, it's nice.
T 1587153851 18<29kchibisov18>	it aslo has a lot of flagship features, etc.
T 1587153864 18<24UndeadLeech18>	I mean it is slow.
T 1587153868 18<29kchibisov18>	not really.
T 1587153873 18<26candy18>	i didn't knew tmux can create tabs
T 1587153879 18<29kchibisov18>	like it's still faster than most terminal emulators.
T 1587153881 18<26candy18>	i mean background tabs
T 1587153887 18<24UndeadLeech18>	Yeah, but compared to raw Alacritty it's slow.
T 1587153897 18<29kchibisov18>	yeah, but it's faster than 99% of terminals.
T 1587153911 18<24UndeadLeech18>	Unfortunately I don't run 99% of terminals. :P
T 1587153915 18<29kchibisov18>	and then you have alacirtty, which is faster than tmux.
T 1587153925 18<29kchibisov18>	by like 2x.
T 1587153951 18<24UndeadLeech18>	I really wonder how an Alacritty based multiplexer would perform wrt overhead.
T 1587153952 18<22ifreund18>	i don't run tmux either, it does the same job as my window manager
T 1587153958 18<24UndeadLeech18>	One of these days I'm going to give it a try.
T 1587153978 18<22ifreund18>	like a client/sever session model? or what?
T 1587153994 18<24UndeadLeech18>	Nah, just a tmux/screen clone based on Alacritty.
T 1587153995 18<26candy18>	what is good wm other than i3?
T 1587154007 18<29kchibisov18>	it's up to your needs.
T 1587154009 18<22ifreund18>	dwm, awesomewm, xmonad sway
T 1587154016 18<29kchibisov18>	dwm lul.
T 1587154029 18<22ifreund18>	dude i liked dwm
T 1587154039 18<24UndeadLeech18>	lol
T 1587154051 18<22ifreund18>	but i don't like x, so i'm making my own dwm-alike for wayland
T 1587154064 18<29kchibisov18>	I hate a lot of things about i3 window management.
T 1587154071 18<22ifreund18>	same
T 1587154077 18<29kchibisov18>	but whatever.
T 1587154078 18<24UndeadLeech18>	dwm is the largest stockholm syndrome experiment to date.
T 1587154091 18<26candy18>	i3 is so lite
T 1587154092 18<26candy18>	that's cool
T 1587154098 18<26candy18>	what's about dwm?
T 1587154103 18<29kchibisov18>	it's even lighter.
T 1587154109 18<26candy18>	wow
T 1587154109 18<29kchibisov18>	like 1k lines of code.
T 1587154113 18<22ifreund18>	2k
T 1587154114 18<24UndeadLeech18>	Yeah, it just doesn't do anything.
T 1587154118 18<29kchibisov18>	no tabs, nothing IIRC.
T 1587154126 18<29kchibisov18>	can tile though.
T 1587154135 18<22ifreund18>	tags and dynamic tiling isn't nothing
T 1587154139 18<22ifreund18>	i3 doesn't have tags
T 1587154145 18<26candy18>	in which lang it was written?
T 1587154147 18<22ifreund18>	c
T 1587154151 18<26candy18>	nice
T 1587154155 18<22ifreund18>	you configure it by editing the source code
T 1587154161 18<26candy18>	lol
T 1587154167 18<22ifreund18>	https://dwm.suckless.org/
T 1587154168 18<29kchibisov18>	I guess you can write it in whatever language you want under a few evenings.
T 1587154183 18<24UndeadLeech18>	I mean that's mostly because i3 doesn't want to have tags.
T 1587154190 18<22ifreund18>	yeah xmonad is basically dwm in haskell in even less sloc
T 1587154195 18<26candy18>	i am not so well in c
T 1587154210 18<24UndeadLeech18>	Though I do feel like there's a market for other tiling WMs. Just not dwm.
T 1587154214 18<26candy18>	i know how to program in it but i regular to python etc
T 1587154223 18<26candy18>	so i don't know how to handle the memory
T 1587154235 18<29kchibisov18>	i3 navigation between containers and multi monitor support is weird.
T 1587154250 18<29kchibisov18>	And resize is even weirder.
T 1587154255 18<22ifreund18>	yeah, i want separate roots for each monitor
T 1587154262 18<29kchibisov18>	like 2 widnows - ok, 6 windows - hell no.
T 1587154277 18<29kchibisov18>	glad sway has mouse for such things, since it's way easier than keyboard.
T 1587154278 18<24UndeadLeech18>	Oh yeah, I have that setup in i3.
T 1587154281 18<24UndeadLeech18>	The defaults just suck.
T 1587154298 18<24UndeadLeech18>	Like I have 5 workspaces on each monitor which cannot be shared across monitors.
T 1587154309 18<29kchibisov18>	like resize with keyboard in i3 is a shitstorm.
T 1587154317 18<22ifreund18>	for real
T 1587154319 18<29kchibisov18>	as well as traversion order.
T 1587154326 18<24UndeadLeech18>	i3 has mouse for resize too?
T 1587154330 18<24UndeadLeech18>	Or what do you mean?
T 1587154332 18<22ifreund18>	i just like dynamic window management better than manual though personally
T 1587154335 18<29kchibisov18>	I mean for window move.
T 1587154347 18<29kchibisov18>	resize is fine, nvm.
T 1587154348 18<22ifreund18>	which you can't really get in i3 no matter how much you configure
T 1587154350 18<29kchibisov18>	moving containers is broken.
T 1587154357 18<24UndeadLeech18>	How so?
T 1587154357 18<29kchibisov18>	however maybe new i3 has it.
T 1587154362 18<24UndeadLeech18>	ifreund: You can.
T 1587154372 18<24UndeadLeech18>	It would just be a bit of work.
T 1587154372 18<22ifreund18>	UndeadLeech: got a link?
T 1587154373 18<29kchibisov18>	it's hard, when you have plenty of them.
T 1587154404 18<22ifreund18>	i feel like no matter how you implement it it's going to be a massive hack and not work as well as a wm designed around it
T 1587154405 18<24UndeadLeech18>	kchibisov: How is it broken though, just out of curiosity?
T 1587154420 18<29kchibisov18>	I can record you a giga video of me trying to move window.
T 1587154423 18<22ifreund18>	maybe I'll convert y'all once my compositor is more feature complete
T 1587154427 18<24UndeadLeech18>	ifreund: That's not the same as saying you can't really get it no matter how much you configure.
T 1587154459 18<24UndeadLeech18>	Moving windows in i3 with the mouse you mean? While tiled?
T 1587154461 18<22ifreund18>	i meant that you can sorta aproximate it, but not in a satisfactory way (at least to me)
T 1587154466 18<29kchibisov18>	UndeadLeech: yeah.
T 1587154477 18<24UndeadLeech18>	Ah, gotcha. Like drag & drop or what?
T 1587154487 18<24UndeadLeech18>	I've never had any desire for that. Thought you were talking about floating windows or something.
T 1587154488 18<29kchibisov18>	yeah, this drag & drop works fine.
T 1587154507 18<29kchibisov18>	but moving with keyboard tiled windows if you have many of them is just hard.
T 1587154521 18<29kchibisov18>	you'll break your layout and everything 100 times during it.
T 1587154586 18<24UndeadLeech18>	I'd say that's just mostly something that depends on getting used to it, but the layout management of i3 certainly isn't perfect imho.
T 1587154609 18<24UndeadLeech18>	But I never have more than 3 windows open at the same time on the same monitor really.
T 1587154629 18<29kchibisov18>	I have somtimes like 8 windows on the same monitor.
T 1587154653 18<29kchibisov18>	I mean workspace.
T 1587154768 18<29kchibisov18>	Oh, and if you have tabbed container in this equation, everything will be even more broken.
T 1587154804 18<29kchibisov18>	Like it's not a problem if you use 3 windows max on workspace without tabs, etc.
T 1587154979 18<24UndeadLeech18>	Exactly what I'm saying.
T 1587154989 18<24UndeadLeech18>	Just gotta fix the user.
T 1587155033 18<24UndeadLeech18>	Also ifreund, are you writing your compositor in C based on WLC?
T 1587155105 18<29kchibisov18>	Though, once anvil will become more stable I'll just use it.
T 1587155122 18<29kchibisov18>	because it's anvil.
T 1587155140 18<22ifreund18>	UndeadLeech: in Zig based on wlroots
T 1587155147 18<24UndeadLeech18>	Isn't anvil floating?
T 1587155150 18<22ifreund18>	https://github.com/ifreund/river
T 1587155155 18<29kchibisov18>	it doesn't matter.
T 1587155164 18<24UndeadLeech18>	Fair enough.
T 1587155170 18<29kchibisov18>	it's anvil and it works.
T 1587155191 18<24UndeadLeech18>	ifreund: What do you like about zig?
T 1587155257 18<22ifreund18>	So in comparison with Rust, it's a far simpler language and has much less painful interop with C, making it pretty ideal for this project
T 1587155284 18<29kchibisov18>	Nah, we need competition.
T 1587155300 18<29kchibisov18>	so smithay is the way to go.
T 1587155308 18<22ifreund18>	the ergonomics are pretty great and the finely grained pointer and optional pointer types are powerful enough that I'm not shooting myself in the foot anywhere near as easily as in C
T 1587155410 18<24UndeadLeech18>	Fair enough, I'd assume by better interop you mean that the APIs are easier to use since it's more similar to C, rather than that connecting to those APIs is easier?
T 1587155418 18<24UndeadLeech18>	Since just the FFI part is pretty trivial in Rust too.
T 1587155572 18<22ifreund18>	both tbh, Zig lets you import C stuff directly without any need for bindings
T 1587155584 18<22ifreund18>	you're also definitely right about it being closer to C
T 1587155618 18<22ifreund18>	take the example of the offset_of macro that wayland-rs uses for the bindings to system wayland libs
T 1587155652 18<22ifreund18>	that macro is technically UB since rust doesn't have the required compiler builtins yet
T 1587155682 18<24UndeadLeech18>	I mean yeah, when it comes to the APIs of C just working better in Zig, I can totally see that.
T 1587155683 18<22ifreund18>	(this is translating the wl_container_of macro that gets a pointer to a struct from a pointer to a member and the name of the field)
T 1587155692 18<24UndeadLeech18>	That's why I'd just use the Wayland libs, rather than WLC tbh.
T 1587155699 18<22ifreund18>	Zig just has @fieldParentPtr
T 1587155702 18<29kchibisov18>	You see, Rust tells you to rewrite libwayland-client/server in Rust.
T 1587155708 18<29kchibisov18>	so you're safe.
T 1587155740 18<22ifreund18>	if you want my honest opinion, i don't think that RWIR is good engineering
T 1587155766 18<24UndeadLeech18>	I think rewriting things is always great.
T 1587155781 18<24UndeadLeech18>	Pretty much the best way to learn about things.
T 1587155781 18<22ifreund18>	if they're probelms with them, sure
T 1587155782 18<29kchibisov18>	exactly, especially if it'll be more secure.
T 1587155790 18<29kchibisov18>	or scalable.
T 1587155820 18<29kchibisov18>	Like the least thing I want is crashing of my compositor due to use-after-free.
T 1587155827 18<24UndeadLeech18>	Also systems languages are pretty much the only ones so heavily relying on C. Having alternatives is definitely a good choice.
T 1587155837 18<24UndeadLeech18>	There shouldn't be just one Wayland library.
T 1587155839 18<22ifreund18>	it is a very good way to learn as well, but it's not very pragmatic as rust libraries are not reusable outside of the rust ecosystem
T 1587155855 18<24UndeadLeech18>	That's not true.
T 1587155875 18<24UndeadLeech18>	Not necessarily at least.
T 1587155880 18<29kchibisov18>	Wayland is just a protocol, it doesn't matter what is on the other end.
T 1587155890 18<24UndeadLeech18>	That too of course.
T 1587155893 18<29kchibisov18>	like if it's rust lib or some C lib.
T 1587155897 18<29kchibisov18>	doesn't matter.
T 1587155921 18<24UndeadLeech18>	I mean one of the whole things about zig is that they don't use the C libc, right?
T 1587155923 18<29kchibisov18>	At least for server, since you only have one compostor running.
T 1587155955 18<22ifreund18>	yes, but exporting a C ABI with auto-generated C headers is a first class use-case for zig
T 1587155973 18<29kchibisov18>	I don't have any problems with zig.
T 1587155982 18<29kchibisov18>	I see that it could be useful for baremetal.
T 1587155988 18<22ifreund18>	to be clear I quite like rust too
T 1587156002 18<29kchibisov18>	However if it's using LLVM, I don't see much value for cross over rust.
T 1587156054 18<29kchibisov18>	since #[no_std] is fine to write kernels, etc.
T 1587156065 18<22ifreund18>	cross becomes a lot more painless due to the fact that Zig ships with the libcs of all the targets
T 1587156067 18<24UndeadLeech18>	Yeah, bare metal without gcc is kinda tough tbh.
T 1587156084 18<24UndeadLeech18>	So that kinda defeats the point.
T 1587156115 18<29kchibisov18>	yeah, but you don't need libc for rust core IIRC.
T 1587156140 18<29kchibisov18>	The problem is LLVM limitations most of the time.
T 1587156182 18<22ifreund18>	rust std does depend on libc though right?
T 1587156197 18<29kchibisov18>	std probably, but you have core.
T 1587156200 18<24UndeadLeech18>	Yeah, LLVM is the big thing people complain about with Rust's cross-platform support on embedded. So that's the same for zig.
T 1587156221 18<29kchibisov18>	like core isn't a problem in cross.
T 1587156234 18<29kchibisov18>	And it aslo has vector, etc.
T 1587156255 18<29kchibisov18>	With a bit more effort, but it's exaclty built for cross.
T 1587156273 18<24UndeadLeech18>	Also has a great VTE lib I heard.
T 1587156291 18<20Levanx18>	you need alloc to have the collections, core is not enough
T 1587156303 18<29kchibisov18>	yeah, but you can create your allocator.
T 1587156328 18<29kchibisov18>	So you'll have alloc, but still #[no_std]
T 1587156393 18<29kchibisov18>	vec is in alloc::vec::Vec, right.
T 1587156393 18<29kchibisov18>	but it's still can be #[no_std]
T 1587156405 18<24UndeadLeech18>	Nah, vec is std exclusive iirc. But there are crates for no-std vec.
T 1587156455 18<29kchibisov18>	I've seen alloc::vec::Vec on #[no_std] recently.
T 1587156518 18<20Levanx18>	https://doc.rust-lang.org/stable/alloc/vec/struct.Vec.html
T 1587156518 18<20Levanx18>	looks like alloc to me
T 1587156518 18<24UndeadLeech18>	Yeah, you're right: https://doc.rust-lang.org/alloc/vec/struct.Vec.html
T 1587156518 18<24UndeadLeech18>	But it doesn't show up in core::alloc: https://doc.rust-lang.org/core/alloc/index.html?search=
T 1587156538 18<24UndeadLeech18>	Only in alloc::.
T 1587156568 18<24UndeadLeech18>	So there's ::alloc, std::alloc, core::alloc, std::vec::Vec and alloc::vec::Vec.
T 1587156568 18<24UndeadLeech18>	Simple.
T 1587156611 18<20Levanx18>	Half of std is reexports from core or alloc though
T 1587156619 18<24UndeadLeech18>	Yeah.
T 1587156642 18<24UndeadLeech18>	I'm fine with two different allocs, three's just a bit much.
T 1587156672 18<20Levanx18>	Probably they could have been better named
T 1587156709 18<20Levanx18>	I understand core::alloc as the APIs for defining an allocator, and ::alloc as a collection of containers & types needing an allocator
T 1587156721 18<29kchibisov18>	IIRC to make Vec work you need #[global_allocator] somewhere on your #[no_std]
T 1587156747 18<29kchibisov18>	Since you don't have allocator on bare metal for known reasons.
T 1587156768 18<29kchibisov18>	once you have dynamic memory you can use it.
T 1587156783 18<20Levanx18>	We need CPUs with a malloc opcode then
T 1587156833 18<29kchibisov18>	I mean you can define [0u64;1000] area and say that's your dynamic memory.
T 1587156853 18<22ifreund18>	ah yeah that's another thing I really appreciate about zig, allocators are all local and you have total controll
T 1587156886 18<24UndeadLeech18>	Levanx: I think that ::alloc is kind of a recent thing, right?
T 1587156895 18<24UndeadLeech18>	That's probably some of the reason why it is the way it is.
T 1587156914 18<24UndeadLeech18>	Since Rust's STD cannot introduce breaking changes ever.
T 1587156931 18<20Levanx18>	Its stabilization is relatively recent yeah
T 1587156950 18<20Levanx18>	it has been existing on nightly for quite some time though
T 1587156995 18<20Levanx18>	stabilized in 1.36.0 looks like
T 1587157011 18<29kchibisov18>	Yeah, just fine out code that uses #[no_std] + Vec from `alloc::vec::Vec`
T 1587157012 18<24UndeadLeech18>	Yeah that's like extremely recent.
T 1587157022 18<24UndeadLeech18>	The whole custom allocator thing is fairly fresh.
T 1587157028 18<29kchibisov18>	without any external crates.
T 1587157047 18<29kchibisov18>	custom allocator isn't that fresh.
T 1587157065 18<29kchibisov18>	it was during jemalloc/sys allocator updates.
T 1587157080 18<24UndeadLeech18>	Pretty fresh if you ask me.
T 1587157087 18<20Levanx18>	<ifreund "ah yeah that's another thing I r"> There is one thing that wayland-rs does not support at all that the C libwayland lib handle, it's OOM.
T 1587157120 18<24UndeadLeech18>	How do they handle it and during what time might you run into OOM?
T 1587157177 18<20Levanx18>	Well, they check the return value of malloc and return NULL if it is NULL, mostly.
T 1587157218 18<24UndeadLeech18>	Ah, so you just mean in general rather than some specific cases? Since Rust doesn't handle OOM?
T 1587157237 18<20Levanx18>	In Rust currently, OOM => panic
T 1587157242 18<24UndeadLeech18>	Yeah exactly.
T 1587157245 18<29kchibisov18>	but you can catch panic.
T 1587157291 18<20Levanx18>	Well yeah but
T 1587157319 18<29kchibisov18>	I still think that checking malloc won't help if you if get `NULL`
T 1587157335 18<22ifreund18>	what? why not?
T 1587157360 18<29kchibisov18>	Like it could help, but if your system already goes to OOM, kernel will just start killing everyone.
T 1587157397 18<22ifreund18>	well if everything crashes execept your program, it may very well survive
T 1587157414 18<29kchibisov18>	nah, I can make my GPU driver to leak 64GB
T 1587157433 18<29kchibisov18>	and kernel won't free that memory ever.
T 1587157440 18<22ifreund18>	hah
T 1587157440 18<29kchibisov18>	like whatever.
T 1587157458 18<29kchibisov18>	and UndeadLeech even reproduced that bug at some point IIRC.
T 1587157465 18<24UndeadLeech18>	:)
T 1587157490 18<29kchibisov18>	And we now that removing kernel module for your GPU isn't a good idea.
T 1587157498 18<20Levanx18>	driver bugs are always the best part
T 1587157547 18<22ifreund18>	which driver is this?
T 1587157559 18<29kchibisov18>	amdgpu
T 1587157574 18<22ifreund18>	hah i guess it will happen to me someday as well then
T 1587157581 18<29kchibisov18>	oh, you can try.
T 1587157584 18<28Yaniel18>	what bug with amdgpu?
T 1587157597 18<28Yaniel18>	oh, a memory leak
T 1587157607 18<20Levanx18>	Oh, how do you make it leak that much memory? I'll have to try it when I go back to the lab
T 1587157616 18<29kchibisov18>	it's not really a leak.
T 1587157628 18<29kchibisov18>	amdgpu can use RAM if it runs out of dedicated memory
T 1587157635 18<29kchibisov18>	by default.
T 1587157649 18<28Yaniel18>	yes that's how OpenGL works
T 1587157672 18<20Levanx18>	and that is never freed ?
T 1587157676 18<29kchibisov18>	yeah.
T 1587157690 18<29kchibisov18>	and it goes like from 8GB to 64GB under a second.
T 1587157714 18<29kchibisov18>	Just increase font in alacritty, and at some point it'll blow up.
T 1587157728 18<29kchibisov18>	At least it was true somee time ago, when I've found it out.
T 1587157743 18<24UndeadLeech18>	Yeah, I wasn't able to reload my kernel module. :) Didn't go well.
T 1587157744 18<29kchibisov18>	like 5 months ago.
T 1587157753 18<24UndeadLeech18>	Unless you like black screens.
T 1587157765 18<29kchibisov18>	but you should do it for some time.
T 1587157789 18<20Levanx18>	Black screens do have some kind of aesthetics though
T 1587157801 18<24UndeadLeech18>	True.
T 1587157813 18<24UndeadLeech18>	If you're lucky it will just kill X and because of that close Alacritty though.
T 1587157827 18<29kchibisov18>	but memory won't be freed.
T 1587157843 18<29kchibisov18>	even if you logout.
T 1587157844 18<24UndeadLeech18>	You sure? I thought that it worked for me. I don't quite remember.
T 1587157859 18<29kchibisov18>	I've logged out/logged in and there was a leak.
T 1587157860 18<24UndeadLeech18>	But yeah, I just don't remember anymore.
T 1587157876 18<24UndeadLeech18>	I do remember not being able to free stuff anymore.
T 1587157881 18<29kchibisov18>	like 48 GB of memory without even a process in htop.
T 1587157881 18<20Levanx18>	Who needs more than 640kB of memory though
T 1587157941 18<29kchibisov18>	If someone will repro this bug, let me know.
T 1587157951 18<29kchibisov18>	I don't want to try it one more time.
T 1587157959 18<28Yaniel18>	I did manage to cause a kernel panic from amdgpu recently but I don't think it was related to this
T 1587157972 18<24UndeadLeech18>	You really have to look for this to work.
T 1587157981 18<29kchibisov18>	yeah.
T 1587157990 18<28Yaniel18>	since it happened when I tried hw encoding video at 4K
T 1587157992 18<29kchibisov18>	you should increase font in alacritty for some time.
T 1587158020 18<29kchibisov18>	like a minute or two.
T 1587158137 18<29kchibisov18>	but the funnies thing here, that kernel will be killing everyone, because no process is owning this memory at all.
T 1587158150 18<29kchibisov18>	funniest*
T 1587158167 18<24UndeadLeech18>	The Purge.
T 1587158177 18<20Levanx18>	how to make the oom killer freak out
T 1587158194 18<29kchibisov18>	but hey, it works at least.
T 1587158272 18<20Levanx18>	Does that end up with a "Kernel panic: attempted to kill init!" ?
T 1587158284 18<20Levanx18>	I've hit this message a few times, don't remember how though
T 1587158287 18<29kchibisov18>	I pressed reboot earlier.
T 1587158313 18<29kchibisov18>	but you can try!
T 1587158366 18<29kchibisov18>	I feel like this bug should be still there.
T 1587158380 18<20Levanx18>	I don't have my amgpu laptop with me, I left it at the lab. So I have to wait to be allowed to go work again.
T 1587158393 18<20Levanx18>	The suspense is going to kill me :'(
T 1587158398 18<24UndeadLeech18>	It came back for me after killing Alacritty.
T 1587158402 18<24UndeadLeech18>	Just tested it.
T 1587158409 18<29kchibisov18>	:- )
T 1587158414 18<29kchibisov18>	so bug is still there.
T 1587158415 18<24UndeadLeech18>	https://paste.rs/zHR.png
T 1587158423 18<24UndeadLeech18>	But the 11G memory are gone.
T 1587158465 18<24UndeadLeech18>	I think that's what happened for me last time too. So you're right that there's no way to get back that memory, but you might be able to recover.
T 1587158473 18<24UndeadLeech18>	Guess I'll see you guys after a reboot. :)
T 1587158491 18<29kchibisov18>	11 GB isn't a thing, just let them chill around.
T 1587158508 18<24UndeadLeech18>	I mean I could. But I can't.
T 1587158511 18<20Levanx18>	What kind of computer is that
T 1587158516 18<20Levanx18>	48 cpus ? :o
T 1587158517 18<24UndeadLeech18>	That's my desktop.
T 1587158534 18<28Yaniel18>	presumably (logical) cores
T 1587158565 18<20Levanx18>	yeah but still
T 1587158569 18<20Levanx18>	Do you have a Xeon on your desktop ?
T 1587158577 18<28Yaniel18>	I'm guessing two xeons
T 1587158587 18<29kchibisov18>	it's just threadripper for 24 cores.
T 1587158630 18<29kchibisov18>	https://www.amd.com/en/products/cpu/amd-ryzen-threadripper-3960x
T 1587158633 18<28Yaniel18>	oh right that has a 24/48 variant too
T 1587158667 18<24UndeadLeech18>	Yeah, it's the 3960X.
T 1587158707 18<20Levanx18>	Wow, AMD sure went down the "moar cores" road
T 1587158721 18<24UndeadLeech18>	Not having a power of 2 as CPUs is a bit annoying, but I just couldn't justify paying even more.
T 1587158743 18<24UndeadLeech18>	At least it divides nicely by 3.
T 1587158853 18*	20Levanx just checked the price on Amazon.
T 1587158863 18<20Levanx18>	._.
T 1587158896 18<29kchibisov18>	but hey, imagine gentoo on this thing.
T 1587158904 18<29kchibisov18>	system update is a breeze.
T 1587158919 18<20Levanx18>	I can imagine that, yeah
T 1587158941 18<29kchibisov18>	like on my 8 core system kernen takes like 90 seconds.
T 1587158946 18<20Levanx18>	Compiling rustc must take, hmmm, at least 10 minutes
T 1587158953 18<28Yaniel18>	*cries in 4 cores without HT*
T 1587158988 18<29kchibisov18>	but with let's say 32/64 it's just waiting for linker.
T 1587158999 18<28Yaniel18>	heh
T 1587159082 18<20Levanx18>	The time I contributed a little to rustc, on my poor i5, was quite a painful experience
T 1587159147 18<24UndeadLeech18>	Yeah, even on this machine it's basically all linking.
T 1587159157 18<24UndeadLeech18>	Though debug mode Alacritty with lldb is pretty fast.
T 1587159167 18<29kchibisov18>	lldb?
T 1587159175 18<24UndeadLeech18>	lld, not lldb.
T 1587159177 18<29kchibisov18>	time to lldb my code.
T 1587159182 18<24UndeadLeech18>	:P
T 1587159204 18<29kchibisov18>	I feel like I don't need to sleep that often tbh.
T 1587159222 18<24UndeadLeech18>	What?
T 1587159224 18<29kchibisov18>	Like I have giga PRs around to review and shit ton of code to write.
T 1587159241 18<29kchibisov18>	Should be fine.
T 1587159267 18<29kchibisov18>	Also, UndeadLeech , is it a bug or feature with selection expansion on shell?
T 1587159279 18<24UndeadLeech18>	Ah, good thing search is only 1000 lines on top of the existing PR.
T 1587159283 18<24UndeadLeech18>	What do you mean?
T 1587159300 18<29kchibisov18>	I mean when you paste with middle click you auto extend selection
T 1587159308 18<29kchibisov18>	Have you reprod it?
T 1587159362 18<29kchibisov18>	it's a thing on master as well, but I'm not sure what this thing is.
T 1587159411 18<29kchibisov18>	I feel like it's a bug.
T 1587159411 18<24UndeadLeech18>	Selection always auto expands.
T 1587159413 18<24UndeadLeech18>	No matter what you do.
T 1587159420 18<24UndeadLeech18>	That has always been how it works.
T 1587159455 18<29kchibisov18>	Oh, it's a correct behavior.
T 1587159475 18<29kchibisov18>	since it's a word, and you increase word len.
T 1587159488 18<24UndeadLeech18>	Yeah. It's always been a bit weird to me.
T 1587159492 18<29kchibisov18>	so you just update it to include word.
T 1587159495 18<29kchibisov18>	whatever.
T 1587159500 18<24UndeadLeech18>	But expansion is done at render time, not at selection time.
T 1587159515 18<29kchibisov18>	yeah, I know, we started doing so recently.
T 1587159518 18<24UndeadLeech18>	So I don't want to say it should definitely work the way it does, but it has always at least until now.
T 1587159670 18<29kchibisov18>	But at least we found out a lot of strange issues about our reflow.
T 1587159736 18<24UndeadLeech18>	Gotta look at the bright things. If something's not working amazingly well, it's an opportunity to make it.
T 1587159771 18*	29kchibisov looks at our renderer, closes our renderer code.
T 1587159783 18<24UndeadLeech18>	I don't think that's terrible tbh.
T 1587159788 18<24UndeadLeech18>	Like reflow is much worse.
T 1587159799 18<29kchibisov18>	it's not terrible, it's strange.
T 1587159800 18<24UndeadLeech18>	The worst parts are just all the OpenGL stuff.
T 1587159806 18<24UndeadLeech18>	Which is how OpenGL works.
T 1587159822 18<29kchibisov18>	everything in render/mod.rs is just strange.
T 1587159833 18<29kchibisov18>	starting from live reload of shaders from build directory.
T 1587159845 18<29kchibisov18>	I mean project root or whatever.
T 1587159858 18<24UndeadLeech18>	Huh, don't really feel the same. All the glyph/font/atlas stuff is pretty good imho.
T 1587159878 18<24UndeadLeech18>	Live shader reload is a bit strange, that's true.
T 1587159911 18<24UndeadLeech18>	Which is why I've proposed removing it before. I feel like we either need to make it a first class citizen or just scrap it. It might have originally been there to make development easier, I'm not sure.
T 1587159938 18<24UndeadLeech18>	Like that's the only usecase I see for how it works at the moment.
T 1587159974 18<29kchibisov18>	you should edit your shader in nano to make it work.
T 1587160011 18<24UndeadLeech18>	Right, there was some kind of issue with reloading files instead of directories.
T 1587160026 18<24UndeadLeech18>	Though I don't really remember what it was.
T 1587160037 18<24UndeadLeech18>	Vim replaces the file instead of changing it?
T 1587160047 18<29kchibisov18>	I've used this feature only once.
T 1587160075 18<24UndeadLeech18>	I've never used this feature for anything other than testing it out to mess with funky shaders.
T 1587160117 18<29kchibisov18>	I feel like util.rs files are just neccessary evil sometimes.
T 1587160127 18<24UndeadLeech18>	Never!
T 1587160133 18<29kchibisov18>	like I have no idea where to put some glue code.
T 1587160175 18<29kchibisov18>	Like I don't need it in public, just in 2 different modules.
T 1587160179 18<29kchibisov18>	which are not connected
T 1587160189 18<24UndeadLeech18>	Just found the `limit` function, which we use in exactly one place.
T 1587160190 18<24UndeadLeech18>	Nice.
T 1587160241 18<29kchibisov18>	I really don't see where you'll put something like `spawned_named` tbh.
T 1587160252 18<29kchibisov18>	spawn_named*
T 1587160260 18<29kchibisov18>	or start_daemon
T 1587160297 18<29kchibisov18>	touch util.rs
T 1587160331 18<24UndeadLeech18>	alacritty_terminal/thread.rs?
T 1587160347 18<24UndeadLeech18>	Oh, nvm you're talking about the process stuff not thread.
T 1587160355 18<24UndeadLeech18>	alacritty_terminal/process.rs?
T 1587160365 18<29kchibisov18>	and alacritty_terminal/thread.rs as well
T 1587160390 18<29kchibisov18>	just 2 files with 1 function each.
T 1587160405 18<24UndeadLeech18>	At least it's not 1 file with a shitty name!
T 1587160406 18<29kchibisov18>	and copyright message larger than the entire file.
T 1587160430 18<24UndeadLeech18>	I don't really understand the capyright message anyways.
T 1587160440 18<29kchibisov18>	I also wonder whether we should use it for new files
T 1587160440 18<24UndeadLeech18>	I'm not quite sure about its purpose.
T 1587160449 18<29kchibisov18>	But we can't just remove it
T 1587160457 18<24UndeadLeech18>	Why not?
T 1587160472 18<29kchibisov18>	This is not how it works, since you should likely request perm.
T 1587160492 18<24UndeadLeech18>	It's apache2 anyways though.
T 1587160499 18<24UndeadLeech18>	Like it doesn't change the license.
T 1587160506 18<29kchibisov18>	Since you're technically relicense source.
T 1587160506 18<24UndeadLeech18>	You're not.
T 1587160518 18<24UndeadLeech18>	That's why I don't really understand it.
T 1587160806 18<29kchibisov18>	idk, LLVM is also using it right in source.
T 1587160827 18<24UndeadLeech18>	Does it have the license listed separately?
T 1587160833 18<29kchibisov18>	yeah
T 1587160844 18<29kchibisov18>	it's Apache 2 with LLVM extenstions.
T 1587160887 18<29kchibisov18>	each project has LICENSE.txt
T 1587160911 18<24UndeadLeech18>	Is it the same everywhere?
T 1587160924 18<24UndeadLeech18>	I feel like this would only be useful if the entire project isn't under the same license.
T 1587160945 18<29kchibisov18>	it's some political thing tbh.
T 1587160961 18<24UndeadLeech18>	As far as I know, there is absolutely no legal requirement for it.
T 1587160972 18<24UndeadLeech18>	So removing it from the top of files does not change anything about the licensing.
T 1587161022 18<22ifreund18>	yeah i've never understood that thing either, but so many projects seem to do it
T 1587161105 18<24UndeadLeech18>	For now I've just gone with the approach of not adding it to new files, but I suppose I could remove it from everywhere for uniformity.
T 1587161153 18<29kchibisov18>	I'd rather understand the reason behind such thing first tbh.
T 1587161157 18<29kchibisov18>	like there should be a reason.
T 1587161202 18<22ifreund18>	i feel like in 90% of cases people are just doing it cause they see others do it
T 1587161204 18<24UndeadLeech18>	As far as I understand it, the purpose is to make it easier to find the license of each specific file without risk of confusion.
T 1587161222 18<24UndeadLeech18>	Like if someone just copy/pasted our util.rs into their own project, it would automatically copy over the license too.
T 1587161246 18<24UndeadLeech18>	So the license is automatically enforced.
T 1587161267 18<29kchibisov18>	I feel like it makes the mose sense for GPL
T 1587161273 18<29kchibisov18>	most*
T 1587161288 18<29kchibisov18>	you see GPL, you don't touch this thing.
T 1587161337 18<24UndeadLeech18>	Like for apache 2 you need to include the full license of the original file too.
T 1587161353 18<24UndeadLeech18>	So if one wanted to copy our util.rs, it would be done automatically.
T 1587161363 18<24UndeadLeech18>	If it's not part of the file, they'd have to do it manually.
T 1587161406 18<29kchibisov18>	I mean that if you copy random GPL-3 code on the internet to your MIT project you're fucked, right?
T 1587161437 18<29kchibisov18>	e.g. you can't copy code from gcc to LLVM most of the time.
T 1587161447 18<24UndeadLeech18>	Yeah.
T 1587161448 18<29kchibisov18>	so LLVM has to rewrite the same functions in asm sometimes.
T 1587161576 18<24UndeadLeech18>	MIT is compatible with GPL, but not the other way around. So you can have MIT in GPL projects, but not GPL in MIT projects.
T 1587161617 18<29kchibisov18>	yeah, so if you copy MIT code in GPL code you should preserve MIT, right?
T 1587161645 18<29kchibisov18>	Like it should be right in the source.
T 1587161669 18<24UndeadLeech18>	> The above copyright notice and this permission notice shall be included in all
T 1587161672 18<24UndeadLeech18>	copies or substantial portions of the Software.
T 1587161686 18<24UndeadLeech18>	This is what the MIT license says. So yeah it probably needs to be distributed with the software.
T 1587161854 18<29kchibisov18>	So it makes sense to have it in files.
T 1587161870 18<24UndeadLeech18>	I'm not sure it does.
T 1587161872 18<29kchibisov18>	like you can have LLVM right in your project and change it.
T 1587161874 18<24UndeadLeech18>	Like it's not our problem.
T 1587161909 18<29kchibisov18>	Like you can clearly state that 'this code is a part of XXX' with 'YYY changes'
T 1587161928 18<29kchibisov18>	and YYY changes has a different license than XXX.
T 1587161936 18<29kchibisov18>	it should be valid, right?
T 1587161960 18<24UndeadLeech18>	Yeah, but honestly I don't see why we would make our code worse to make license compatibility easier for others.
T 1587161970 18<24UndeadLeech18>	I don't really want to bother with that mess.
T 1587161990 18<29kchibisov18>	me neiter, but I don't mind those headers.
T 1587162023 18<24UndeadLeech18>	I kinda do.
T 1587162027 18<24UndeadLeech18>	But it's fine for now.
T 1587162079 18<29kchibisov18>	Just start putting your name and it'll be fine.
T 1587162097 18<29kchibisov18>	for new files.
T 1587162108 18<24UndeadLeech18>	Just my name?
T 1587162133 18<29kchibisov18>	I mean in license text
T 1587162149 18<24UndeadLeech18>	Not really feeling that tbh.
T 1587194875 20*	Disconnected (20)
T 1587196735 19*	Now talking on 22#alacritty
T 1587196735 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587196735 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587209769 20*	Disconnected (20)
T 1587229957 19*	Now talking on 22#alacritty
T 1587229957 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587229957 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587230020 18<24UndeadLeech18>	No, Termite's character does not exist.
T 1587230029 18<24UndeadLeech18>	We're using the font, Termite does not.
T 1587230090 18<27randomia18>	Oh thank you. I thought I was going bonkers there.
T 1587230129 18<27randomia18>	Have a nice day UndeadLeech :)
T 1587238711 18<24UndeadLeech18>	kchibisov: How would you expect search to work with highlighting everything? Freeze new input?
T 1587238861 18<29kchibisov18>	I feel like it applies to normal search as well?
T 1587238880 18<24UndeadLeech18>	In a way, yeah.
T 1587238888 18<24UndeadLeech18>	But tracking a million points is harder than traking two.
T 1587238927 18<29kchibisov18>	Oh, can we hold screen?
T 1587238938 18<24UndeadLeech18>	That's what I'm asking. If we should do that.
T 1587238944 18<29kchibisov18>	I'm not sure that it's the right thing to do, but it'll be interesting.
T 1587238953 18<29kchibisov18>	like you just start changing display_offset.
T 1587238954 18<24UndeadLeech18>	Yeah I have similar feelings.
T 1587238977 18<29kchibisov18>	I feel like it's fine tbh.
T 1587238989 18<29kchibisov18>	like at which point do you want to search scrolling text?
T 1587238999 18<29kchibisov18>	I always want to stop it.
T 1587239011 18<24UndeadLeech18>	I'm wondering if we should do that in general, once we have it in place anyways.
T 1587239025 18<29kchibisov18>	I guess.
T 1587239049 18<24UndeadLeech18>	Also wondering if that tiny bit of code removed from scroll_up scroll_down would affect performance at all.
T 1587239258 18<24UndeadLeech18>	On the other hand, rotation isn't that difficult.
T 1587239318 18<20cole-h18>	As a user, I think I'd rather freeze new input. If you're searching for something, it's usually something  that has already been displayed, so searching newly-displayed stuff has little to no value IMO
T 1587239334 18<24UndeadLeech18>	How about selection?
T 1587239384 18<24UndeadLeech18>	And vi mode too I suppose.
T 1587239388 18<20cole-h18>	Like if I were to hold Shift+Left click while stuff scrolls? Hm.
T 1587239471 18<20cole-h18>	Most of the time I do that, I'm already scrolled up a little bit (and so new content doesn't affect it). So, I think freezing that should be fine as well?
T 1587239542 18<20cole-h18>	I don't know about vi, though.
T 1587239632 18<24UndeadLeech18>	I'm also not even sure anymore if it's worth it to try and track points during resize then.
T 1587239661 18<24UndeadLeech18>	Or if we should just always freeze and then clear action whenever resizing.
T 1587242051 18<24holomorph18>	hi, i'm making some bindings like so http://ix.io/2iAH to replicate some xterm modifyOtherKeys business.  i'm wondering how i would bind things like C-(, C-), or C-?
T 1587242109 18<24holomorph18>	glutin appears to be missing keycodes for these, and i'm not sure what showkey --scancodes is telling me or if i can use scancodes for such a key combo
T 1587242262 18<29kchibisov18>	You can get scancodes by `alacritty --print-events | grep -i keyboardinput`
T 1587242649 18<24holomorph18>	kchibisov: oic. got it, thank you
T 1587242801 18<29kchibisov18>	if it shows you vitrualkeycode then you can bind by it + modifier
T 1587242930 18<24holomorph18>	which comes from glutin, so yeah
T 1587244019 18<26mynamehere18>	Sorry to keep bothering you guys, but I have been doing some distro hopping and installing various distros across different systems.... Right now I am trying pop_OS and alacritty is acting strange. Backspaces move and don't remove any of the words. tmux responds with "open terminal failed: missing or unsuitable terminal: alacritty" and  commands such as clear and reset respond with "unknown
T 1587244021 18<26mynamehere18>	terminal type"
T 1587244044 18<26mynamehere18>	backspaces move forward*
T 1587244064 18<20wma18>	you need to copy the terminfo
T 1587244105 18<20wma18>	https://github.com/alacritty/alacritty/blob/master/INSTALL.md#terminfo
T 1587246328 18<26mynamehere18>	Okay, so now all that works, but there are only colors if tmux is activated
T 1587246425 18<26gamara18>	Hey does anyone know how to get a terminal to load into scratch pad on startup on sway? I cant seem to get this to work at all I am running 4.2 and none of the methods I have found seem to work.
T 1587246518 18<26mynamehere18>	well actually that'll work for now, thanks @wma!
T 1587246956 20*	Disconnected (20)
T 1587247071 20*	Disconnected (20Remote host closed socket)
T 1587247129 20*	Disconnected (20Remote host closed socket)
T 1587247186 20*	Disconnected (20Remote host closed socket)
T 1587247230 19*	Now talking on 22#alacritty
T 1587247230 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587247230 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587247279 18<20cole-h18>	gamara: Here's what I use https://gist.github.com/cole-h/75e7321316315a717e5ab8282f64b86f
T 1587257131 20*	Disconnected (20)
T 1587257181 20*	Disconnected (20Remote host closed socket)
T 1587257249 20*	Disconnected (20Remote host closed socket)
T 1587257317 20*	Disconnected (20Remote host closed socket)
T 1587257343 19*	Now talking on 22#alacritty
T 1587257343 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587257343 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587260668 18<24UndeadLeech18>	kchibisov: Do you have an issue with inputs building up when holding down enter while in shell on latest master?
T 1587260772 18<24UndeadLeech18>	Oh, I think it's an issue with my zsh.
T 1587260775 18<24UndeadLeech18>	Phew.
T 1587282736 20*	Disconnected (20)
T 1587282761 19*	Now talking on 22#alacritty
T 1587282761 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587282761 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587284194 20*	Disconnected (20)
T 1587284221 19*	Now talking on 22#alacritty
T 1587284221 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587284221 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587287833 20*	Disconnected (20)
T 1587288242 19*	Now talking on 22#alacritty
T 1587288242 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587288242 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587290461 20*	Disconnected (20)
T 1587290498 19*	Now talking on 22#alacritty
T 1587290498 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587290498 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587296730 20*	Disconnected (20)
T 1587296749 19*	Now talking on 22#alacritty
T 1587296749 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587296749 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587303937 18<24UndeadLeech18>	kchibisov: Have you ever used search in Kitty?
T 1587303958 18<29kchibisov18>	I've never used any terminal for more than 1 hour.
T 1587303978 18<24UndeadLeech18>	So is that a yes or a no?
T 1587303983 18<29kchibisov18>	no
T 1587303993 18<29kchibisov18>	and it's true for everything except tmux/alacritty.
T 1587304004 18<29kchibisov18>	and I have some memory about iterm.
T 1587304018 18<29kchibisov18>	like I've pressed it for sure in it, but I don't rememeber.
T 1587304021 18<24UndeadLeech18>	Ah. I thought you were the one suggesting the separate terminal opening the scrollback in less like Kitty.
T 1587304031 18<29kchibisov18>	No
T 1587304048 18<24UndeadLeech18>	I'm just wondering about the drawbacks of that approach.
T 1587304072 18<24UndeadLeech18>	Like is a vi mode and search even necessary, when you can open the scrollback in vim in the same terminal emulator without any hassle?
T 1587304150 18<29kchibisov18>	If you can do that inplace -> no issues.
T 1587304178 18<24UndeadLeech18>	I mean you could start up a separate terminal and replace the current one.
T 1587304198 18<29kchibisov18>	but it sounds like one giant hack.
T 1587304200 18<24UndeadLeech18>	And it would automatically support all vim motions, not just some of them. Though with vim you wouldn't get color.
T 1587304221 18<24UndeadLeech18>	It does, but search and vimode is getting a bit hacky too tbh.
T 1587304241 18<29kchibisov18>	I mean search and vimode are fine.
T 1587304249 18<24UndeadLeech18>	Like I'm just thinking that we might be able to simplify things so much more if we just let vi do what it's good at, instead of trying to do it ourselves.
T 1587304277 18<24UndeadLeech18>	Otoh, I'm trying to figure out a good reason not to, because I don't want to throw away everything I've been doing for the past like month. :P
T 1587304278 18<29kchibisov18>	then add tabs
T 1587304295 18<29kchibisov18>	if you really want to make it work, we need tabs, etc.
T 1587304301 18<24UndeadLeech18>	Why?
T 1587304313 18<29kchibisov18>	opening shit in place without creating a new instance
T 1587304333 18<29kchibisov18>	like I don't want to open one more terminal.
T 1587304333 18<24UndeadLeech18>	I mean you can just replace the terminal that is currently active and store the old one for later use.
T 1587304346 18<29kchibisov18>	yeah, but you're already 50% done tabs.
T 1587304348 18<29kchibisov18>	if you do that.
T 1587304366 18<24UndeadLeech18>	I mean everything but the UI, yeah. But the UI is like the exact thing I don't want to do.
T 1587304374 18<24UndeadLeech18>	We'll need to 50% do tabs to support it for macOS too.
T 1587304385 18<24UndeadLeech18>	So I feel like some of this work will need to be done sooner or later anyways.
T 1587304387 18<29kchibisov18>	and for multi window.
T 1587304391 18<24UndeadLeech18>	Yeah exactly.
T 1587304393 18<29kchibisov18>	but I like our current vi mode.
T 1587304417 18<29kchibisov18>	and I'll refuse to open vim in place with grid.
T 1587304422 18<24UndeadLeech18>	I don't disagree with that. I feel like swapping to another application could be a bit jarring.
T 1587304437 18<24UndeadLeech18>	Let me actually play around with Kitty for a bit. See how it works out.
T 1587304446 18<29kchibisov18>	don't forget that I can paste from vi mode right into app.
T 1587304468 18<24UndeadLeech18>	Yeah, right. You don't need to close vi to get back to Alacritty.
T 1587304489 18<29kchibisov18>	don't forget to give it some milk, once you've done.
T 1587304495 18<24UndeadLeech18>	:P
T 1587304504 18<29kchibisov18>	But I don't like spawning vi.
T 1587304511 18<29kchibisov18>	like you'll break layout of the app, etc.
T 1587304528 18<24UndeadLeech18>	What do you mean by that?
T 1587304548 18<29kchibisov18>	imagine opening weechat in vim.
T 1587304564 18<29kchibisov18>	I mean vim with weechat content to just select
T 1587304568 18<24UndeadLeech18>	I mean since the horizontal width is the same, it shouldn't be too bad.
T 1587304577 18<29kchibisov18>	my weechat is using tabs
T 1587304584 18<29kchibisov18>	vim is using spaces
T 1587304598 18<29kchibisov18>	weechat is larger than vim.
T 1587304610 18<29kchibisov18>	due to line number by default in vim.
T 1587304612 18<24UndeadLeech18>	Ah you mean like different tabwidth configured?
T 1587304617 18<29kchibisov18>	ofc.
T 1587304619 18<24UndeadLeech18>	Right, right.
T 1587304627 18<29kchibisov18>	you'll loose colors, etc.
T 1587304633 18<29kchibisov18>	and live update of content.
T 1587304636 18<24UndeadLeech18>	I mean Kitty is using `less` by default.
T 1587304640 18<24UndeadLeech18>	Which works much better.
T 1587304647 18<29kchibisov18>	select with keyboard in less
T 1587304661 18<24UndeadLeech18>	But it obviously doesn't work for vi mode, just for search yeah.
T 1587304677 18<29kchibisov18>	so I should use vi as pager
T 1587304685 18<29kchibisov18>	and we should dump with truecolors
T 1587304720 18<29kchibisov18>	this is just never ending shit show.
T 1587304734 18<24UndeadLeech18>	It's difficult. But if a pager would exist that allowed vi mode, it should work out great.
T 1587304744 18<24UndeadLeech18>	And that might be a problem that can be tackled independently.
T 1587304784 18<29kchibisov18>	and then you should also live reload pager
T 1587304799 18<24UndeadLeech18>	I don't think that's necessary tbh.
T 1587304811 18<24UndeadLeech18>	Like we were discussing freezing Alacritty anyways.
T 1587304811 18<29kchibisov18>	what if I just chilling in vi mode and open random links
T 1587304820 18<29kchibisov18>	I mean for search when scrolling is done
T 1587304830 18<29kchibisov18>	but in alt-screen you won't freeze anything
T 1587304847 18<29kchibisov18>	I mean freezing scrolling, not content update
T 1587304849 18<24UndeadLeech18>	Either everywhere or nowhere.
T 1587304872 18<29kchibisov18>	but we need a good way to update our terminal atomically
T 1587304876 18<24UndeadLeech18>	I was always talking about freezing content update, since that's what URxvt/VTE do.
T 1587304909 18<29kchibisov18>	I mean we need it at some point.
T 1587304917 18<24UndeadLeech18>	Why?
T 1587304924 18<29kchibisov18>	sync updates.
T 1587304950 18<29kchibisov18>	since you need a way to perform atomic changes to a visible content
T 1587305051 18<24UndeadLeech18>	Yeah, though we can get away with a lot more for that. Since it's probably going to be a sub one second window.
T 1587305059 18<24UndeadLeech18>	So in theory we could probably just stop rendering completely.
T 1587305067 18<24UndeadLeech18>	Though obviously that wouldn't be ideal.
T 1587305100 18<29kchibisov18>	there're a lot of edge cases, but you can buffer input before calling `fn input`
T 1587305106 18<29kchibisov18>	and then push it all at once.
T 1587305121 18<29kchibisov18>	but it'll be complex.
T 1587305149 18<29kchibisov18>	at least we have testing clients already(tmux/mpv).
T 1587305183 18<29kchibisov18>	but let's go back to search
T 1587305248 18<29kchibisov18>	I feel like we shouldn't freeze it entirely, I was talking about stopping scrolling by changing display offset.
T 1587305261 18<29kchibisov18>	Just because it makes the most sense to do.
T 1587305300 18<29kchibisov18>	I mean fixing the viewport, but I'm fine with content update
T 1587305303 18<24UndeadLeech18>	I mean that's fair, if you automatically scroll up during search, you at least don't need to live re-search.
T 1587305334 18<29kchibisov18>	However something like search during asrw is complex.
T 1587305353 18<29kchibisov18>	So we can search lazy.
T 1587305367 18<24UndeadLeech18>	Honestly I don't think we should support drawing over content without clearing it first.
T 1587305371 18<24UndeadLeech18>	Like being aware that it happens, sure.
T 1587305378 18<24UndeadLeech18>	But I don't think our selection and search should work around it.
T 1587305485 18<29kchibisov18>	tmux also entirely freezes btw
T 1587305496 18<24UndeadLeech18>	During search/vi mode?
T 1587305499 18<29kchibisov18>	yeah
T 1587305533 18<29kchibisov18>	I'm not really sure that I like it, but I've never paid attention tbh
T 1587305565 18<24UndeadLeech18>	It seems to be a pretty common pattern.
T 1587305569 18<24UndeadLeech18>	Does it do that when selecting?
T 1587305581 18<29kchibisov18>	selection is part of this mode
T 1587305594 18<29kchibisov18>	just entering it - freezes.
T 1587305596 18<24UndeadLeech18>	There's also mouse selection though, right?
T 1587305604 18<29kchibisov18>	let me try
T 1587305632 18<29kchibisov18>	yeah, because it's done via this mode
T 1587305642 18<29kchibisov18>	And you can't have live selection in tmux
T 1587305652 18<24UndeadLeech18>	Why not?
T 1587305658 18<29kchibisov18>	ask them?
T 1587305664 18<24UndeadLeech18>	:P
T 1587305701 18<24UndeadLeech18>	But yeah, you're right. It always freezes.
T 1587305715 18<29kchibisov18>	but imagine how you can flex with live search
T 1587305741 18<24UndeadLeech18>	Yeah, but I absolutely hate all this mess already.
T 1587305762 18<29kchibisov18>	it'll be like the only terminal with live search updates, etc.
T 1587305789 18<24UndeadLeech18>	But is that actually something anyone needs? Or does it just make things unnecessarily complicated?
T 1587305806 18<29kchibisov18>	I like live update in vimode
T 1587305848 18<29kchibisov18>	does termite freeze in vi mode?
T 1587305881 18<24UndeadLeech18>	Yeah, in vi mode and during selection.
T 1587305919 18<29kchibisov18>	VTE doesn't freeze during selection
T 1587305950 18<29kchibisov18>	oh, nvm, it's just buggy
T 1587305963 18<24UndeadLeech18>	Also don't resize while in vi mode with termite.
T 1587305971 18<24UndeadLeech18>	It seems to be impossible to recover from that.
T 1587305982 18<29kchibisov18>	I don't have termite
T 1587305989 18<29kchibisov18>	just plain vte-2.91
T 1587306002 18<24UndeadLeech18>	Fair enough. That doesn't have vi mode though, right?
T 1587306006 18<29kchibisov18>	and since I don't have a lot of xorg shit I test only vte/tmux/alacritty
T 1587306015 18<29kchibisov18>	right, I just test vte
T 1587306100 18<29kchibisov18>	Oh, can we freeze in normal mode, but not in alt-screen?
T 1587306119 18<24UndeadLeech18>	Why?
T 1587306138 18<29kchibisov18>	hm, idk tbqh, it seems like alt-screen is easier to handle.
T 1587306174 18<29kchibisov18>	since you don't have scrollback, etc.
T 1587306186 18<29kchibisov18>	but I really have questions about complete freeze for vi mode.
T 1587306190 18<24UndeadLeech18>	I'm just not really sure what I really want, or which approach I like most. So it's tough to implement something if you don't know where you want to go with it.
T 1587306320 18<29kchibisov18>	The thing is that we need to support complete freeze somehow for sync updates.
T 1587306343 18<24UndeadLeech18>	I mean that's not really something I worry about, since it's something concrete that has a clear solution.
T 1587306358 18<24UndeadLeech18>	If I know that's what I want to do, implementing it is just a matter of executing it.
T 1587306364 18<29kchibisov18>	I don't have a solution for it.
T 1587306375 18<29kchibisov18>	like you should do it fast.
T 1587306382 18<24UndeadLeech18>	Though I would like to skip buffering.
T 1587306398 18<29kchibisov18>	The thing is that you should have this pending buffer.
T 1587306403 18<29kchibisov18>	and draw old synced buffer
T 1587306416 18<29kchibisov18>	so it's purely terminal freeze problem.
T 1587306455 18<24UndeadLeech18>	I mean that'll never happen unless we handle selection separately.
T 1587306476 18<29kchibisov18>	like if you have BSU CONTENT_1 ESU BSU CONTENT_2 .. . You should be able to draw CONTENT_1 while you're in CONTENT_2
T 1587306530 18<29kchibisov18>	assuming you don't have time between or you've skipped transition from ESU -> BSU
T 1587306545 18<24UndeadLeech18>	Like if the buffer written is small enough, it shouldn't matter anyways.
T 1587306555 18<29kchibisov18>	however you can in theory just lock temrinal and force trigger redraw
T 1587306567 18<29kchibisov18>	terminal*
T 1587306574 18<29kchibisov18>	I mean after ESU
T 1587306614 18<29kchibisov18>	but you can do that only in ESU -> BSU
T 1587306630 18<24UndeadLeech18>	I really don't see much of a problem with this.
T 1587306631 18<29kchibisov18>	and if you won't be able to redraw fast enough
T 1587306643 18<29kchibisov18>	I mean performance, etc.
T 1587306656 18<24UndeadLeech18>	I don't think it will be problematic tbh.
T 1587306663 18<29kchibisov18>	ok
T 1587306701 18<29kchibisov18>	but it's just a matter of trying different things, since all of the are +- concrete
T 1587306745 18<29kchibisov18>	I'm really unsure about losing live update for vi mode, and freezing for every selection.
T 1587306780 18<24UndeadLeech18>	I'm unsure about everything related to vi mode and selection basically.
T 1587306823 18<24UndeadLeech18>	Like I've got search with highlighting all matches mostly working, but I don't know about clearing and rotation.
T 1587306830 18<24UndeadLeech18>	Or resize.
T 1587306859 18<29kchibisov18>	Well in theory it's not a big problem with your reflow PR
T 1587306883 18<24UndeadLeech18>	Having to reflow all matches seems like a waste though.
T 1587306899 18<29kchibisov18>	escapcially if you reflow each character
T 1587306913 18<24UndeadLeech18>	I mean it would be two points for every match.
T 1587306927 18<29kchibisov18>	Imagine reflowing `.`
T 1587306939 18<29kchibisov18>	with all matches
T 1587307040 18<24UndeadLeech18>	Yeah, pretty much.
T 1587307052 18<29kchibisov18>	and then you do it in asrw and start resizing.
T 1587307077 18<24UndeadLeech18>	That's why I've been wondering if it's even worth it to merge reflow in the current state.
T 1587307086 18<24UndeadLeech18>	Or if we just shouldn't reflow vi cursor and selection.
T 1587307439 18<29kchibisov18>	I mean you need reflow selection.
T 1587307444 18<24UndeadLeech18>	Why?
T 1587307480 18<29kchibisov18>	if you resize frozen content you should reflow selection as well
T 1587307520 18<24UndeadLeech18>	Why?
T 1587307521 18<29kchibisov18>	and selection should be visible in general, like it's now.
T 1587307543 18<29kchibisov18>	I mean I don't want selection like in tmux tbh
T 1587307559 18<24UndeadLeech18>	But why?
T 1587307567 18<29kchibisov18>	idk, preference
T 1587307576 18<29kchibisov18>	like it feels weird in tmux to use its selection
T 1587307581 18<29kchibisov18>	and I never use it due to that
T 1587307584 18<24UndeadLeech18>	Yeah, but there has to be some logical reason to it.
T 1587307604 18<29kchibisov18>	there's no logical reason behind it.
T 1587307636 18<24UndeadLeech18>	I mean then that doesn't help.
T 1587307640 18<29kchibisov18>	I just like to see my selection on screen to highlight stuff from time to time.
T 1587307659 18<29kchibisov18>	And I use it to highlight stuff for others from time to time.
T 1587307668 18<29kchibisov18>	with tmux selection it's impossible.
T 1587307749 18<29kchibisov18>	And most terminals are showing you selection and live updates.
T 1587307792 18<29kchibisov18>	like ok, VTE freezes during selection, but once I've selected, it's properly rotated.
T 1587307811 18<24UndeadLeech18>	Yeah.
T 1587307835 18<24UndeadLeech18>	I wouldn't want to freeze permanently.
T 1587307847 18<29kchibisov18>	during selection process - ok.
T 1587307871 18<29kchibisov18>	once selection is done, and it's on screen you should reflow/rotate it.
T 1587307886 18<24UndeadLeech18>	Rotate it, sure. But do you need to reflow it?
T 1587307902 18<29kchibisov18>	I'm not sure, it was your idea initially
T 1587307914 18<24UndeadLeech18>	Yeah, mostly because of search.
T 1587307923 18<24UndeadLeech18>	But I don't even know how I want that to behave.
T 1587307930 18<29kchibisov18>	I don't need reflow for selection 50% of the time
T 1587307945 18<24UndeadLeech18>	Like 90% of that reflow PR is perfectly good. The cursor moved to grid, the selection moved to terminal, all fine.
T 1587307958 18<24UndeadLeech18>	I just don't know about passing vi cursor and selection to the grid for reflow.
T 1587307986 18<29kchibisov18>	yeah, it's good, I'd like docs for pub stuff and I should check your reflow logic.
T 1587308015 18<24UndeadLeech18>	I'm not sure about field docs for all items. What we have right now is kinda terrible tbh.
T 1587308036 18<29kchibisov18>	I mean if something is pub, it should have docs.
T 1587308048 18<29kchibisov18>	that's just good practise.
T 1587308066 18<24UndeadLeech18>	Yeah, but `/// Selection\npub selection: Selection` doesn't help at all.
T 1587308068 18<29kchibisov18>	and clippy even has a lint for such thing
T 1587308076 18<29kchibisov18>	you can add more docs
T 1587308107 18<24UndeadLeech18>	Yeah, that would probably be the way to go.
T 1587308116 18<24UndeadLeech18>	Write better docs, rather than remove them.
T 1587308123 18<29kchibisov18>	// Active terminal selection\nselection: Option<Selection>
T 1587308138 18<24UndeadLeech18>	That doesn't really improve anything tbh.
T 1587308154 18<24UndeadLeech18>	Just more words.
T 1587309129 18<24UndeadLeech18>	Ultimately my question was though if it's even worth it to implement search directly in Alacritty. And I'm not sure about that.
T 1587309453 18<24UndeadLeech18>	Though it is useful to navigate vi mode.
T 1587317364 18<24UndeadLeech18>	kchibisov: You said you use the ability to pass while in vi mode, right?
T 1587317375 18<24UndeadLeech18>	Is that for pasting multiple times?
T 1587318508 18<29kchibisov18>	it's to use simplier hotkey, like `p`.
T 1587318797 18<24UndeadLeech18>	Ah, fair enough.
T 1587318833 18<24UndeadLeech18>	It seems near impossible to do search without freezing though, since it'll basically clear itself as soon as you start it.
T 1587318850 18<24UndeadLeech18>	Since zsh sends a Clear::Below once the search bar goes away on confirmation.
T 1587318873 18<24UndeadLeech18>	And we can't partially clear search, since we cannot re-search while content is being written.
T 1587325620 20*	Disconnected (20)
T 1587325815 19*	Now talking on 22#alacritty
T 1587325815 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587325815 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587327030 20*	Disconnected (20)
T 1587327932 19*	Now talking on 22#alacritty
T 1587327932 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587327932 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587333930 20*	Disconnected (20)
T 1587333983 20*	Disconnected (20Remote host closed socket)
T 1587334041 20*	Disconnected (20Remote host closed socket)
T 1587334062 19*	Now talking on 22#alacritty
T 1587334062 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587334062 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587337638 18<24UndeadLeech18>	nixpulvis: If you're around, I'd be very curious what you think about the pager vs integrated in Alacritty idea.
T 1587341310 20*	Disconnected (20)
T 1587341353 20*	Disconnected (20Remote host closed socket)
T 1587341413 20*	Disconnected (20Remote host closed socket)
T 1587341473 20*	Disconnected (20Remote host closed socket)
T 1587341523 20*	Disconnected (20Remote host closed socket)
T 1587341543 19*	Now talking on 22#alacritty
T 1587341543 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587341543 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587368001 20*	Disconnected (20)
T 1587368022 19*	Now talking on 22#alacritty
T 1587368022 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587368022 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587412784 20*	Disconnected (20)
T 1587412828 19*	Now talking on 22#alacritty
T 1587412828 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587412828 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587412874 20*	Disconnected (20)
T 1587412906 20*	Disconnected (20Remote host closed socket)
T 1587412930 19*	Now talking on 22#alacritty
T 1587412930 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587412930 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587418934 20*	Disconnected (20)
T 1587423294 19*	Now talking on 22#alacritty
T 1587423294 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587423294 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587426603 18<19AppAraat[m]18>	hi, does anyone know when ppa:mmstick76/alacritty is going to update Alacritty to v0.4.2?
T 1587426932 18<20cole-h18>	When mmstick has time to update it, probably.
T 1587427580 18<24UndeadLeech18>	You can try shooting him a mail, I'm not sure if he's watching releases. But it's up to them of course.
T 1587453423 20*	Disconnected (20)
T 1587453448 19*	Now talking on 22#alacritty
T 1587453448 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587453448 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587454809 18<19Hamilton18>	kchibisov, Thanks :D
T 1587454888 18<27casperstorm18>	you talked about you fixed the bold font issue kchibisov or was it a dream?
T 1587454898 18<27casperstorm18>	the mac os rendering issue or what not
T 1587455105 18<29kchibisov18>	I'm aware on how to fix it.
T 1587455125 18<27casperstorm18>	cool, whats the issue?
T 1587455129 18<29kchibisov18>	it's a macOS Mojave+ feuture/limitation
T 1587455232 18<29kchibisov18>	so you should set defaults write -g CGFontRenderingFontSmoothingDisabled -bool NO right in alacritty to make it work.
T 1587455250 18<27casperstorm18>	yeah thought so, saw that before.
T 1587455262 18<29kchibisov18>	this is a global update, but it's possible to do that just for alacritty.
T 1587455269 18<29kchibisov18>	iterm is doing the same thing
T 1587455317 18<29kchibisov18>	because thin strokes requires subpixel AA, but macOS Mojave+ doesn't have it
T 1587455372 18<27casperstorm18>	well, it has it, just disabled if i understand correctly
T 1587455409 18<29kchibisov18>	So solution is to write user defaults in alacritty and enable subpixel AA
T 1587456140 18<27casperstorm18>	There are a few objc apis we could use, but not sure we have a graphical context to pass it.
T 1587456156 18<27casperstorm18>	so yes that might be the best solution what you are proposing, for now at least.
T 1587456165 18<27casperstorm18>	until they deprecate it.
T 1587456189 18<27casperstorm18>	see: https://developer.apple.com/documentation/coregraphics/1456263-cgcontextsetallowsfontsubpixelqu?language=objc
T 1587456581 18<29kchibisov18>	we're setting them
T 1587456606 18<27casperstorm18>	huh? where?
T 1587456616 18<29kchibisov18>	The problem is that without the mentioning setting they are no-op
T 1587456638 18<29kchibisov18>	Once you toggle this setting, you'll see subpixel AA in alacritty
T 1587456672 18<29kchibisov18>	https://github.com/alacritty/alacritty/blob/3bfb5958bc39360aeb071055660c2509650b6a95/font/src/darwin/mod.rs#L506
T 1587456710 18<29kchibisov18>	so as I said, we should write NSUserDefaults, or whatever this thing is called.
T 1587457370 18<24UndeadLeech18>	kchibisov: Btw, is there a reason for why this setting has been disabled globally, do you know?
T 1587457376 18<24UndeadLeech18>	Is there a plan to remove this?
T 1587457433 18<29kchibisov18>	ask apple?
T 1587457449 18<24UndeadLeech18>	Gotcha, just curious if you found anything.
T 1587457458 18<24UndeadLeech18>	Because it seems strange that every application would have to set this.
T 1587457487 18<29kchibisov18>	idk, maybe they assume that you use only their retina displays, since without subpixel AA the font will look like shit.
T 1587457504 18<29kchibisov18>	on 1080p displays, etc.
T 1587457587 18<24UndeadLeech18>	Yeah, that's kinda what I've been thinking.
T 1587457611 18<24UndeadLeech18>	"Nothing other than our high dpi displays exist, so why do we need subpixel AA?"
T 1587457638 18<24UndeadLeech18>	Oh, retina, not high dpi. They'd never use a term they haven't standardized themselves! That would be terrible marketing!
T 1587457707 18<29kchibisov18>	fwiw 1080p looks like shit most of the time, so they are not far from trueth.
T 1587457751 18<29kchibisov18>	But overly thick font stroke is a question.
T 1587457765 18<24UndeadLeech18>	Eh I don't think I agree.
T 1587457827 18<29kchibisov18>	idk, I'm running away from 1080p, etc.
T 1587457890 18<24UndeadLeech18>	I mean I don't think I would get a new 24inch+ monitor with 1080p. But it's not that bad and for smaller displays it's still perfectly great.
T 1587457901 18<24UndeadLeech18>	Phones for example, really don't need 1440p+ for that.
T 1587457955 18<29kchibisov18>	I was purely about 21+ inch monitors
T 1587458027 18<24UndeadLeech18>	Fair enough.
T 1587458067 18<29kchibisov18>	idc about phones, just use proper DPR and you're fine.
T 1587458093 18<29kchibisov18>	like 3+ DPR is a way to go for phones.
T 1587464070 20*	Disconnected (20)
T 1587464091 19*	Now talking on 22#alacritty
T 1587464091 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587464091 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587473040 20*	Disconnected (20)
T 1587473446 19*	Now talking on 22#alacritty
T 1587473446 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587473446 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587473850 20*	Disconnected (20)
T 1587478294 19*	Now talking on 22#alacritty
T 1587478294 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587478294 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587478410 20*	Disconnected (20)
T 1587478523 20*	Disconnected (20Remote host closed socket)
T 1587486655 20*	Disconnected (20Connection timed out)
T 1587486684 19*	Now talking on 22#alacritty
T 1587486684 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587486684 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587489245 20*	Disconnected (20)
T 1587489274 19*	Now talking on 22#alacritty
T 1587489274 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587489274 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587497757 20*	Disconnected (20)
T 1587497834 19*	Now talking on 22#alacritty
T 1587497834 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587497834 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587543450 20*	Disconnected (20)
T 1587543635 19*	Now talking on 22#alacritty
T 1587543637 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587543637 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587543720 20*	Disconnected (20)
T 1587543829 20*	Disconnected (20Remote host closed socket)
T 1587543901 20*	Disconnected (20Remote host closed socket)
T 1587543943 20*	Disconnected (20Remote host closed socket)
T 1587543969 19*	Now talking on 22#alacritty
T 1587543969 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587543969 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587544560 20*	Disconnected (20)
T 1587544606 20*	Disconnected (20Remote host closed socket)
T 1587545618 20*	Disconnected (20Network is unreachable)
T 1587545644 19*	Now talking on 22#alacritty
T 1587545644 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587545644 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587550417 20*	Disconnected (20)
T 1587550436 19*	Now talking on 22#alacritty
T 1587550436 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587550436 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587554227 20*	Disconnected (20)
T 1587554265 19*	Now talking on 22#alacritty
T 1587554265 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587554265 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587561011 18<28ubitux18>	is it possible to jump between links in vi-mode with something like tab / shift-tab?
T 1587561029 18<29kchibisov18>	not yet.
T 1587561077 18<28ubitux18>	alright :)
T 1587591787 20*	Disconnected (20)
T 1587591815 19*	Now talking on 22#alacritty
T 1587591815 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587591815 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587600121 18<24UndeadLeech18>	kchibisov: Is it correct that you've looked into mio 0.7.0 before?
T 1587600156 18<29kchibisov18>	we likely don't need it, since it doesn't have level triggering
T 1587600187 18<24UndeadLeech18>	I mean we need it. Since it'll just build up more and more ancient depedencies we cannot update.
T 1587600201 18<24UndeadLeech18>	I don't think sitting on some super outdated unmaintained version of a depedency is a good idea.
T 1587600230 18<29kchibisov18>	well, if you want to add level-triggering to it
T 1587600247 18<24UndeadLeech18>	I mean there's no intention to use level triggering. You should do that yourself with mio 0.7.0.
T 1587600285 18<29kchibisov18>	it's just wrong.
T 1587600294 18<24UndeadLeech18>	How so?
T 1587600341 18<29kchibisov18>	level triggering is default on epoll
T 1587600368 18<29kchibisov18>	and is done by kernel
T 1587600382 18<29kchibisov18>	why the fuck should I do that myself?
T 1587600397 18<24UndeadLeech18>	Are you aware of why it was removed? Was it because of Windows?
T 1587600409 18<29kchibisov18>	have no idea.
T 1587600422 18<29kchibisov18>	but sctk gave up on that
T 1587600423 18<24UndeadLeech18>	I mean it's either macOS or Windows, which we both need to support.
T 1587600436 18<29kchibisov18>	on macOS you have kqueue
T 1587600449 18<29kchibisov18>	on linux you have epoll
T 1587600457 18<29kchibisov18>	on bsd you have kqueue
T 1587600474 18<29kchibisov18>	so you should figure out what we have on windows
T 1587600496 18<29kchibisov18>	so macOS/linux isn't a problem here
T 1587600617 18<29kchibisov18>	Also, if you need some polling, https://github.com/Smithay/calloop/blob/master/src/sys/mod.rs calloop already has impls for epoll/kqueue
T 1587600644 18<29kchibisov18>	so in theory you can extract that code into a lib.
T 1587600815 18<24UndeadLeech18>	We still need to work on Windows.
T 1587600830 18<24UndeadLeech18>	Which I'd assume is the reason for this API.
T 1587600847 18<29kchibisov18>	I mean we're working somehow right now
T 1587600896 18<29kchibisov18>	So porting old mio code into new lib isn't a problem, I guess.
T 1587600913 18<24UndeadLeech18>	I mean the problem's not with not working, but with overhead according to mio.
T 1587600930 18<29kchibisov18>	on Windows?
T 1587600941 18<24UndeadLeech18>	It doesn't state that, but I'd assume so.
T 1587600956 18<29kchibisov18>	maybe mio is too network oriented
T 1587600970 18<29kchibisov18>	like it was impossible to use it in sctk.
T 1587600982 18<29kchibisov18>	was just broken.
T 1587600986 18<24UndeadLeech18>	https://github.com/tokio-rs/mio/issues/928
T 1587600989 18<29kchibisov18>	due to edge-triggering
T 1587601246 18<29kchibisov18>	so they said - they are broken, and called it a day? wtf
T 1587601321 18<29kchibisov18>	I mean whatever, but it already proved that it's impossible to use edge-triggering, unless you want to have lost events all the time.
T 1587601347 18<24UndeadLeech18>	I mean they support all kinds of shit including Solaris.
T 1587601357 18<24UndeadLeech18>	I don't know which of their supported platforms has problems.
T 1587601370 18<24UndeadLeech18>	It seems macOs has problems with oneshot, but I don't know about level.
T 1587601401 18<29kchibisov18>	you mean macOS/BSD?
T 1587601410 18<29kchibisov18>	since kqueue isn't not macOS only
T 1587601416 18<29kchibisov18>	s/not//
T 1587601417 18<24UndeadLeech18>	Yeah. The issue was just about macOS.
T 1587601424 18<24UndeadLeech18>	Who knows how they managed to break kqueue.
T 1587601443 18<24UndeadLeech18>	https://github.com/tokio-rs/mio/issues/911#issuecomment-465619538
T 1587601603 18<29kchibisov18>	it seems like they should use EV_DISPATCH instead of EV_ONESHOT?
T 1587601630 18<24UndeadLeech18>	I don't know, this is about oneshot, not level. Which seems far easier to work around.
T 1587601646 18<29kchibisov18>	I was also talking about oneshot right now.
T 1587601706 18<29kchibisov18>	Also, I don't want to debug edge-triggering issues, just saying.
T 1587601782 18<24UndeadLeech18>	What do you mean?
T 1587601794 18<24UndeadLeech18>	You don't want to deal with maintaining it yourself?
T 1587601816 18<29kchibisov18>	I mean, I had enough of missing events when writting sctk app.
T 1587601836 18<24UndeadLeech18>	That doesn't seem like it would be a problem.
T 1587601936 18<29kchibisov18>	I mean, I don't want to use mio 0.7.0
T 1587601945 18<24UndeadLeech18>	Because?
T 1587601965 18<29kchibisov18>	because it doesn't have level-triggering
T 1587601976 18<24UndeadLeech18>	Which we could work around.
T 1587601985 18<29kchibisov18>	how?
T 1587602008 18<29kchibisov18>	do you want to do kernel's job?
T 1587602012 18<24UndeadLeech18>	By looping around all I/O operations?
T 1587602018 18<29kchibisov18>	I'd rather trust kernel
T 1587602029 18<24UndeadLeech18>	I don't see how this is about 'trust'.
T 1587602042 18<29kchibisov18>	I mean it'll be faster if kernel does that for us
T 1587602044 18<24UndeadLeech18>	If your loop fails there are more serious issues going on than level or edge.
T 1587602053 18<24UndeadLeech18>	I'm not sure if it will.
T 1587602088 18<24UndeadLeech18>	I would be very careful with statements like that without actually having benchmarked it.
T 1587602109 18<29kchibisov18>	I mean there's a reason why libevent exists
T 1587602149 18<24UndeadLeech18>	Which isn't because the existence of level means that 0.6 is faster than 0.7.
T 1587602182 18<24UndeadLeech18>	libevent would also exist even if level wasn't a thing tbh.
T 1587602203 18<29kchibisov18>	I mean what's the use case behind edge?
T 1587602216 18<29kchibisov18>	I mean `for` edge?
T 1587602226 18<24UndeadLeech18>	Cross-platform support it seems?
T 1587602255 18<29kchibisov18>	yeah, yeah, but you have select(3)?
T 1587602263 18<24UndeadLeech18>	So?
T 1587602278 18<29kchibisov18>	it's on every platform
T 1587602322 18<24UndeadLeech18>	I mean that's not really the case, but I don't see how that's relevant.
T 1587602327 18<29kchibisov18>	since it's POSIX
T 1587602335 18<24UndeadLeech18>	Windows isn't POSIX.
T 1587602347 18<29kchibisov18>	Windows has something for that already
T 1587602359 18<29kchibisov18>	I'm just saying that you have Windows + select for everything else
T 1587602395 18<29kchibisov18>	And I bet you have something for that on Windows already
T 1587602397 18<24UndeadLeech18>	I don't see how you want to use Windows + POSIX select to support level triggering.
T 1587602420 18<29kchibisov18>	I mean that you use special API on Windows and select on each otehr platform.
T 1587602493 18<24UndeadLeech18>	So you want to emulate level triggering on platforms that don't support it, like mio previously did?
T 1587602512 18<29kchibisov18>	Windows doesn't have level triggering at all?
T 1587602580 18<24UndeadLeech18>	I don't know which platform is the cause of this.
T 1587602585 18<24UndeadLeech18>	Might be iOS for all I know.
T 1587602592 18<29kchibisov18>	it has kqueue
T 1587602607 18<24UndeadLeech18>	Yes, but that's not the point.
T 1587602611 18<24UndeadLeech18>	The point is that I can't tell you.
T 1587602618 18<29kchibisov18>	android should have epoll
T 1587602658 18<24UndeadLeech18>	There's no point in making guesses, but according to mio it seems that the cross-platform level abstraction resulted in overhead.
T 1587602672 18<29kchibisov18>	ok, ok.
T 1587602677 18<24UndeadLeech18>	So it's possible that switching to edge triggering would improve performance.
T 1587602692 18<29kchibisov18>	and lost events.
T 1587602769 18<24UndeadLeech18>	Why would it lead to lost events?
T 1587602785 18<29kchibisov18>	man epoll
T 1587602795 18<29kchibisov18>	Level-triggered and edge-triggered
T 1587602842 18<29kchibisov18>	man 7 epoll to be more precise
T 1587602861 18<24UndeadLeech18>	What about it?
T 1587602896 18<29kchibisov18>	I mean it has an example who you can lose events.
T 1587602903 18<29kchibisov18>	s/who/how
T 1587603071 18<24UndeadLeech18>	I don't see what you mean.
T 1587603098 18<29kchibisov18>	I mean if you read some buffer but not fully, you'll block.
T 1587603103 18<29kchibisov18>	assume PTY
T 1587603130 18<29kchibisov18>	even if you have data in it.
T 1587603226 18<29kchibisov18>	from what I see that is exactly what we can end up with?
T 1587603262 18<24UndeadLeech18>	We already do not use level for PTY reads.
T 1587603285 18<24UndeadLeech18>	Actually nvm.
T 1587603286 18<29kchibisov18>	Oh, so maybe our X11 issue is due to that?
T 1587603299 18<24UndeadLeech18>	Nvm that nvm, for the PTY itself we don't use it.
T 1587603306 18<24UndeadLeech18>	We use it related to PTYs, but not for reading it.
T 1587603324 18<24UndeadLeech18>	Due to what?
T 1587603349 18<29kchibisov18>	I mean if we've used edge on PTY read, I see how we can miss something.
T 1587603349 18<24UndeadLeech18>	You mean because we don't always read until Interrupted | WouldBlock, but stop on MAX_BYTES?
T 1587603352 18<29kchibisov18>	but I don't see edge
T 1587603378 18<24UndeadLeech18>	It's PollOpt::edge() | PollOpt::oneshot().
T 1587603449 18<24UndeadLeech18>	IIRC I've already tried removing the MAX_READ condition to fix this though.
T 1587603471 18<29kchibisov18>	have you tried PollOpt::level()?
T 1587603493 18<24UndeadLeech18>	I mean without MAX_READ there shouldn't be any problem.
T 1587603511 18<24UndeadLeech18>	You do mean that the problem could be that we don't read everything and then don't get woken up again, right?
T 1587603518 18<29kchibisov18>	kind of
T 1587603530 18<29kchibisov18>	so your poll will block infinitely
T 1587603544 18<29kchibisov18>	However from what I remember that wasn't the problem
T 1587603560 18<29kchibisov18>	the problem was that we won't be able to wakeup in some edge case
T 1587603576 18<29kchibisov18>	however wakeup event should wakeup winit, which is also using mio
T 1587603588 18<24UndeadLeech18>	If we don't read all the bytes, we won't get woken up again untill the next EAGAIN when using edge triggers.
T 1587603622 18<24UndeadLeech18>	If you're talking about the PTY, though I'm not sure you are.
T 1587603623 18<29kchibisov18>	yeah, but I don't know into what mio translates it.
T 1587603651 18<29kchibisov18>	from my experience I've never got a wake up with edge.
T 1587603664 18<29kchibisov18>	like reading wayland display was infinite block with edge for me, most of the time.
T 1587603695 18<29kchibisov18>	unless I've flushed fd.
T 1587603700 18<29kchibisov18>	from other thread
T 1587603719 18<24UndeadLeech18>	If that was the case, Alacritty wouldn't work.
T 1587603726 18<24UndeadLeech18>	Like at all.
T 1587603756 18<29kchibisov18>	I mean likely, I don't know our setup for mio, maybe it's fine.
T 1587603853 18<29kchibisov18>	but the only thing I haven't tried is using level.
T 1587603869 18<24UndeadLeech18>	For wayland stuff you mean?
T 1587603880 18<29kchibisov18>	For wayland stuff mio was already removed.
T 1587603890 18<24UndeadLeech18>	What do you mean then?
T 1587603905 18<29kchibisov18>	I mean for our X11 bug.
T 1587603920 18<29kchibisov18>	but I feel like it's winit problem, since it loses events.
T 1587603929 18<29kchibisov18>	somehow, but loses.
T 1587603947 18<24UndeadLeech18>	You mean https://github.com/alacritty/alacritty/issues/824? Why is this X11 specific?
T 1587603968 18<29kchibisov18>	was only reproduced on X11.
T 1587603988 18<29kchibisov18>	and reported on X11 as well.
T 1587604011 18<24UndeadLeech18>	I mean I'm using X11 and I can't repro it at all.
T 1587604017 18<29kchibisov18>	you've done it once.
T 1587604021 18<24UndeadLeech18>	Might just be that more people are using X11?
T 1587604029 18<24UndeadLeech18>	I'm not sure if I've reproed this bug or the other one tbh.
T 1587604035 18<24UndeadLeech18>	I wouldn't trust anything I've said about reproing it.
T 1587604067 18<29kchibisov18>	you've reproduced it this summer with weechat.
T 1587604102 18<24UndeadLeech18>	I've reproduced the issue fixed by evlp2 with weechat.
T 1587604107 18<24UndeadLeech18>	I don't know about 824.
T 1587604118 18<29kchibisov18>	no, it was 824
T 1587604142 18<29kchibisov18>	since I've reproduced the same issue on master shortly after with tmux
T 1587604151 18<24UndeadLeech18>	I have absolutely zero evidence that I was actually able to reproduce this bug.
T 1587604152 18<29kchibisov18>	and on evlp2 branch
T 1587604160 18<29kchibisov18>	I have logs.
T 1587604162 18<24UndeadLeech18>	I've never been able to reproduce it before evlp2 and have never seen it since.
T 1587604173 18<29kchibisov18>	me neither.
T 1587604174 18<24UndeadLeech18>	You have logs of me thinking I might have reproduced it.
T 1587604181 18<24UndeadLeech18>	But I have never been able to confirm it.
T 1587604207 18<29kchibisov18>	likely, but the issue you've described was exactly 824.
T 1587604214 18<24UndeadLeech18>	It could have been a networking problem for all I know.
T 1587604229 18<24UndeadLeech18>	Or I ran the wrong branch.
T 1587604253 18<29kchibisov18>	and since we know that winit can lose events, maybe there's something.
T 1587604309 18<24UndeadLeech18>	Yeah, but that's likely because winit might be doing something stupid.
T 1587604340 18<24UndeadLeech18>	Like as far as I know, we use edge just fine and that can actually help with performance.
T 1587604384 18<29kchibisov18>	likely, since from what I've seen the issue wasn't with us polling and sending wakeups.
T 1587604410 18<29kchibisov18>	sending wakeup to winit could unfreeze us, but it had nothing to do with pty reading.
T 1587604459 18<24UndeadLeech18>	My latest understanding about it was that winit wakeups were dropped, especially in the visual bell bug that seemed to be the case.
T 1587604470 18<24UndeadLeech18>	But the details got very hazy once winit introduced another bug that was so similar.
T 1587604510 18<24UndeadLeech18>	But the visual bell problem itself can't possibly be due to PTY, so that makes winit a more likely target.
T 1587604579 18<24UndeadLeech18>	I'll mark both issues as X11-only for now, maybe that'll trigger some more input if anyone ever actually managed to repro on Wayland.
T 1587604600 18<29kchibisov18>	visual bell was on macOS as well
T 1587604608 18<24UndeadLeech18>	Oh, really?
T 1587604612 18<29kchibisov18>	yes
T 1587604617 18<24UndeadLeech18>	Indeed.
T 1587604623 18<24UndeadLeech18>	So maybe it is about more than just X11.
T 1587604674 18<24UndeadLeech18>	Then I'll remove the tags, but I'd still like to know if anyone was able to repro 824 on non-wayland.
T 1587604690 18<24UndeadLeech18>	But that seems to be pretty conclusive evidence that something funky might be going on with more than just x11.
T 1587604706 18<24UndeadLeech18>	Like that seems to show that winit swallows wakeups on multiple platforms.
T 1587605971 18<24UndeadLeech18>	Oh god damn it. Someone updated their stuff again breaking our build.
T 1587606064 18<24UndeadLeech18>	Oh, but we can update to 1.41.0.
T 1587614257 20*	Disconnected (20)
T 1587614707 19*	Now talking on 22#alacritty
T 1587614707 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587614707 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587624772 18<20Levanx18>	about mio, if I understand correctly the main difficulty they meet with Windows is that it's selector system is completion-based, rather than readiness-based, and that this is the main source of overhead in mio on Windows.
T 1587624792 18<20Levanx18>	Not completely sure how it translates to edge/level triggering though
T 1587625517 18<27casperstorm18>	UndeadLeech: thanks for the feedback in the utf8/locale PR. let me know if you wanna discuss anything over irc.
T 1587632587 20*	Disconnected (20)
T 1587632860 19*	Now talking on 22#alacritty
T 1587632860 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587632860 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587633729 18<24UndeadLeech18>	Levanx: Ah okay, so can you confirm this edge/level thing is actually about Windows?
T 1587633774 18<20Levanx18>	I'm not sure, but afaik this windows thing has always be the pain point for mio
T 1587633789 18<24UndeadLeech18>	Seems like it's very likely then, yeah.
T 1587633814 18<24UndeadLeech18>	I just named Windows as my best guess for what is causing the problem, to be fair that wouldn't be very surprising.
T 1587633831 18<24UndeadLeech18>	Though once they move their kernel to Linux that should all hopefully be fixed. :)
T 1587633833 18<24UndeadLeech18>	Any moment now.
T 1587634040 18<24UndeadLeech18>	casperstorm: I'm not 100% certain how to best approach this tbh. We could just check environment variable, but that would break setups where locale magically works.
T 1587634042 18<20Levanx18>	Looking at the issues, it looks like it was actually linked to macos kqueue
T 1587634058 18<24UndeadLeech18>	That was about oneshot though, no mention of level problems with kqueue.
T 1587634094 18<20Levanx18>	But it looks a lot to me like mio's maintainer got fet up with trying to maintain cross-platform compatibility and decided to focus on the only use that really mattered to them : edge-triggers to scalable web apps
T 1587634110 18<27casperstorm18>	I think the only case we dont support right now is launching alacritty from terminal - most(?) cases should be handled now, tho.
T 1587634110 18<20Levanx18>	maintainers *
T 1587634246 18<24UndeadLeech18>	Levanx: I mean if there are problems with it on Windows, that has an effect on more than just webapps.
T 1587634349 18<20Levanx18>	I mean, they are considering bringing level&oneshot back, just not on a cross-platform way : https://github.com/tokio-rs/mio/issues/1049
T 1587634432 18<20Levanx18>	I really don't know much about what mio does with windows. But I think they are basically emulating an epoll-like api, so probably thay can do whatever they want at this point ?
T 1587634468 18<24UndeadLeech18>	Yeah, so that seems a lot more like giving up on cross-platform support for it, than giving up on supporting it. Which makes it seems unlikely that the only reason is that they don't care about it at all.
T 1587634560 18<20Levanx18>	Well, looks like their initial point of view was "everything can be emulated using edge triggers so we'll just focus on that"
T 1587634582 18<24UndeadLeech18>	I mean for you it probably doesn't matter, but Alacritty has to support Windows anyways. Though I think we just use `level` on unix...
T 1587634597 18<24UndeadLeech18>	Levanx: I mean that's not wrong, is it?
T 1587634656 18<20Levanx18>	Well, only if you assume that you won't have the same socket monitored by several mostly independent event loops.
T 1587634678 18<20Levanx18>	Which can be a convenient thing to do for multithreaded wayland apps
T 1587634741 18<20Levanx18>	If you monitor the wayland socket with multiple event loops, hen it becomes readable, level trigger wakes them all, while edge-trigger only wakes one
T 1587634795 18<24UndeadLeech18>	Using multiple indepedently registered SourceFd sources?
T 1587634835 18<20Levanx18>	Yeah.
T 1587634848 18<20Levanx18>	That's just how epoll works
T 1587634852 18<24UndeadLeech18>	Or are you just not reading all of it and relying on level triggering to wake you up again until you'd block?
T 1587634875 18<20Levanx18>	and an other issue we encountered with smithay is that when you register an epoll fd into an other epoll instance, some weirf things can happen when using edge-triggers
T 1587634923 18<20Levanx18>	Well, if I have two event loops waiting on the same client wayland socket (using a different event queue), it's very likely that when the socket becomes readable, it'll contain events for both
T 1587634954 18<20Levanx18>	so both need to wake up and process their events (even if only one will actually read them from the socket)
T 1587634997 18<24UndeadLeech18>	I'm just wondering if level triggering really woke up both initially, or if it just woke up the other one because the socket wasn't drained.
T 1587635013 18<20Levanx18>	kchibisov encountered issues ith smithay-clipboard due to exactly that
T 1587635133 18<20Levanx18>	I think it's part of the specification of epoll's level-triggered mode that all waiting epoll are woken up
T 1587635134 18<20Levanx18>	let me check
T 1587635189 18<24UndeadLeech18>	Also have you tried the new unix socket APIs?
T 1587635197 18<24UndeadLeech18>	Those are already specific to unix, maybe that would work?
T 1587635220 18<20Levanx18>	the "new" unix socket api ?
T 1587635231 18<20Levanx18>	Though I'm bound to using the sockets that libwayland uses
T 1587635297 18<24UndeadLeech18>	It seems to be very networking focused, I'm not actually quite sure if they're meant to be used for anything else.
T 1587635348 18<20Levanx18>	which api are you talking about?
T 1587635442 18<24UndeadLeech18>	https://docs.rs/mio/0.7.0/mio/net/index.html
T 1587635469 18<24UndeadLeech18>	Also you're correct, edge triggering will intentionally wakeup only one thread as an optimization.
T 1587635471 18<20Levanx18>	Ah, mio's API
T 1587635490 18<24UndeadLeech18>	Oh yeah, sorry I didn't mention that part. :D
T 1587635533 18<24UndeadLeech18>	Though it does say that this is the case if multiple threads have inherited the same epoll file descriptor.
T 1587635534 18<20Levanx18>	Actually I'm using directly nix, because I need to sendmsg/recvsmg with auxilliary data, to pass file descriptors between client & server
T 1587635545 18<24UndeadLeech18>	Fair enough.
T 1587635636 18<20Levanx18>	(and when using the system libwayland, it's it that does that)
T 1587635659 18<20Levanx18>	I'm just monitoring the socket to know when I should call libwayland's functions to process events
T 1587635921 18<24UndeadLeech18>	It seems like this is a common problem though: https://idea.popcount.org/2017-02-20-epoll-is-fundamentally-broken-12/
T 1587635987 18<24UndeadLeech18>	Do you know if mio automatically makes level triggering exclusive?
T 1587636042 18<20Levanx18>	Well, mio 0.7 does not do level triggering at all, so...
T 1587636045 18<24UndeadLeech18>	Old mio that is. :P
T 1587636390 18<20Levanx18>	Don't know tbh. Decided to ditch it completely, allowed me to drastically reduce the dependencies of calloop :p
T 1587636422 18<24UndeadLeech18>	Oh I mean that's certainly the way to go.
T 1587636425 18<24UndeadLeech18>	What do you do now?
T 1587636458 18<20Levanx18>	directly call into epoll / kqueue
T 1587636466 18<20Levanx18>	I don't really care about windows support tbh ^^"
T 1587636496 18<24UndeadLeech18>	Wasn't calloop cross-platform before?
T 1587636565 18<20Levanx18>	kind of ? It wasn't really usable on platforms not relying on FDs
T 1587636630 18<24UndeadLeech18>	Hm, might be good to state that. Also the README needs an update.
T 1587636671 18<20Levanx18>	at, that's possible
T 1587636686 18<24UndeadLeech18>	I hope so. :)
T 1587637249 18<27casperstorm18>	UndeadLeech: indeed, was a bit confused by locale and env variables. I am unsure how I can move this forward if you are questioning the functionality of it.
T 1587637572 18<24UndeadLeech18>	Could check if the environment variable is set?
T 1587637742 18<27casperstorm18>	can i use env::var("LC_CTYPE")?
T 1587637790 18<24UndeadLeech18>	I can give it a try later. But you can check if a variable is set with env::var, yes.
T 1587637831 18<27casperstorm18>	let me just update the code and you can give me feedback again?
T 1587637847 18<24UndeadLeech18>	Sure.
T 1587641541 18<27casperstorm18>	UndeadLeech: i've updated the PR now, let me know what you think.
T 1587642548 18<27eoli3n_18>	Hi
T 1587642552 18<27eoli3n_18>	is there a way to add inside padding ?
T 1587642566 18<24UndeadLeech18>	Like the window.padding config option?
T 1587642627 18<27eoli3n_18>	i tried that
T 1587642634 18<27eoli3n_18>	it doesnt change internal padding
T 1587642643 18<24UndeadLeech18>	How does it not?
T 1587642656 18<27eoli3n_18>	i think it applies to "window" but i use a tilling window manager
T 1587642663 18<27eoli3n_18>	lets retry
T 1587642671 18<24UndeadLeech18>	It definitely doesn't.
T 1587642680 18<27eoli3n_18>	ah my bad
T 1587642688 18<27eoli3n_18>	miss to uncomment a line
T 1587642715 18<20basic18>	is there a way to have the font size adjust itself to the screensize?
T 1587642722 18<20basic18>	or does this not make sense at all?
T 1587642741 18<29kchibisov18>	it's done by default based on your DPR
T 1587642756 18<20basic18>	what does R stand for?
T 1587642761 18<28Yaniel18>	ratio
T 1587642770 18<28Yaniel18>	(Display Pixel Ratio)
T 1587642785 18<20basic18>	i see, but on my laptop it varies to hard that it is annoying me :/
T 1587642789 18<20basic18>	so that is just me?
T 1587642801 18<28Yaniel18>	then you need to fix your laptop's configuration
T 1587642813 18<28Yaniel18>	to report the correct DPR for each display
T 1587642830 18<29kchibisov18>	yeah, if it's X11 you should make xrandr report saner values
T 1587642857 18<20basic18>	how can i check those values?
T 1587642864 18<29kchibisov18>	Also, the same is the same physically, not in pixels.
T 1587642869 18<28Yaniel18>	xrandr
T 1587642876 18<20basic18>	okway, my laptop screen seems not to report the screen size
T 1587642881 18<20basic18>	HDMI-A-0 connected 3440x1440+0+0 (normal left inverted right x axis y axis) 797mm x 333mm
T 1587642892 18<29kchibisov18>	797mm x 333mm
T 1587642895 18<20basic18>	eDP connected primary 1920x1080+0+0 (normal left inverted right x axis y axis) 309mm x 173mm
T 1587642902 18<29kchibisov18>	309mm x 173mm
T 1587642903 18<20basic18>	well, it does
T 1587642920 18<28Yaniel18>	is it correct though?
T 1587642929 18<29kchibisov18>	seems like it tbh
T 1587642935 18<20basic18>	yes
T 1587642939 18<28Yaniel18>	and yeah, alacritty tries to keep font size the same in mm, not in pixels
T 1587642972 18<20basic18>	so it looks so "zoomed" to be because my laptop is too small
T 1587642980 18<20basic18>	solution: get rich and have a portable beamerh
T 1587642983 18<20basic18>	?
T 1587643008 18<28Yaniel18>	?
T 1587643012 18<29kchibisov18>	?
T 1587643036 18<20basic18>	so if i measure AAAAAAAAAAAAA on my big screen
T 1587643039 18<29kchibisov18>	run `alacritty --print-events | grep -i scale` and move your window across the screens
T 1587643047 18<20basic18>	it should be as big as equivalent thing on laptop screen?
T 1587643064 18<28Yaniel18>	it should yes
T 1587643080 18<28Yaniel18>	try what kchibisov suggested, it should print an event when the window moves to the other screen
T 1587643088 18<20basic18>	[2020-04-23 13:58:33.617366770] [INFO] glutin event: WindowEvent { window_id: WindowId(X(WindowId(117440514))), event: ScaleFactorChanged { scale_factor: 1.6666666666666667, new_inner_size: PhysicalSize { width: 1143, height: 857 } } }
T 1587643096 18<20basic18>	[2020-04-23 13:58:34.865588052] [INFO] glutin event: WindowEvent { window_id: WindowId(X(WindowId(117440514))), event: ScaleFactorChanged { scale_factor: 1.1666666666666667, new_inner_size: PhysicalSize { width: 800, height: 600 } } }
T 1587643124 18<20basic18>	that looks correct i guess
T 1587643162 18<29kchibisov18>	and font should be the samw physically then
T 1587643349 18<29kchibisov18>	you can have fixed scale factor like all other apps by using Xft.dpi: 96 settin in xresources
T 1587643361 18<20basic18>	oh, okay, cool thanks
T 1587649777 20*	Disconnected (20)
T 1587649836 20*	Disconnected (20Remote host closed socket)
T 1587649903 20*	Disconnected (20Remote host closed socket)
T 1587649951 20*	Disconnected (20Remote host closed socket)
T 1587649997 19*	Now talking on 22#alacritty
T 1587649997 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587649997 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587650557 20*	Disconnected (20)
T 1587651061 19*	Now talking on 22#alacritty
T 1587651061 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587651063 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587651157 20*	Disconnected (20)
T 1587651203 19*	Now talking on 22#alacritty
T 1587651203 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587651203 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587651247 20*	Disconnected (20)
T 1587651508 19*	Now talking on 22#alacritty
T 1587651508 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587651508 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587653557 20*	Disconnected (20)
T 1587659938 19*	Now talking on 22#alacritty
T 1587659938 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587659938 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587663136 18<26fixel-18>	hi, trying to run alacritty on macos (installed via homebrew) but no modifier shortcuts seem to work (C-a or C-c or C-d) -- any ideas what's going on?
T 1587663188 18<26fixel-18>	(i do see the keypresses when using --print-events, does that mean i need to map them somehow?)
T 1587663254 18<28Yaniel18>	yes you need to map them to something in your config file
T 1587663275 18<29kchibisov18>	you shoulnd't if it's C - c /C - dd
T 1587663279 18<29kchibisov18>	C-d*
T 1587663301 18<29kchibisov18>	What are you expecting them to do?
T 1587663337 18<28Yaniel18>	yeah for most shortcuts you should use Command instead of Control as per macOS convention
T 1587663354 18<28Yaniel18>	and because Control-c etc have special meanings in terminal emulators
T 1587663378 18<26fixel-18>	i'd expect C-d to terminate the running shell, C-c to "interrupt" and stop the current prompt, starting a new one
T 1587663385 18<29kchibisov18>	they should work?
T 1587663393 18<29kchibisov18>	you don't have to bind them.
T 1587663475 18<29kchibisov18>	Do you see something when you try `C-d` into `cat`?
T 1587663596 18<26fixel-18>	my best guess at what the corresponding event for `C-d` is when using --print-events: WindowEvent { window_id: WindowId(Id(140477264353008)), event: KeyboardInput { device_id: DeviceId(DeviceId), input: KeyboardInput { scancode: 62, state: Released, virtual_keycode: Some(RControl), modifiers: (empty) }, is_synthetic: false } }
T 1587663630 18<29kchibisov18>	Can you try `LControl`?
T 1587663640 18<20cole-h18>	There's a difference between RControl and LControl AFAIK
T 1587663641 18<26fixel-18>	in alacritty i get a `d` (rather than terminating cat)
T 1587663686 18<29kchibisov18>	I mean who knows what macOS does here, but I don't have a keyboard with RControl.
T 1587663695 18<26fixel-18>	for lcontrol: WindowEvent { window_id: WindowId(Id(140719080954656)), event: KeyboardInput { device_id: DeviceId(DeviceId), input: KeyboardInput { scancode: 59, state: Released, virtual_keycode: Some(LControl), modifiers: (empty) }, is_synthetic: false } }
T 1587663706 18<29kchibisov18>	I mean does binding with LControl works?
T 1587663709 18<20cole-h18>	But does LControl work as you expect RControlto?
T 1587663765 18<26fixel-18>	sorry, not sure what you guys mean: @kchibisov do you mean that i should bind LControl in alacritty.yml?
T 1587663788 18<29kchibisov18>	I mean does LControl + C/D works?
T 1587663790 18<26fixel-18>	@cole-h they have the same effect in other terminal emulators for me (iterm2 and terminal.app)
T 1587663791 18<29kchibisov18>	when you just press them.
T 1587663831 18<26fixel-18>	kchibisov: in alacritty neither lcontrol nor rcontrol + d work as i expect them to
T 1587663859 18<29kchibisov18>	Can you share the entire `alacritty --print-events` log?
T 1587663870 18<29kchibisov18>	while you're reproducing the issue.
T 1587663887 18<29kchibisov18>	Also, what keyboard layout are you using?
T 1587663896 18<29kchibisov18>	And what alacritty version
T 1587663916 18<29kchibisov18>	you can get version information with `alacritty --version`
T 1587664058 18<26fixel-18>	https://pastebin.com/vvGLccab
T 1587664120 18<26fixel-18>	keyboard layout is workman, alacritty version 0.4.2 f68de37
T 1587664155 18<29kchibisov18>	Oh, that's likely the issue.
T 1587664165 18<26fixel-18>	the keyboard layout?
T 1587664171 18<29kchibisov18>	yeah.
T 1587664198 18<26fixel-18>	re pastebin: i started alacritty, hit C-d (which prints d) and then Cmd-Q to quit alacritty
T 1587664215 18<29kchibisov18>	yeah, I read pastebin, it seems like we're not getting proper char.
T 1587664236 18<29kchibisov18>	It's not some predefined layout on macOS, right?
T 1587664319 18<26fixel-18>	yep (not pre-defined) and yep - when i change to qwerty C-d and friends work
T 1587664341 18<26fixel-18>	any idea on how to approach this?
T 1587664351 18<29kchibisov18>	IIRC dvorak/etc works, how did you setup your layout?
T 1587664383 18<29kchibisov18>	I mean they work without special bindings, etc.
T 1587664408 18<26fixel-18>	started out with this: https://github.com/workman-layout/Workman/tree/master/mac
T 1587664713 18<29kchibisov18>	I guess this is somehow related https://github.com/workman-layout/Workman/issues/13
T 1587664751 18<29kchibisov18>	you can define bindings for all things, but if we don't get proper chars from the os, it could be annoying
T 1587664825 18<26fixel-18>	could be - i haven't come across it though from what I recall and i use those readline/emacs bindings a lot (also in browsers and other apps)
T 1587664859 18<26fixel-18>	i mean C-a to jump to the start, C-k to kill, C-e to jump to the end and so on
T 1587664888 18<29kchibisov18>	I don't know anything about custom layouts on macOS, maybe our windowing library should do more to handle them, but since dvorak/colemak works, I'm a bit skeptical.
T 1587664902 18<29kchibisov18>	If the solution is to hardcode everything it's not really a solution.
T 1587664925 18<29kchibisov18>	But yeah, you can add bindings in alacritty.yml for Ctrl + c, etc.
T 1587664951 18<26fixel-18>	yep - some for mapping those binding imho, as an emacs user i probably use most possible combinations of C-* ;)
T 1587664964 18<26fixel-18>	some/same/
T 1587665037 18<26fixel-18>	i've modified the layout some years ago, i'll try to switch to the vanilla one and see how that goes - need to log out for that, thanks for your help so far kchibisov!
T 1587665130 18<29kchibisov18>	I mean maybe there's something our library doesn't handle, but debugging such things could be a bit of a task.
T 1587665466 18<26fixel-18>	same issue on the vanilla workman keyboard layout -- i'm guessing the `scanCode` is incorrect?
T 1587665484 18<26fixel-18>	(ie 62 doesn't correspond to d)
T 1587665492 18<29kchibisov18>	it's not related to scanCode, etc.
T 1587665504 18<29kchibisov18>	OS is sending some characters with each key press.
T 1587665527 18<29kchibisov18>	So, it sends proper chars for, let's say Ctrl + C/D automatically on qwerty
T 1587665543 18<29kchibisov18>	which corresponds to proper chars for Ctrl + C/D
T 1587665549 18<29kchibisov18>	so we just forward them.
T 1587666557 18<26fixel-18>	fyi looks like remapping keys via Karabiner-Elements works
T 1587667203 18<26fixel-18>	yep - so just remapped via Karabiner Elements - and everything i've tested so far works as expected -- cheers!
T 1587677347 20*	Disconnected (20)
T 1587677404 20*	Disconnected (20Remote host closed socket)
T 1587677450 20*	Disconnected (20Remote host closed socket)
T 1587677496 20*	Disconnected (20Remote host closed socket)
T 1587677542 20*	Disconnected (20Remote host closed socket)
T 1587677561 19*	Now talking on 22#alacritty
T 1587677561 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587677561 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587729976 18<28r3dux18>	I have noticed that alacritty doesn't seem to adhere to my set mouse cursor.... hovering the mouse over apps like ranger and weechat in alacritty displays the default mouse cursor, as soon as the mouse leaves the terminal is goes back to my set cursor.... how to fix this?
T 1587730036 18<27casperstorm18>	which os?
T 1587730068 18<28r3dux18>	manjaro and arch... both systems seem to have the same issue.
T 1587730111 18<28r3dux18>	I set my cursor theme inside of lxappearance if it is relevant.
T 1587730143 18<28r3dux18>	casperstorm: Does this cursor need to be declared in alacritty.yml or something?
T 1587730164 18<20Levanx18>	x11 or Wayland?
T 1587730222 18<28r3dux18>	On manjaro i3 so I am assuming X though wayland does come installed in manjaro i3 for some reason
T 1587730284 18<28r3dux18>	Levanx: I was actually wondering why wayland comes with manjaro i3 when I was under the understanding that i3 doesnt run on wayland and that if one was using wayland they would have to go with sway instead.
T 1587730327 18<28r3dux18>	The wayland thing was my first thought though as I have seen there is some issues with alacritty in waylands... but i3 is X only... right??
T 1587730350 18<20Levanx18>	Yeah, i3 is X only
T 1587730375 18<28r3dux18>	Well, that solves that mystery.... wonder why wayland comes with manjaro-i3 in that case...
T 1587730433 18*	20Levanx doesn't know either
T 1587730444 18<28r3dux18>	Anyways... is there a fix for this? I haven't had any other issues but the cursor switching back and forth is super annoying... it defaults back to the dark breeze cursor which is hard to see...
T 1587730640 18<27casperstorm18>	I havn't heard about this issue before, have you searched through issue on github?
T 1587730698 18<28r3dux18>	casperstorm: I have. All I saw were wayland issues.
T 1587730723 18<27casperstorm18>	I don't know a fix for it, so if no one else comes up maybe i can ask you to fill one out then ill look at it later?
T 1587730777 18<28r3dux18>	nomatter which cursor I choose it seems to use my os's default which is breeze snow... I thought maybe I needed to declare my set cursor in the config somewhere.
T 1587730822 18<28r3dux18>	casperstorm: Will do, ill submitt an issue if no one chimes in, thank you. Otherwise this terminal is awesome.
T 1587737494 19*	Now talking on 22#alacritty
T 1587737494 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.4.2 - https://github.com/alacritty/alacritty/releases/tag/v0.4.2
T 1587737494 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sun Mar 29 22:59:41 2020)
T 1587737509 20*	Disconnected (20)
T 1602784599 19*	Now talking on 22#alacritty
T 1602784599 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1602784599 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1602790262 18<24UndeadLeech18>	https://paste.rs/aFE.png
T 1602790269 18<24UndeadLeech18>	Looks like I might have it.
T 1602791640 18<22nixpulvis18>	still using the custom drop?
T 1602791792 18<24UndeadLeech18>	Nope, I actually managed to do it without the ManuallyDrop.
T 1602791811 18<24UndeadLeech18>	I think the size reduction of the Box<T> managed to get the whole cell struct small enough that cloning it is relatively efficient.
T 1602792230 18<29kchibisov18>	btw, have you tried using cow storage for internal buffer?
T 1602792518 18<24UndeadLeech18>	Why?
T 1602792539 18<24UndeadLeech18>	Putting a Cow in a struct seems kinda... useless?
T 1602792558 18<22nixpulvis18>	why?
T 1602792582 18<29kchibisov18>	you don't change internal buffer too much?
T 1602792609 18<24UndeadLeech18>	Where is it supposed to be stored?
T 1602792615 18<24UndeadLeech18>	What is it borrowing from?
T 1602792625 18<29kchibisov18>	From cursor template.
T 1602792632 18<24UndeadLeech18>	Hah.
T 1602792640 18<29kchibisov18>	Though, it could not beneficial.
T 1602792687 18<24UndeadLeech18>	Yeah let's reference a template cell from everywhere and then permanently change half our grid because our template cell needs to constantly change.
T 1602792708 18<24UndeadLeech18>	Even if one would manage to escape the lifetime hell that puts you in, it just doesn't make any sense.
T 1602792749 18<29kchibisov18>	I forgot that cow in rust has lifetime.
T 1602792756 18<29kchibisov18>	I mean CoW thingy.
T 1602792759 18<24UndeadLeech18>	I mean of course. It's a reference or owned.
T 1602792782 18<24UndeadLeech18>	If you reference something, it needs to be stored somewhere else. You need to link to that which is always a lifetime.
T 1602792785 18<29kchibisov18>	it's impl detail, you can do it without reference.
T 1602792792 18<24UndeadLeech18>	You cannot.
T 1602792820 18<29kchibisov18>	You can.
T 1602792831 18<24UndeadLeech18>	Something that isn't owned, always comes with a reference and every reference comes with a lifetime.
T 1602792853 18<29kchibisov18>	But the back buffer is owned, it's just shared.
T 1602792868 18<29kchibisov18>	it's more like Rc, but you clone buffer on access.
T 1602792877 18<29kchibisov18>	swift does something like that with their strings.
T 1602792882 18<29kchibisov18>	And a lot of other structures.
T 1602792893 18<24UndeadLeech18>	So you want to do reference counting?
T 1602792916 18<29kchibisov18>	it's CoW + Rc thing.
T 1602792930 18<24UndeadLeech18>	I mean the whole CoW concept doesn't work at all.
T 1602792935 18<24UndeadLeech18>	I don't see what you want to gain from a cow.
T 1602792961 18<29kchibisov18>	I was thinking of reducing allocations.
T 1602792969 18<24UndeadLeech18>	There are no allocations.
T 1602792980 18<24UndeadLeech18>	The whole point is that we avoid allocations like the plague.
T 1602792987 18<22nixpulvis18>	cow helps in cases like process forking, where there's a lot of read-only shared data pre-allocated.
T 1602793018 18<29kchibisov18>	I mean cow pages are different story.
T 1602793039 18<22nixpulvis18>	cow pages?
T 1602793065 18<29kchibisov18>	I mean that's how you do fork, no?
T 1602793071 18<29kchibisov18>	I mean performant fork.
T 1602793074 18<24UndeadLeech18>	You just end up constantly dealing with a CoW when the actual usecase of a CoW isn't even 1% of your runtime.
T 1602793085 18<24UndeadLeech18>	Such a massive waste of time.
T 1602793107 18<24UndeadLeech18>	And the benefit basically doesn't exist at all.
T 1602793132 18<22nixpulvis18>	I just don't know what about a cow page is differant from a cow?
T 1602806332 20*	Disconnected (20)
T 1602806394 20*	Disconnected (20Remote host closed socket)
T 1602806454 20*	Disconnected (20Remote host closed socket)
T 1602806503 20*	Disconnected (20Remote host closed socket)
T 1602806528 19*	Now talking on 22#alacritty
T 1602806528 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1602806528 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1602833674 20*	Disconnected (20)
T 1602833700 19*	Now talking on 22#alacritty
T 1602833700 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1602833700 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1602850199 18<19Skaface8218>	hey
T 1602850273 18<29kchibisov18>	Hello.
T 1602850284 18<19Skaface8218>	I have an interesting situation.. it seems that durng a several hour long rsync, alacritty overheated and blew up my video card
T 1602850309 18<29kchibisov18>	what kind of video card is that?
T 1602850319 18<29kchibisov18>	nvidia?
T 1602850332 18<19Skaface8218>	a geforce 720 i think it was
T 1602850337 18<29kchibisov18>	We don't draw unless something is happening, and our GPU usage is very low even under a full load.
T 1602850353 18<29kchibisov18>	Like 2-3%.
T 1602850357 18<19Skaface8218>	im only assuming that is what happened
T 1602850381 18<29kchibisov18>	Well, you'd have better luck with software that can profile GPU usage.
T 1602850413 18<29kchibisov18>	If you know that alacritty uses 100% of GPU, then it's likely our fault, but you can't say that, since your display server is using your GPU as well.
T 1602850466 18<19Skaface8218>	oh yeah, sorry im not trying to blame anyone, I just thought it was worth mentioning in case it has happened to anyone else :)
T 1602850475 18<29kchibisov18>	I doubt it was.
T 1602850505 18<29kchibisov18>	But anyway, if OpenGL application can crash your entire system there's something wrong with the systeme already.
T 1602850511 18<29kchibisov18>	I
T 1602850515 18<29kchibisov18>	I mean in a way you say that.
T 1602850689 18<19Skaface8218>	it was probably just a coincidence
T 1602873586 20*	Disconnected (20)
T 1602873615 19*	Now talking on 22#alacritty
T 1602873615 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1602873615 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1602874869 18<29kchibisov18>	damn, I lost.
T 1602874934 18<24UndeadLeech18>	lol
T 1602874977 18<29kchibisov18>	But I was slow, since I was checking for matches! macro.
T 1602874991 18<24UndeadLeech18>	It took me a bit too, since I had to check PartialEq is implemented!
T 1602875008 18<29kchibisov18>	I mean you can use matches macro here.
T 1602875014 18<24UndeadLeech18>	But you don't want to.
T 1602875014 18<29kchibisov18>	I've cross checked it.
T 1602875018 18<29kchibisov18>	I wonder why>
T 1602875020 18<24UndeadLeech18>	PartialEq > matches!.
T 1602875031 18<29kchibisov18>	Ah.
T 1602875033 18<29kchibisov18>	Ok.
T 1602875034 18<24UndeadLeech18>	But you can use matches! in scenario where you cannot use PartialEq.
T 1602875148 18<29kchibisov18>	I just looked at the link to fedora packing crossfont, and it feels like they have very slow process of bringing rust...
T 1602875152 18<29kchibisov18>	I guess they ship it like python.
T 1602875189 18<24UndeadLeech18>	What do you mean by very slow? They have to package every single crate then link dynamically, right?
T 1602875203 18<29kchibisov18>	I'm not sure that they link it dynamically.
T 1602875227 18<24UndeadLeech18>	I'm just wondering why they even bother, when they need to have one version of a crate.
T 1602875232 18<29kchibisov18>	I'm just saying that packaging all our dependencies is like ~200 packages.
T 1602875239 18<24UndeadLeech18>	Because when you get to Alacritty, you'll never get zero duplicates.
T 1602875249 18<29kchibisov18>	UndeadLeech: we have only one :- )
T 1602875266 18<24UndeadLeech18>	One what?
T 1602875269 18<29kchibisov18>	One duplicate.
T 1602875274 18<24UndeadLeech18>	What?
T 1602875282 18<29kchibisov18>	cargo tree -d
T 1602875308 18<24UndeadLeech18>	The new lockfile makes this so difficult.
T 1602875331 18<29kchibisov18>	I guess that's why you have 'cargo tree' now :P
T 1602875334 18<24UndeadLeech18>	How did the mio duplicates get resolved?
T 1602875345 18<29kchibisov18>	We don't use 0.7 anywhere.
T 1602875360 18<22nixpulvis18>	oh cargo tree is backed in now?
T 1602875361 18<24UndeadLeech18>	I thought someone else was though.
T 1602875366 18<22nixpulvis18>	baked* even
T 1602875378 18<29kchibisov18>	UndeadLeech: I'm not sure.
T 1602875401 18<29kchibisov18>	And it seems like the project that uses num-traits 1.x.x just not updating it.
T 1602875406 18<29kchibisov18>	even though it's active.
T 1602875431 18<24UndeadLeech18>	line_drawing you mean?
T 1602875437 18<29kchibisov18>	Yeah.
T 1602875449 18<29kchibisov18>	It's not that active, but last commit 15 Aug.
T 1602875453 18<29kchibisov18>	I'd assume that it's not entirely dead.
T 1602875458 18<24UndeadLeech18>	That should be trivial to update, let me check.
T 1602875487 18<24UndeadLeech18>	I kinda don't believe that we only have one duplicate though.
T 1602875494 18<29kchibisov18>	run cargo tree.
T 1602875500 18<24UndeadLeech18>	I have. I still don't.
T 1602875522 18<29kchibisov18>	I mean I was trying my best to bring things up to date.
T 1602875545 18<29kchibisov18>	Like wayland rework removed like ~20 duplicates.
T 1602875553 18<29kchibisov18>	maybe more.
T 1602875592 18<24UndeadLeech18>	Yeah but the last time I checked we had a couple of duplicate dependencies that were basically unfixable.
T 1602875597 18<24UndeadLeech18>	Completely unrelated to alacritty.
T 1602875618 18<24UndeadLeech18>	Let's see how it goes I guess: https://github.com/expenses/line_drawing/pull/17
T 1602875621 18<24UndeadLeech18>	Seems to be non-breaking.
T 1602875641 18<29kchibisov18>	You've checked that it doesn't break crate?
T 1602875651 18<24UndeadLeech18>	I ran `cargo test`.
T 1602875655 18<29kchibisov18>	fair enough.
T 1602875780 18<24UndeadLeech18>	Maybe someone downgraded their mio or something...
T 1602875796 18<29kchibisov18>	we can look at history for mio.
T 1602875809 18<24UndeadLeech18>	What do you mean by that?
T 1602875817 18<29kchibisov18>	I mean in Cargo.lock.
T 1602875849 18<24UndeadLeech18>	If we actually manage to remove all duplicates for 0.6.0, that would really impress me.
T 1602875865 18<24UndeadLeech18>	I genuinely did not believe that to be possible.
T 1602875890 18<29kchibisov18>	We never had mio 0.7 as part of Cargo.lock.
T 1602875898 18<22nixpulvis18>	that'd be really nice.
T 1602875902 18<24UndeadLeech18>	Huh, maybe I'm mixing things up in my head.
T 1602875909 18<29kchibisov18>	we had 2 nix versions.
T 1602875918 18<29kchibisov18>	For a very long time.
T 1602875971 18<24UndeadLeech18>	I don't remember that being too much of an issue though.
T 1602875983 18<24UndeadLeech18>	Like the biggest problem with duplicates was always that one of them couldn't be upgraded for some strange reason.
T 1602876082 18<24UndeadLeech18>	Hmm, seems like `cargo tree` only lists for the current platform?
T 1602876361 18<29kchibisov18>	I guess, but I don't care about duplicates on anything other than Linux/BSD.
T 1602876406 18<24UndeadLeech18>	Yeah, fair enough.
T 1602876476 18<24UndeadLeech18>	You don't expect any changes to #6 PR of crossfont for 0.6.0 either, right?
T 1602876482 18<24UndeadLeech18>	Because I'd actually cut a new version now I think.
T 1602876490 18<29kchibisov18>	I guess.
T 1602876538 18<24UndeadLeech18>	There have been a few changes like the BGR fix, the FreeType minimum version fix and the dependency bump. So it makes sense to release a new patch version.
T 1602876558 18<29kchibisov18>	I mean, I don't mind.
T 1602876579 18<24UndeadLeech18>	Let me just make sure Alacritty really builds against it without any errors, just to make sure. :P
T 1602877396 18<29kchibisov18>	I think we'll be able to do rc relatively soon.
T 1602877414 18<24UndeadLeech18>	My non_copy_cells PR is getting into shape. But I need to do a ton of cleanup still.
T 1602877422 18<24UndeadLeech18>	But I kinda want to finish it up this weekend.
T 1602879098 18<22nixpulvis18>	did we want to get my little macOS PR into 0.6?
T 1602879108 18<29kchibisov18>	if you finish it, then sure.
T 1602879140 18<22nixpulvis18>	I'm starting to lose faith in the upstream crate's PR ever getting merged, as expected I guess....
T 1602879155 18<22nixpulvis18>	but I *still* really hate the idea of writing all these damn structs.
T 1602879159 18<24UndeadLeech18>	Which macOS PR?
T 1602879162 18<29kchibisov18>	I mean just bindgen it and put in alacritty.
T 1602879169 18<29kchibisov18>	no need to send anything upstream.
T 1602879171 18<22nixpulvis18>	keeping the CWD on new instance.
T 1602879174 18<24UndeadLeech18>	Ah, that one.
T 1602879193 18<22nixpulvis18>	oh you'd'll be ok with bindgen inside alacritty?
T 1602879200 18<22nixpulvis18>	that would make me very happy.
T 1602879202 18<24UndeadLeech18>	I'd expect a RC no earlier than next weekend probably.
T 1602879206 18<24UndeadLeech18>	Where weekend means like thursday.
T 1602879221 18<22nixpulvis18>	cool
T 1602879234 18<29kchibisov18>	nixpulvis: no, you run bindgen, you put a file inside alacritty.
T 1602879242 18<22nixpulvis18>	:(
T 1602879245 18<22nixpulvis18>	why?
T 1602879251 18<29kchibisov18>	And remove crap from it.
T 1602879262 18<22nixpulvis18>	I can tell bindgen in build.rs to filter.
T 1602879263 18<24UndeadLeech18>	I really don't feel like it's gonna generate so much stuff that it would be easier to run bindgen inside of Alacritty.
T 1602879272 18<24UndeadLeech18>	And it will never change.
T 1602879290 18<29kchibisov18>	UndeadLeech: I mean we can remove stuff from bindgen.
T 1602879293 18<24UndeadLeech18>	Generally I'd just like to avoid "write only" files as much as possible.
T 1602879312 18<22nixpulvis18>	it's a compile artifact.
T 1602879322 18<24UndeadLeech18>	It doesn't have to be.
T 1602879337 18<22nixpulvis18>	I don't like committing generated files.
T 1602879350 18<24UndeadLeech18>	Exactly. Which is why it should be post processed and cleaned up.
T 1602879367 18<24UndeadLeech18>	I think the point kchibisov is making is that you can just generate the initial file with bindgen and then work based on that.
T 1602879368 18<22nixpulvis18>	what are the practical concerns? that our builds depend on macOS to make a macOS binary?
T 1602879375 18<29kchibisov18>	UndeadLeech: yes.
T 1602879388 18<29kchibisov18>	You run bindgen and remove things from it unless it compiles.
T 1602879403 18<22nixpulvis18>	I can generate a minimal artifact from bindgen directly tho.
T 1602879407 18<24UndeadLeech18>	nixpulvis: Bindgen is complexity I'd usually like to avoid.
T 1602879432 18<24UndeadLeech18>	Having a module that is "normal" Rust code without any code generation makes things easier to understand.
T 1602879443 18<22nixpulvis18>	but now we own the structures it creates in our codebase.
T 1602879447 18<24UndeadLeech18>	So unless that module is like thousands of lines, I think it's easier to manually write them and make them nice.
T 1602879462 18<22nixpulvis18>	I'd rather depend on a well known tool like bindgen, than take on a bunch of it's structs.
T 1602879463 18<29kchibisov18>	nixpulvis: it doesn't matter you use it anyway.
T 1602879485 18<24UndeadLeech18>	Yeah, one way or another you use that fixed API.
T 1602879504 18<22nixpulvis18>	sure, but that's the interface.
T 1602879526 18<29kchibisov18>	I really don't want to run bindgen in build.rs
T 1602879547 18<24UndeadLeech18>	nixpulvis: What's the interface?
T 1602879548 18<29kchibisov18>	The thing is that the result is so simple that putting it directly in alacritty makes sense.
T 1602879556 18<24UndeadLeech18>	You have to define the interface one way or another.
T 1602879561 18<24UndeadLeech18>	Yeah.
T 1602879579 18<22nixpulvis18>	I still don't see what the problem is, but I guess it's not going to cause serious issues either way.
T 1602879637 18<24UndeadLeech18>	It's simply about "magic generate some stuff" vs "we define the API here as normal Rust code".
T 1602879641 18<29kchibisov18>	The problem is that you bring huge build time dependency for no reason.
T 1602879658 18<24UndeadLeech18>	That too. Build time code generation should be avoided as much as possible imho.
T 1602879673 18<24UndeadLeech18>	It's a trade-off of course.
T 1602879674 18<29kchibisov18>	Certain stuff implies code generation though (e.g. wayland), which is not the case here.
T 1602879698 18<22nixpulvis18>	"Build time code generation" lol what? that's what a compiler is!
T 1602879701 18<22nixpulvis18>	what about macros?
T 1602879702 18<24UndeadLeech18>	Yeah, you gotta find a balance. I'm not defining the entire OpenGL API in our own crate as interface. That doesn't make much sense.
T 1602879716 18<24UndeadLeech18>	nixpulvis: I don't like macros either.
T 1602879725 18<22nixpulvis18>	your crazy
T 1602879731 18<22nixpulvis18>	anyway...
T 1602879738 18<24UndeadLeech18>	Which is why if possible, I will suggest to avoid them to reduce the complexity.
T 1602879752 18<24UndeadLeech18>	That again, is a trade-off.
T 1602879759 18<29kchibisov18>	Yeah, fuck macros.
T 1602879760 18<22nixpulvis18>	should I move `locale.rs` into my new macos.rs module too? I feel like I could make this all grouped together easily.
T 1602879772 18<29kchibisov18>	They just increase build time.
T 1602879774 18<24UndeadLeech18>	It's a useful tool that can be very powerful and get a lot of work done in a little time. But it can also make things significantly harder to understand.
T 1602879792 18<22nixpulvis18>	if you care so much about build time, stop writing Rust, and just write asm.
T 1602879800 18<24UndeadLeech18>	I don't expect anyone to be able to understand our keyboard mapping macros, but with how many keybindings there are to define, that's the most readable option.
T 1602879815 18<29kchibisov18>	nixpulvis: but rust without macros compiles pretty fast.
T 1602879825 18<22nixpulvis18>	not really.
T 1602879833 18<24UndeadLeech18>	Yes really.
T 1602879834 18<24UndeadLeech18>	Seriously.
T 1602879861 18<29kchibisov18>	Have you tried building rust that doesn't overly use
T 1602879863 18<22nixpulvis18>	I was hoping one day our default keybindsings could be described in the same way as in the config file itself, to make it easier for users to copy and modify.
T 1602879863 18<24UndeadLeech18>	Most of the heavy hitters when it comes to compile times are macro stuff. Especially the procedural ones like serde.
T 1602879866 18<29kchibisov18>	macros stuff, etc.
T 1602879900 18<24UndeadLeech18>	nixpulvis: Yeah, you could change things to use a custom file format, maybe CSV-y or just our config itself. But that might increase complexity a bit.
T 1602879904 18<22nixpulvis18>	I guess I haven't played with compile times in a while, my memory is fuzzy.
T 1602879948 18<22nixpulvis18>	still my point stands, you can't beat the build speed of already built.
T 1602879955 18<24UndeadLeech18>	Macros are very significant when it comes to compile-times. I don't think it makes sense to avoid tiny macros to save on compilation usually, but it's certainly true that big procedural macros (especially derives) generate a TON of code.
T 1602879963 18<22nixpulvis18>	shit, just layout the ELF yourself,.
T 1602879975 18<24UndeadLeech18>	But I wouldn't argue that compile time is a big issue here, not for me at least.
T 1602879987 18<29kchibisov18>	UndeadLeech: hide your 24 cores.
T 1602879988 18<24UndeadLeech18>	I care much more about the complexity of things, debugging etc.
T 1602879991 18<24UndeadLeech18>	:)
T 1602880008 18<22nixpulvis18>	I care a lot about reproducability.
T 1602880028 18<22nixpulvis18>	so I'd probably want to at least document *how* I generated the module, no?
T 1602880043 18<24UndeadLeech18>	It doesn't really matter, since writing it by hand is perfectly fine too.
T 1602880050 18<24UndeadLeech18>	Like for your usecase, it would be trivial to write by hand.
T 1602880071 18<22nixpulvis18>	but it's not really ideal. The code is defined by the system's headers.
T 1602880090 18<24UndeadLeech18>	So? That's what I'd be looking at when defining the interface.
T 1602880104 18<24UndeadLeech18>	If a computer program does that for you or you do it by hand doesn't really matter as long as it builds.
T 1602880140 18<22nixpulvis18>	OK, I can't wait to see that I got two fields out of order, and the whole thing randomly crashes.
T 1602880166 18<29kchibisov18>	You can even use that computer program to generate that file and edit it by hand.
T 1602880193 18*	22nixpulvis smashes `dd` `p` on *accident*.
T 1602880210 18<24UndeadLeech18>	I mean it's up to you how you want to create it. I'd honestly write it by hand because I've never done that and I'd be curious how well that works out with something so trivial, but if you use bindgen that works fine too. All that matters in the end is the output.
T 1602880221 18<29kchibisov18>	nixpulvis: you generate with bingen, then grab that result and edit it unless it compiles, I can do it myself.
T 1602880231 18<24UndeadLeech18>	Since this isn't something that has to be repeated regularly and the output interface is all that matters, it doesn't really matter how you did it.
T 1602880245 18<29kchibisov18>	I doubt system C api will ever change.
T 1602880245 18<22nixpulvis18>	no need. I'm just confused why y'all hate bindgen so much.
T 1602880266 18<29kchibisov18>	bindgen has one specific reason, to build firefox.
T 1602880274 18<22nixpulvis18>	>.<
T 1602880275 18<29kchibisov18>	Since they generate bridges on the fly.
T 1602880293 18<29kchibisov18>	Because of complexity of firefox.
T 1602880309 18<22nixpulvis18>	It saves a lot of people a lot of time.
T 1602880312 18<29kchibisov18>	Like you can't manually do that for their multi million source code base.
T 1602880320 18<29kchibisov18>	nixpulvis: yes, but not for 100 LoC file.
T 1602880330 18<22nixpulvis18>	let's agree to disagree.
T 1602880340 18<29kchibisov18>	I'd rather see what you've added in that file, rather than check how you've setup bindgen.
T 1602880369 18<22nixpulvis18>	inspect the artifact in target :P
T 1602880388 18<29kchibisov18>	I should grab them from our CI though.
T 1602880420 18<22nixpulvis18>	yea, that's part of my issue here... this forces me to spend more time programming on my damn mac
T 1602880421 18<29kchibisov18>	I can't inspect them, I'm on Linux, I don't have libproc.
T 1602880438 18<22nixpulvis18>	I guess I'll just boot up it's sshd... but I'm still not happy about it.
T 1602880482 18<29kchibisov18>	I mean if you don't want I can do that.
T 1602880494 18<22nixpulvis18>	no worries
T 1602880506 18<29kchibisov18>	Like we all happen to have macOS>
T 1602880529 18<29kchibisov18>	And it's not like you can blindly impl that on Linux, you still have to at least run it and see how it goes.
T 1602880565 18<22nixpulvis18>	there's a few bugs on macOS, but generally things work OK.
T 1602880578 18<24UndeadLeech18>	I don't mind bindgen. It's a tool, it has its usecases. But I don't think this is one of them.
T 1602880603 18<22nixpulvis18>	still way better than windows, despite windows trying a little bit these days.
T 1602880653 18<24UndeadLeech18>	Also with how simple this should be, I think it makes far more sense to implement it first and then discuss it. I don't know how the result will look like either, I'm just guessing at that point. Once it's done, it's gonna be much more concrete.
T 1602880686 18<29kchibisov18>	UndeadLeech: I've seen the C header, was like 100 LoC.
T 1602880700 18<22nixpulvis18>	I mean, it's done already using bindgen :P but also a crate, which I completely agree at this point is worth avoiding.
T 1602880730 18<24UndeadLeech18>	Yeah, that's what my estimation is based on. But it's still only an estimation. There's a reason for why I made this suggestion, but that of course doesn't mean that my surface level guess is 100% accurate.
T 1602880791 18<24UndeadLeech18>	I said from the beginning that my primary concern is to avoid the crate. Using bindgen or not both are reasonable, I just think without it is going to give us better results.
T 1602880827 18<24UndeadLeech18>	Also since you asked about locale.rs, I'd be fine with moving it to macos/locale.rs or whatever, but I don't think it would be smart to just make a generic "macos.rs". I feel like that would easily get out of hand.
T 1602880873 18<22nixpulvis18>	agreed
T 1602880873 18<29kchibisov18>	I'd like platform/macOS/locale.rs
T 1602880879 18<22nixpulvis18>	can do
T 1602880888 18<29kchibisov18>	And I'd move wayland_theme there as well.
T 1602880899 18<22nixpulvis18>	oh yea, that was bothing me too.
T 1602880906 18<22nixpulvis18>	bothering even*
T 1602880907 18<29kchibisov18>	I mean into platform/nix/wayland.rs
T 1602880925 18<29kchibisov18>	But I'm not sure tbqh.
T 1602880935 18<22nixpulvis18>	So we all have macs? does that mean we can test #4133. I haven't touched this thing enough to really know how to control the GPUs.
T 1602880936 18<29kchibisov18>	We may be fine with just macOS/locale.rs
T 1602880951 18<29kchibisov18>	nixpulvis: we have macs, but it doesn't mean that we use macs.
T 1602880961 18<22nixpulvis18>	I can give it a look today
T 1602880995 18<22nixpulvis18>	the platform/ file is a winit convention, but we already just have tty/windows/ for example...
T 1602880998 18<29kchibisov18>	I can't test 4133.
T 1602881003 18<29kchibisov18>	I don't have dGPU.
T 1602881049 18<29kchibisov18>	for UndeadLeech it's using dGPU with None.
T 1602881057 18<29kchibisov18>	I mean Some(None)
T 1602881079 18<29kchibisov18>	(or whatever it was when forcing integrated GPU)
T 1602881099 18<22nixpulvis18>	So System Preferences has the checkbox for "Automatic graphics switching" but the "About This Mac" window tells me I have Intel Iris Pro...
T 1602881138 18<29kchibisov18>	nixpulvis: do you have dGPU, right?
T 1602881140 18<22nixpulvis18>	ok good, that's just the active one? how strange.
T 1602881160 18<22nixpulvis18>	it does in fact appear to have a 750M
T 1602881191 18<29kchibisov18>	nixpulvis: how are you testing it?
T 1602881201 18<29kchibisov18>	I doubt any mac had dGPU with 750M.
T 1602881259 18<29kchibisov18>	it's really more like if it's 13.3 inch -> iGPU, 15+ -> dGPU.
T 1602881265 18<22nixpulvis18>	are you saying my sytem report is lying to me?
T 1602881280 18<29kchibisov18>	I mean if it's some ancient mac, maybe.
T 1602881295 18<22nixpulvis18>	"Late 2013"
T 1602881306 18<29kchibisov18>	Maybe it has 1GB or something.
T 1602881316 18<29kchibisov18>	But yeah, that could be true.
T 1602881319 18<22nixpulvis18>	2GB
T 1602881675 18<24UndeadLeech18>	#4133 is for Linux, not macOS.
T 1602881691 18<24UndeadLeech18>	It doesn't work on macOS>
T 1602881728 18<29kchibisov18>	yeah, and the only one who can test it on macOS is someone with bumble bee.
T 1602881742 18<22nixpulvis18>	oh god
T 1602881749 18<22nixpulvis18>	I could put arch on this damn thing.
T 1602881756 18<29kchibisov18>	err, s/macOS/Linux/
T 1602881771 18<29kchibisov18>	nixpulvis: don't you have thinkpad with nvidia?
T 1602881780 18<22nixpulvis18>	nope
T 1602881799 18<29kchibisov18>	I though that you had x1 carbon or something like that.
T 1602881803 18<29kchibisov18>	thoght*
T 1602881815 18<22nixpulvis18>	#4133 saying it's for macOS in the description unless I'm losing my mind.
T 1602881826 18<22nixpulvis18>	I do have an x1 carbon.
T 1602881827 18<29kchibisov18>	nixpulvis: I've told on that PR that it's for Linux.
T 1602881830 18<24UndeadLeech18>	Because I confused myself.
T 1602881832 18<24UndeadLeech18>	I was wrong.
T 1602881835 18<29kchibisov18>	nixpulvis: well, it should have nvidia, right?
T 1602881840 18<29kchibisov18>	or it's intel only somehow?
T 1602881849 18<22nixpulvis18>	oh... I guess I can't trust the description.
T 1602881861 18<22nixpulvis18>	it's a tiny little laptop.
T 1602881869 18<22nixpulvis18>	very thin
T 1602881873 18<29kchibisov18>	nixpulvis: it doesn't matter they should have dGPU.
T 1602881892 18<22nixpulvis18>	I swear I've checked this in the past, but remind me.
T 1602881913 18<29kchibisov18>	Oh, they don't have it...
T 1602881922 18<22nixpulvis18>	lspci | grep VGA lists a single Intel device.
T 1602881937 18<29kchibisov18>	I swear some of them has dGPU.
T 1602881959 18<22nixpulvis18>	strange, vtebench runs in a fraction of the window on macos.
T 1602881970 18<29kchibisov18>	new one?
T 1602881972 18<24UndeadLeech18>	Hm?
T 1602881994 18<22nixpulvis18>	like, it's not printing to the whole thing.
T 1602882045 18<29kchibisov18>	Ah, it's x1 extreme with dGPUs.
T 1602882052 18<22nixpulvis18>	dense grid for example uses only about 1/3 of the top. and the others seem to avoid the right 1/3 of the columns. Unicode takes up the full thing tho.
T 1602882184 18<29kchibisov18>	Could you do 'tput cols'
T 1602882195 18<29kchibisov18>	and 'tput lines'
T 1602882396 18<22nixpulvis18>	yea damn, my mac with energy: Powersave still seems to be using the dGPU.
T 1602882453 18<22nixpulvis18>	tput cols tells me 122 which is correct.
T 1602882485 18<24UndeadLeech18>	Fyi iTerm also doesn't switch between iGPU/dGPU.
T 1602882489 18<24UndeadLeech18>	I'm not sure it's possible.
T 1602882500 18<22nixpulvis18>	>.<
T 1602882506 18<22nixpulvis18>	useless fucking computers.
T 1602882519 18<24UndeadLeech18>	You can edit the Info.plist, but that's hardly graphics switching.
T 1602882525 18<24UndeadLeech18>	But on Linux this should work, if I could test it.
T 1602882639 18<29kchibisov18>	I wonder if that GPU stuff should be in env variable.
T 1602882647 18<24UndeadLeech18>	What do you mean?
T 1602882654 18<29kchibisov18>	I mean, not in config.
T 1602882659 18<24UndeadLeech18>	No.
T 1602882673 18<29kchibisov18>	Like I don't feel like adding an option, that doen't really work into config.
T 1602882675 18<24UndeadLeech18>	Nothing should be in the env.
T 1602882687 18<24UndeadLeech18>	I mean it should work on Linux.
T 1602882694 18<29kchibisov18>	'should'.
T 1602882706 18<24UndeadLeech18>	I mean if it ever gets merged, it is because it does work on Linux.
T 1602882718 18<24UndeadLeech18>	So that's a relatively safe assumption.
T 1602883996 18<19Skaface8218>	kchibisov: I come back in shame, I suggested the possibility of my video card dieing while scrolling heaps of text for hours in alacrity, turns out after swapping video cards and messing around I realised that my cat pressed the input switch button on my monitor :D
T 1602884020 18<24UndeadLeech18>	:)
T 1602884037 18<29kchibisov18>	(‚ï≠‡≤∞_‚Ä¢ÃÅ)
T 1602888253 18<29kchibisov18>	UndeadLeech: you've check that crossfont#13 works with alacritty, right?
T 1602888275 18<29kchibisov18>	I know that it does, just asking, since you've explicitly mentioned that at some point.
T 1602888411 18<24UndeadLeech18>	Yep.
T 1602888453 18<24UndeadLeech18>	Oh wow, the scrolling_top benchmarks yesterday had a massive performance change.
T 1602888458 18<24UndeadLeech18>	Probably due to 1.47.0 update.
T 1602888625 18<24UndeadLeech18>	Oh, kchibisov did you publish it?
T 1602888671 18<29kchibisov18>	Yeah, I've done everything.
T 1602888684 18<24UndeadLeech18>	Pfft, taking all the credit for yourself, huh? :D
T 1602888716 18<29kchibisov18>	I mean if you've pushed a tag faster than me somehow :P
T 1602892876 20*	Disconnected (20)
T 1602893262 19*	Now talking on 22#alacritty
T 1602893262 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1602893262 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1602894912 18<22nixpulvis18>	what happened in 1.47.0?
T 1602894926 18<24UndeadLeech18>	Dunno.
T 1602894928 18<24UndeadLeech18>	Changes probably.
T 1602894940 18<22nixpulvis18>	classic, fucking changes.
T 1602895023 18<22nixpulvis18>	what crate is 1.47 on anyway?
T 1602895082 18<24UndeadLeech18>	What do you mean?
T 1602895088 18<24UndeadLeech18>	I'm talking about Rust.
T 1602895096 18<22nixpulvis18>	lolol oh
T 1602895107 18<24UndeadLeech18>	They updated LLVM, so it might be related to that. Some optimizations maybe.
T 1602895177 18<22nixpulvis18>	i guess I've been using 1.48 anyway...
T 1602895237 18<24UndeadLeech18>	Beta you mean?
T 1602895273 18<29kchibisov18>	UndeadLeech: it's just strange how fast it is.
T 1602895298 18<24UndeadLeech18>	I find it strange that my branch's performance has degraded since yesterday.
T 1602895306 18<24UndeadLeech18>	As long as it's faster, that's fine by me.
T 1602895317 18<29kchibisov18>	roted a bit.
T 1602895336 18<29kchibisov18>	UndeadLeech: it could mean that llvm was guessing something oddly.
T 1602895354 18<24UndeadLeech18>	Previously you mean? Yeah.
T 1602895362 18<24UndeadLeech18>	Though it's still worse than bottom, which makes sense.
T 1602895407 18<24UndeadLeech18>	I think the last remaining issue with the non_copy_cell stuff is the performance of Row::new. Since that involves a lot of stuff.
T 1602895415 18<29kchibisov18>	but it's ~2x improvement.
T 1602895417 18<24UndeadLeech18>	And unfortunately our benchmarks are a bit short.
T 1602895456 18<24UndeadLeech18>	I'm not too concerned with the top benchmarks at all tbh.
T 1602895485 18<29kchibisov18>	I am concerned, since looking at 2x speedups on amd64 is strange.
T 1602895489 18<29kchibisov18>	from a compiler bump.
T 1602895499 18<24UndeadLeech18>	Is it though?
T 1602895509 18<29kchibisov18>	Yeah.
T 1602895521 18<24UndeadLeech18>	I've had 2x performance differences just by switching around two statements in my non_copy_cells stuff.
T 1602895525 18<24UndeadLeech18>	It wouldn't surprise me.
T 1602895538 18<29kchibisov18>	I mean from optimizations.
T 1602895552 18<24UndeadLeech18>	Knowing what you're allowed to switch around is an optimization.
T 1602895559 18<29kchibisov18>	Like whatever you switch around doesn't matter, since you're writing that code.
T 1602895574 18<24UndeadLeech18>	I have to switch that stuff around to influence code generation though.
T 1602895578 18<29kchibisov18>	UndeadLeech: well, that's true, but you can't really switch around sometimes.
T 1602895592 18<29kchibisov18>	But I guess.
T 1602895607 18<29kchibisov18>	I forgot that you can switch around though.
T 1602895610 18<24UndeadLeech18>	Stuff like auto vectorization can also make a massive difference.
T 1602895617 18<29kchibisov18>	I was writing for arch where you can't do that.
T 1602895645 18<29kchibisov18>	I mean writing optimizations in llvm.
T 1602895681 18<24UndeadLeech18>	I mean you're much more familiar with LLVM than I am. But this is just hottish code where small changes can easily make big differences. Especially since this part of the code isn't optimized well.
T 1602895701 18<29kchibisov18>	Like you know, I'm expecting that amd64 is very polished just by looking at the amount of things it has for amd64.
T 1602895706 18<24UndeadLeech18>	But of course I haven't verified at all that this result is consistent, I might have just been doing something strange yesterday at 2am.
T 1602895721 18<24UndeadLeech18>	I'm currently constantly running benchmarks for non_copy_cells.
T 1602895744 18<29kchibisov18>	Though, maybe llvm changed something on higher level with ir passes.
T 1602895755 18<24UndeadLeech18>	Could have also been a Rust change.
T 1602895765 18<29kchibisov18>	Or a change from both sides.
T 1602895774 18<24UndeadLeech18>	Could also be completely unrelated to all of that and just be random fluctuation.
T 1602895785 18<24UndeadLeech18>	I just know that I updated 1.47.0, so that's the most likely cause I'd say.
T 1602895792 18<29kchibisov18>	Like llvm is a bit C-ish.
T 1602895819 18<24UndeadLeech18>	Isn't that kinda the point of C++? :P
T 1602895830 18<29kchibisov18>	UndeadLeech: I mean in terms of IR and passes.
T 1602895866 18<29kchibisov18>	Like I'm not talking about API of llvm.
T 1602895897 18<24UndeadLeech18>	God damn it, I don't remember what made this work yesterday.
T 1602895913 18<29kchibisov18>	UndeadLeech: try previos rust?
T 1602895923 18<29kchibisov18>	Maybe that what broke things for you.
T 1602895931 18<24UndeadLeech18>	Tried it already.
T 1602895940 18<24UndeadLeech18>	Though I could try again, I made some changes.
T 1602895947 18<24UndeadLeech18>	Just always so many factors.
T 1602895955 18<24UndeadLeech18>	I think I ran with 1.47.0 yesterday too though.
T 1602895985 18<29kchibisov18>	Though, rust overcomes llvm limitations with their mir.
T 1602896001 18<29kchibisov18>	limitations -> missing optimizations.
T 1602896043 18<29kchibisov18>	But a lot of modern kinda safe languages on top of llvm having their own internal language.
T 1602897039 18<22nixpulvis18>	rust has the ability to do some additional transforms that LLVM can't because the types are weaker.
T 1602897075 18<29kchibisov18>	nixpulvis: the point are not types most of the time.
T 1602897077 18<24UndeadLeech18>	Weak<ER>
T 1602897088 18<29kchibisov18>	the point is thta you can't do constant propagation properly in llvm.
T 1602897111 18<29kchibisov18>	I mean you can, but not for all things that you may be interested in.
T 1602897197 18<29kchibisov18>	And in fact rust added it in mir in like 2019.
T 1602897233 18<29kchibisov18>	(I still don't get why rust called their ir as mir, since llvm also has mir)
T 1602897572 18<24UndeadLeech18>	Because it's between the HIR and the LLVM IR?
T 1602897653 18<29kchibisov18>	yeah, and then you have mir after LLVM IR...
T 1602897674 18<29kchibisov18>	it's like HIR -> MIR -> LLVM IR -> MIR(from llvm) ->
T 1602897714 18<29kchibisov18>	And no, llvm's thing is machiine ir, and rust's one is mid-level ir.
T 1602897718 18<29kchibisov18>	¬Ø\_(„ÉÑ)_/¬Ø
T 1602897866 18<22nixpulvis18>	should have called it Myrrh
T 1602897959 18<29kchibisov18>	I'd call HIR as OIR and MIR as AOIR.
T 1602897993 18<22nixpulvis18>	O? A?
T 1602898029 18<29kchibisov18>	Well, A is for another.
T 1602898034 18<22nixpulvis18>	figured
T 1602898037 18<29kchibisov18>	And O could be literally anything.
T 1602898052 18<22nixpulvis18>	well damn that's useless
T 1602898064 18<29kchibisov18>	Could be our, could be other.
T 1602898081 18<22nixpulvis18>	another other ....
T 1602898082 18<29kchibisov18>	clearly shows that you've reached a point that you have too many irs to care about.
T 1602898123 18<29kchibisov18>	I'd use our though.
T 1602898130 18<22nixpulvis18>	yes, everything should be some ideal dependent LLVM MIR
T 1602898181 18<22nixpulvis18>	funny you mention const prop tho. Since I'm trying to think about information flow atm.
T 1602898199 18<29kchibisov18>	data flow?
T 1602898205 18<22nixpulvis18>	sure
T 1602898300 18<29kchibisov18>	The thing is that the amount of layers of different passes on different intermidiate represenations is getting bigger an bigger.
T 1602898342 18<22nixpulvis18>	why?
T 1602898352 18<29kchibisov18>	The good thing that all transformations are deterministic and once you've got a math it works.
T 1602898365 18<29kchibisov18>	nixpulvis: I mean they try to run code faster?
T 1602898384 18<29kchibisov18>	And most of the time some IR is lacking something.
T 1602898400 18<22nixpulvis18>	just make my curcuits small.
T 1602898401 18<29kchibisov18>	or some phase of transforming IR is lacking something.
T 1602898546 18<22nixpulvis18>	but yea, sometimes it takes a custom data structure to do some algorithm properly.
T 1602898599 18<22nixpulvis18>	stupid question: can LLVM reason about 1 + 1 = 2?
T 1602898620 18<29kchibisov18>	that's called constant evoluation.
T 1602898624 18<22nixpulvis18>	i know
T 1602898627 18<29kchibisov18>	it can do that for sure.
T 1602898630 18<22nixpulvis18>	so I assume yes
T 1602898632 18<22nixpulvis18>	good
T 1602898642 18<22nixpulvis18>	where does that stop working?
T 1602898644 18<29kchibisov18>	The point with constant propagation is a bit different.
T 1602898654 18<29kchibisov18>	CE != CP
T 1602898675 18<29kchibisov18>	CE is easier to do than CP.
T 1602898679 18<22nixpulvis18>	they're related tho.
T 1602898683 18<22nixpulvis18>	oh?
T 1602898699 18<29kchibisov18>	Yes, they are.
T 1602898711 18<29kchibisov18>	But the point is that you don't need CE in rust.
T 1602898715 18<29kchibisov18>	But you could need CP in rust.
T 1602898725 18<24UndeadLeech18>	Do you guys think it's even worth it to bother optimizing the grid initialization to the last %?
T 1602898752 18<24UndeadLeech18>	I'm wondering if we should change our benchmarks to fill the grid before every run. Like write 100k lines outside of the benchmark.
T 1602898754 18<29kchibisov18>	UndeadLeech: depends, but grid initialization should be relatively fast?
T 1602898763 18<29kchibisov18>	I mean that you don't initialize it a lot.
T 1602898769 18<29kchibisov18>	s/fast/rare/
T 1602898775 18<24UndeadLeech18>	I mean define "relatively fast".
T 1602898821 18<24UndeadLeech18>	This is what I'm currently working with: https://paste.rs/CTf.png
T 1602898823 18<22nixpulvis18>	I'd at least make one new benchmark tracking that spesifically...
T 1602898834 18<24UndeadLeech18>	On my 6700k the gap is significantly bigger than my computer.
T 1602898835 18<22nixpulvis18>	I do open new terminals quite frequently.
T 1602898845 18<29kchibisov18>	I really don't care about scrolling that much.
T 1602898855 18<24UndeadLeech18>	nixpulvis: Yeah, but we're talking like a few milliseconds.
T 1602898858 18<29kchibisov18>	Like if it's due to init that's likely fine.
T 1602898884 18<22nixpulvis18>	I doubt it's a big problem... but what's the issue if you don't care enough to track it?
T 1602898929 18<29kchibisov18>	The point is that scrolling sucking a bit due to grid initialization isn't a bit of a deal, since 'yes' is pretty artificial benchmark.
T 1602898963 18<22nixpulvis18>	kchibisov: wikipedia's example of CP uses CE directly in making it's case... I'm not sure how far you get with CP alone.
T 1602899002 18<24UndeadLeech18>	I mean even in a 'yes' benchmark scenario, you're not going to notice a difference of 10ms.
T 1602899028 18<29kchibisov18>	UndeadLeech: you need to test with more payload.
T 1602899034 18<22nixpulvis18>	how would you implement this? just warm up with a bunch of text pushed? How will other terminals act?
T 1602899049 18<29kchibisov18>	s/more/bigger/
T 1602899061 18<24UndeadLeech18>	kchibisov: I know, that's why I have suggested to change the payload size of vtebench.
T 1602899072 18<29kchibisov18>	You mean default?
T 1602899078 18<24UndeadLeech18>	Yeah.
T 1602899084 18<29kchibisov18>	I guess you can bump it.
T 1602899088 18<24UndeadLeech18>	Or alternatively initializing scrollback.
T 1602899115 18<29kchibisov18>	nixpulvis: the thing is that you can propage constants in rust and then lower llvm's CE will do the thing.
T 1602899118 18<24UndeadLeech18>	I'm just not entirely sure if your benchmarks aren't too tiny at the moment.
T 1602899123 18<29kchibisov18>	propagate*
T 1602899132 18<29kchibisov18>	I'm not saying that you can do only CP.
T 1602899141 18<29kchibisov18>	I'm saying that CP is harder to do in llvm ir in some cases.
T 1602899148 18<29kchibisov18>	But whoever will do CE doesn't matter.
T 1602899165 18<29kchibisov18>	And llvm will do its own CP as well.
T 1602899180 18<22nixpulvis18>	I see. Yea CP needs to deal with reaching variable stuff
T 1602899201 18<24UndeadLeech18>	Ooooh, constant propagation.
T 1602899253 18<29kchibisov18>	though, knowing that rust can do CE, I guess it can run it as well.
T 1602899265 18<29kchibisov18>	And do a multipass CP -> CE..
T 1602899281 18<22nixpulvis18>	CP is something rust's type system seems very well suited for.
T 1602899284 18<29kchibisov18>	I mean it can do CE on language level, I bet they have infra already.
T 1602899298 18<29kchibisov18>	nixpulvis: yeah, I guess that's why you have it there.
T 1602899311 18<29kchibisov18>	since llvm's one lacks const info in some cases.
T 1602899327 18<29kchibisov18>	And it can't speculate with how pointers are working in rust.
T 1602899347 18<22nixpulvis18>	it can speculate ;)
T 1602899362 18<22nixpulvis18>	nothing good ever comes from speculative execution tho.
T 1602899369 18<24UndeadLeech18>	lol
T 1602899380 18<24UndeadLeech18>	I bet AMD disagrees with you.
T 1602899383 18<29kchibisov18>	nixpulvis: I mean speculate in terms of make some assumptions about pointer usage.
T 1602899416 18<29kchibisov18>	And how it could be used accross module boundaries.
T 1602899555 18<29kchibisov18>	That's a good example of C-ish in llvm https://github.com/rust-lang/rust/issues/54878
T 1602899572 18<29kchibisov18>	Since I bet you don't have that many noalias things in C.
T 1602938416 20*	Disconnected (20)
T 1602938492 19*	Now talking on 22#alacritty
T 1602938492 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1602938492 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1602953051 18<22nixpulvis18>	oh look at that, I got a response in heim-rs/darwin-libproc. I don't really think this changes anything tho.
T 1602953075 18<29kchibisov18>	it doesn't, we're not adding one more crate for one file.
T 1602953119 18<22nixpulvis18>	I find it kinda funny that the maintainer doesn't have macOS on hand either.
T 1602953248 18<24UndeadLeech18>	lol
T 1602953621 18*	29kchibisov just found out that he forgot to close some old issue that is kind of obsolete.
T 1602961167 18<24prion18>	when i run alacritty with -o i get this error
T 1602961187 18<24prion18>	Found argument '-o' which wasn't expected, or isn't valid in this context
T 1602961203 18<29kchibisov18>	Could you give the entire command line?
T 1602961238 18<24prion18>	alacritty -o font.size=10
T 1602961255 18<29kchibisov18>	What's the output of alacritty --version?
T 1602961262 18<24prion18>	0.5.0
T 1602961273 18<29kchibisov18>	-o isn't supported on 0.5.0
T 1602961293 18<24prion18>	then why does 0.5.0 come with a man page that documents -o
T 1602961293 18<29kchibisov18>	you should build master branch.
T 1602961333 18<24UndeadLeech18>	prion: 0.5.0 doesn't come with a man page that documents -o.
T 1602961344 18<29kchibisov18>	prion: there's no -o in a man page https://github.com/alacritty/alacritty/blob/v0.5.0/extra/alacritty.man
T 1602961346 18<29kchibisov18>	for 0.5.0
T 1602961365 18<29kchibisov18>	if someone provided you a manpage with -o it's not our fault.
T 1602961373 18<24prion18>	ok then i'm confused... how did i end up in this state
T 1602961388 18<24prion18>	i cloned the repo and built from source
T 1602961389 18<29kchibisov18>	idk, maybe you have a man page from master branch somewhere.
T 1602961395 18<29kchibisov18>	Ok.
T 1602961398 18<24prion18>	on Oct 8
T 1602961405 18<29kchibisov18>	yes, it's master branch.
T 1602961409 18<29kchibisov18>	And it has -o.
T 1602961428 18<29kchibisov18>	where did you install the alacritty?
T 1602961438 18<29kchibisov18>	And check that 'which' resolved to it.
T 1602961506 18<24prion18>	it's in ~/.cargo/bin/alacritty... but now that i think of it, maybe i did "cargo install alacritty" before i built from source
T 1602961525 18<24prion18>	ok i also have /usr/local/bin/alacritty which is 0.6.0-dev
T 1602961537 18<29kchibisov18>	And .cargo/bin/alacritty is likely 0.5.0.
T 1602961598 18<24prion18>	yep
T 1602961620 18<22nixpulvis18>	also depends where you were loading the man page from...
T 1602961658 18<24prion18>	cargo uninstall alacritty fixed everything
T 1602961662 18<24prion18>	sorry for the confusion
T 1603046667 20*	Disconnected (20)
T 1603046694 19*	Now talking on 22#alacritty
T 1603046694 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1603046694 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1603049547 20*	Disconnected (20)
T 1603049622 20*	Disconnected (20Remote host closed socket)
T 1603049691 20*	Disconnected (20Remote host closed socket)
T 1603049760 20*	Disconnected (20Remote host closed socket)
T 1603049794 19*	Now talking on 22#alacritty
T 1603049794 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1603049794 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1603052411 18<29kchibisov18>	How ppl can even defend terminal that prints 90KB of text in 1.1 seconds....
T 1603052413 18<29kchibisov18>	Like how.
T 1603052984 18<24UndeadLeech18>	Which one is that?
T 1603053001 18<29kchibisov18>	https://github.com/91861/wayst
T 1603053033 18<29kchibisov18>	I mean, if you put 'st' in a terminal name you already marked your software as shit.
T 1603053050 18<29kchibisov18>	In a way that it refers to 'st'.
T 1603053053 18<24UndeadLeech18>	I mean it's literally called waste, sooo...
T 1603053064 18<29kchibisov18>	good one.
T 1603053079 18<24UndeadLeech18>	But that seems extremely slow.
T 1603053095 18<29kchibisov18>	I mean it reaches 5fps on first benchmark on vtebench
T 1603053116 18<29kchibisov18>	And I'm not sure that it was able to finish 2nd dense cells.
T 1603053142 18<29kchibisov18>	And I crashed it like twice in a raw from completely different things.
T 1603053176 18<29kchibisov18>	I mean, I don't think that I can expect much from 3 month old C software.
T 1603053213 18<29kchibisov18>	But before you add all your features, I think it makes sense to make your shit a bit stable in first.
T 1603053469 18<29kchibisov18>	I've noticed that 1s for 90KB, because it was priniting dmesg in 300ms, which was 30KB.
T 1603053488 18<29kchibisov18>	And it was the first time I was waiting for dmesg to print.
T 1603054240 18<24UndeadLeech18>	That sounds pretty bad, yeah. And generally you should have a good foundation in place before building up on it. Usually terminals don't get faster over time after more features are added.
T 1603054250 18<24UndeadLeech18>	At that point why even bother with C?
T 1603054467 18<29kchibisov18>	To use  -ffast-math in CFLAGS.
T 1603054486 18<28leibniz[m]18>	http://i.imgur.com/bq22ZOf.png
T 1603054487 18<28leibniz[m]18>	Just a temporary question, why emojis are messed up again? I've added the fall back noto emoji color to my configs and it worked with non nerd font variants.
T 1603054487 18<28leibniz[m]18>	(I'm gonna revert to the non-nerd for other reasons)
T 1603054489 18<29kchibisov18>	They force it by default in clags.
T 1603054502 18<29kchibisov18>	leibniz[m]: it's some other font showing them.
T 1603054516 18<29kchibisov18>	alacritty can only render them, but it doesn't prefer any particular font for them.
T 1603054655 18<28leibniz[m]18>	kchibisov: Can I detect which font? It must be that nerd font has this black and white emojis because otherwise alacritty was using noto emoji color
T 1603054964 18<29kchibisov18>	leibniz[m]: you may try fc-match -s 'YOUR_FONT'.
T 1603054977 18<29kchibisov18>	Will show the order of fonts we're picking.
T 1603055165 18<29kchibisov18>	Something like 'DejaVu Sans Mono' has those monochrome things most of the time.
T 1603055245 18<28leibniz[m]18>	kchibisov: yeah it's weird. when I fc-match -s Inconsolata, the noto color comes second.But for the nerd font variant it doesn't even come anywher
T 1603055264 18<29kchibisov18>	Are you using Inconsolate in config?
T 1603055275 18<29kchibisov18>	or InconsolateLGC Nerd Font?
T 1603055283 18<28leibniz[m]18>	kchibisov: InconsolateLGC Nerd Font
T 1603055306 18<29kchibisov18>	So you do'fc-match -s "InconsolateLGC Nerd Font"
T 1603055365 18<28leibniz[m]18>	kchibisov: got a match for "Inconsolata LGC Nerd Font Mono"...confusing names.
T 1603055371 18<28leibniz[m]18>	why noto color is last?
T 1603055378 18<29kchibisov18>	leibniz[m]: ¬Ø\_(„ÉÑ)_/¬Ø
T 1603055385 18<28leibniz[m]18>	for regular inconsolara notocolor is second
T 1603055388 18<29kchibisov18>	Do you have a fontconfig rules for Inconsolate?
T 1603055468 18<28leibniz[m]18>	kchibisov: no . but for monospace:     <alias> <family>monospace</family><prefer><family>DejaVu Sans Mono</family><family>Noto Color Emoji</family></prefer></alias>
T 1603055504 18<29kchibisov18>	it's your own config? Not the system one?
T 1603055557 18<28leibniz[m]18>	kchibisov: /.config/fontconfig/fonts.conf..its mine.
T 1603055576 18<28leibniz[m]18>	https://github.com/alacritty/alacritty/issues/153#issuecomment-630636358
T 1603055586 18<28leibniz[m]18>	added due to this issue
T 1603055606 18<29kchibisov18>	Ok. you can try replacing DejaVu Sans Mono in that file with Inconsolata LGC Nerd Font Mono.
T 1603055635 18<29kchibisov18>	And then 'fc-cache -srvf' and use 'monospace' in alacritty.yml.
T 1603055649 18<29kchibisov18>	You can try doing fc-match -s "monospace" afterwards.
T 1603055835 18<28leibniz[m]18>	kchibisov: thanks. :)
T 1603061787 20*	Disconnected (20)
T 1603061944 20*	Disconnected (20Remote host closed socket)
T 1603062012 20*	Disconnected (20Remote host closed socket)
T 1603062040 19*	Now talking on 22#alacritty
T 1603062040 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1603062040 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1603093329 20*	Disconnected (20)
T 1603093355 19*	Now talking on 22#alacritty
T 1603093355 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1603093355 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1603111156 20*	Disconnected (20)
T 1603111636 19*	Now talking on 22#alacritty
T 1603111636 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1603111636 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1603114276 20*	Disconnected (20)
T 1603119626 19*	Now talking on 22#alacritty
T 1603119626 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1603119626 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1603188439 19*	Now talking on 22#alacritty
T 1603188439 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1603188439 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1603188789 18<19CRS9518>	Hi, i was trying to setup alacritty+wsl+tmux since yesterday but the way i managed to do it feels pretty weird and i wanted to ask if there is a better way
T 1603202263 20*	Disconnected (20)
T 1603202296 19*	Now talking on 22#alacritty
T 1603202296 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1603202296 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1603202543 18<22nixpulvis18>	Just ask, no need to probe first.
T 1603202572 18<22nixpulvis18>	Though be warned, Windows is a strange place, and we may not have a better way to do things.
T 1604184739 19*	Now talking on 22#alacritty
T 1604184739 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1604184739 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1604185594 20*	Disconnected (20)
T 1604695656 19*	Now talking on 22#alacritty
T 1604695656 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1604695656 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1604695924 18<24UndeadLeech18>	lol
T 1604695943 18<24UndeadLeech18>	We had it on macOS too, right?
T 1604695960 18<24UndeadLeech18>	Which literally just stopped accepting data after a certain point.
T 1604699209 18<29kchibisov18>	Hm, I wonder whether it's worth it to run rustfmt first.
T 1604703073 18<24UndeadLeech18>	I intentionally structured it this way so less external resources are used. Like rustfmt is fairly quick, but requires installing a new tool.
T 1604707930 18<24UndeadLeech18>	kchibisov: Can you still repro https://github.com/alacritty/alacritty/issues/3959?
T 1604707971 18<24UndeadLeech18>	Ah, nvm. That's a different issue.
T 1604708060 18<24UndeadLeech18>	I'd be curious how you feel about this issue though.
T 1604708073 18<24UndeadLeech18>	I don't feel like it should be solved the way it's suggested.
T 1604708079 18<29kchibisov18>	I'll look once I fix Wayland stuff.
T 1604708085 18<24UndeadLeech18>	Yeah, take your time.
T 1604708102 18<24UndeadLeech18>	The cursor issue is fixed with the new renderer, right?
T 1604708145 18<24UndeadLeech18>	Like the cursor being drawn behind underline and stuff.
T 1604708155 18<29kchibisov18>	I think, anyway I think it's kind of pointless to fix anything with our current renderer, knowing that new-renderer-pr is likely what we'll have.
T 1604708181 18<29kchibisov18>	I'm not sure whether it's fixed, I'd also like to check new-renderer-pr orderings.
T 1604708194 18<29kchibisov18>	Since from what I remember it's not really above.
T 1604708210 18<29kchibisov18>	And there was a reason why it can't be made above, but I don't remember.
T 1604708220 18<24UndeadLeech18>	Oh interesting, I'll at least leave a note on the issue then.
T 1604708232 18<29kchibisov18>	Ah, it's due to block cursor.
T 1604708245 18<29kchibisov18>	since block cursor is a glyph and character should be above it.
T 1604708256 18<29kchibisov18>	The same for hollow block.
T 1604708262 18<24UndeadLeech18>	You mean box? Because block cursor shouldn't be a glyph?
T 1604708272 18<29kchibisov18>	Box.
T 1604708282 18<29kchibisov18>	Anyway, I think we can tune new-renderer after we want to.
T 1604708284 18<24UndeadLeech18>	There's no problem with box cursor to be in front.
T 1604708296 18<29kchibisov18>	I also thought that way.
T 1604708308 18<29kchibisov18>	But I was trying not to push with fixing such thing there.
T 1604708321 18<24UndeadLeech18>	Yeah, no worries. Can always be done later.
T 1604708322 18<29kchibisov18>	Since the goal was to have something working and something we can work with.
T 1604708348 18<24UndeadLeech18>	Yeah, I'm perfectly fine with having just a MVP merged, as long as that's solid.
T 1604708368 18<29kchibisov18>	yeah, it fixes perf issues with unicode I was having.
T 1604708380 18<29kchibisov18>	And should also fixed cropped wide chars.
T 1604708397 18<24UndeadLeech18>	Nice. We gotta go and hunt down all the issues then.
T 1604708402 18<24UndeadLeech18>	Aliasing is also fixed, right?
T 1604708410 18<29kchibisov18>	What aliasing?
T 1604708414 18<29kchibisov18>	overlapping?
T 1604708418 18<24UndeadLeech18>	Yeah.
T 1604708426 18<29kchibisov18>	it's not.
T 1604708433 18<24UndeadLeech18>	That's a bummer.
T 1604708440 18<29kchibisov18>	It can be fixed though.
T 1604708458 18<24UndeadLeech18>	That's one of the very, very few things I really want to see fixed in Alacritty.
T 1604708474 18<24UndeadLeech18>	Like the last major thing that annoys me personally.
T 1604708478 18<29kchibisov18>	I guess, it looks better with overlapping though.
T 1604708488 18<29kchibisov18>	At some point it wasn't overlapping at all.
T 1604708511 18<29kchibisov18>	But then we have certain fonts that like to draw out of bounds, so you should honor them...
T 1604708528 18<24UndeadLeech18>	Huh, it seems to render things bolder?
T 1604708543 18<29kchibisov18>	You mean in general or when it overlaps?
T 1604708567 18<24UndeadLeech18>	https://paste.rs/kls.png
T 1604708590 18<24UndeadLeech18>	The subpixel RGB kinda looks wrong. In fact there doesn't seem to be any.
T 1604708622 18<29kchibisov18>	The strange thing is that '1' and `:` are the same.
T 1604708635 18<29kchibisov18>	Only vertical lines look different.
T 1604708650 18<29kchibisov18>	Maybe some math error, since the glyph is tight?
T 1604708676 18<29kchibisov18>	Like `1` has the same subpixel AA>
T 1604708677 18<24UndeadLeech18>	It just seemed strangely thick.
T 1604708702 18<29kchibisov18>	Yeah, I've noticed that as well, but wasn't sure what to expect from such lines.
T 1604708742 18<29kchibisov18>	You may leave a comment about that I guess, since I've also noticed it, but it was only on specific thin glyphs.
T 1604708748 18<29kchibisov18>	The rest looks the same, right?>
T 1604708754 18<24UndeadLeech18>	Yeah I'll at least ask if he knows why this is the case.
T 1604708759 18<24UndeadLeech18>	I haven't extensively tested this yet.
T 1604708778 18<29kchibisov18>	I mean, even on a picture `1` has the same red and blue things.
T 1604708850 18<24UndeadLeech18>	Yeah, it definitely does subpixel RGB.
T 1604708852 18<29kchibisov18>	Also, subpixel AA blending was the hardest thing on that PR and he explicitly asked to test it.
T 1604708893 18<29kchibisov18>	Since our master naturally blended everything somehow, however he's certain things manually.
T 1604709118 18<24UndeadLeech18>	Huh, that sounds strange.
T 1604709141 18<29kchibisov18>	I mean, it blended due to usage of blending in shaders thing.
T 1604709147 18<29kchibisov18>	Which is OpenGL 3.3.
T 1604709183 18<24UndeadLeech18>	Yeah but the blending shouldn't be that difficult? Like you just need to blend a background color with another RGBA color.
T 1604709196 18<24UndeadLeech18>	That shouldn't just lead to the RGB getting lost.
T 1604709257 18<29kchibisov18>	it's not lost as you can see.
T 1604709261 18<29kchibisov18>	it's clearly there.
T 1604709268 18<29kchibisov18>	Just not for that char for whatever reason.
T 1604709310 18<24UndeadLeech18>	Yeah exactly, that's why I'm confised.
T 1604709312 18<24UndeadLeech18>	confused*
T 1604709326 18<24UndeadLeech18>	I'm not sure how that would be affected by the way you blend. Unless you do some pixel specific stuff.
T 1604709372 18<29kchibisov18>	let me check atlas
T 1604709444 18<29kchibisov18>	Oh, they are drawn by some other pass.
T 1604709459 18<24UndeadLeech18>	What do you mean?
T 1604709467 18<29kchibisov18>	It has 3 renderers.
T 1604709471 18<29kchibisov18>	grid, quad, and rects.
T 1604709487 18<29kchibisov18>	And lines in vim are rendered by something else, since they are not in grid atlas.
T 1604709500 18<24UndeadLeech18>	Huh? What do you mean?
T 1604709506 18<24UndeadLeech18>	They're glyphs, are they not?
T 1604709515 18<29kchibisov18>	yes, but they may went to different atlas.
T 1604709529 18<29kchibisov18>	err, different renderer.
T 1604709545 18<29kchibisov18>	Let me check who drawn them
T 1604709565 18<24UndeadLeech18>	rects is underline and stuff, right? What's the difference between grid and quad? I'd assume one of them renders the atlas'ed glyphs?
T 1604709694 18<29kchibisov18>	Yeah, lines were drawn by glyphrect shader.
T 1604709710 18<29kchibisov18>	not the grid one.
T 1604709719 18<29kchibisov18>	Thus they may blend things differently.
T 1604709756 18<29kchibisov18>	Not sure why it happened though.
T 1604709887 18<24UndeadLeech18>	What are these shaders there for? 
T 1604709908 18<29kchibisov18>	screen.f.glsl draws the entire screen, but works for good glyphs.
T 1604709926 18<29kchibisov18>	glyphrect.f.glsl draws bad glyphs.
T 1604709935 18<29kchibisov18>	And rect thing draws rects.
T 1604737306 20*	Disconnected (20)
T 1604737330 19*	Now talking on 22#alacritty
T 1604737330 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1604737330 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1604743230 20*	Disconnected (20)
T 1604743269 19*	Now talking on 22#alacritty
T 1604743269 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1604743269 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1604775856 20*	Disconnected (20)
T 1604775961 19*	Now talking on 22#alacritty
T 1604775961 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1604775961 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1604783482 18<29kchibisov18>	Also, UndeadLeech , if you will be fine with having builtin font for box drawing for which you can opt-in let me know.
T 1604783552 18<29kchibisov18>	Assuming that drawing without blending is overly complicated, since you need min/max blending, which is insanity.
T 1604785391 18<24UndeadLeech18>	Honestly I'm not completely sure anymore.
T 1604785556 18<29kchibisov18>	About which part? That we need opt-int builtin font?
T 1604785567 18<29kchibisov18>	Or that it can't be fixed with 'no blend'.
T 1604785702 18<24UndeadLeech18>	I'm not sure if there's actually any good way to fix this without providing our own font.
T 1604785737 18<29kchibisov18>	I mean, maybe draw the entire screen's alpha mask into texture with max blending.
T 1604785767 18<29kchibisov18>	And then get alpha mask from that texture instead of atlas.
T 1604785814 18<29kchibisov18>	Maybe with colors.
T 1604785823 18<29kchibisov18>	but I'm not sure if it'll work.
T 1604785829 18<24UndeadLeech18>	By max blending you mean taking the maximum value at each point?
T 1604785841 18<29kchibisov18>	yeah, opengl has such mode.
T 1604785851 18<24UndeadLeech18>	Yeah, that's the only thing I can think of.
T 1604785871 18<29kchibisov18>	But it should work only on alpha masks without any colors.
T 1604785887 18<29kchibisov18>	But having a texture of screen size is insane.
T 1604785896 18<29kchibisov18>	for each frame.
T 1604785913 18<24UndeadLeech18>	You'd only have one texture at a time, right?
T 1604785925 18<29kchibisov18>	you create new each time
T 1604785938 18<29kchibisov18>	Since you should overlap the entire screen.
T 1604785949 18<24UndeadLeech18>	What do you mean by that?
T 1604785978 18<24UndeadLeech18>	I mean you'd have to clear it every time, but you wouldn't have to keep old frames around.
T 1604785990 18<29kchibisov18>	yeah.
T 1604785995 18<29kchibisov18>	But it's insanity anyway.
T 1604786050 18<24UndeadLeech18>	~33MB for a 4k screen.
T 1604786061 18<29kchibisov18>	yeah, insanity.
T 1604786101 18<29kchibisov18>	And slow.
T 1604786118 18<29kchibisov18>	And I'm not even sure that it'll work.
T 1604786132 18<24UndeadLeech18>	Yeah I don't know much about GPU/OpenGL performance, but based on the bandwidth limitations we ran into with instance data that doesn't seem smart.
T 1604786161 18<29kchibisov18>	The problem is iGPUs.
T 1604786173 18<29kchibisov18>	also, we may remove instance rendering all together.
T 1604786241 18<29kchibisov18>	I've talked with w23 about that like yesterday, since quad.rs is way faster than instancing and instancing is very complicated for certain CPUs/drivers.
T 1604786265 18<29kchibisov18>	Also, it'll use only one pass instead of 2.
T 1604786425 18<29kchibisov18>	But it'll be on top of master's API.
T 1604786437 18<24UndeadLeech18>	Also fyi I think Kitty only renders things that are within cell boundaries.
T 1604786465 18<29kchibisov18>	kitty does a lot of weird tricks.
T 1604786493 18<29kchibisov18>	Like it repositions glyphs inside cell, etc.
T 1604786506 18<29kchibisov18>	Just to make them 'fit'.
T 1604786512 18<24UndeadLeech18>	It does?
T 1604786527 18<29kchibisov18>	My glyphs look different in kitty with the same font size.
T 1604786549 18<24UndeadLeech18>	Ah, but you haven't actually looked at the code?
T 1604786562 18<24UndeadLeech18>	Might just be resizing glyphs, I think it could potentially be doing that.
T 1604786568 18<29kchibisov18>	But only with some of the fonts.
T 1604786578 18<29kchibisov18>	I've looked and it seems to have some logic to do so.
T 1604786609 18<29kchibisov18>	But I can't say more...
T 1604786631 18<29kchibisov18>	I just know that they are more artificially centered sometimes.
T 1604786709 18<29kchibisov18>	Anyway, some fonts draw glyphs outside of cell boundaries.
T 1604786742 18<24UndeadLeech18>	Yeah, but one could certainly argue those fonts are borked in a monospace context.
T 1604786770 18<29kchibisov18>	I mean they are monospace.
T 1604786788 18<29kchibisov18>	They are just a bit weird.
T 1604786792 18<24UndeadLeech18>	I mean they report monospace metrics, but they don't render monospace glyphs.
T 1604786806 18<24UndeadLeech18>	The glyph size is clearly beyond the monospace cell metrics.
T 1604786807 18<29kchibisov18>	They render though.
T 1604786817 18<24UndeadLeech18>	What do you mean?
T 1604786830 18<24UndeadLeech18>	Fonts don't render anything? Fonts are just fonts.
T 1604786835 18<29kchibisov18>	They're just slightly bigger.
T 1604786849 18<24UndeadLeech18>	Exactly?
T 1604786860 18<24UndeadLeech18>	I mean ultimately the problem is that monospace is a big fucking lie.
T 1604786863 18<29kchibisov18>	https://paste.rs/zXs.png
T 1604786875 18<24UndeadLeech18>	Because even if you maybe have a perfectly nice primary font, as soon as you get into font fallback, you're SoL.
T 1604786886 18<24UndeadLeech18>	kchibisov: What's that?
T 1604786920 18<29kchibisov18>	An example of drawing slightly above.
T 1604786926 18<29kchibisov18>	A monospace font.
T 1604786940 18<29kchibisov18>	And yeah, kitty cuts it.
T 1604786962 18<29kchibisov18>	Looks just awfully bad.
T 1604786974 18<24UndeadLeech18>	That just looks like a shitty font.
T 1604786990 18<29kchibisov18>	I mean, it doesn't matter, why it cuts the glyph.
T 1604787021 18<29kchibisov18>	You can't just define a list of monospace fonts users can use.
T 1604787041 18<24UndeadLeech18>	I mean you can absolutely say you don't support fonts that are not behaving properly.
T 1604787046 18<24UndeadLeech18>	Like proportional fonts.
T 1604787056 18<29kchibisov18>	Yeah, but this font is clearly a monospace one.
T 1604787062 18<24UndeadLeech18>	It's not.
T 1604787066 18<29kchibisov18>	It's.
T 1604787071 18<24UndeadLeech18>	It claims to be a monospace font.
T 1604787076 18<24UndeadLeech18>	You can claim whatever you want.
T 1604787096 18<29kchibisov18>	It just uses as much from the cell as it can.
T 1604787108 18<24UndeadLeech18>	Only because you report monospace metrics, doesn't mean you have a functional monospace font.
T 1604787127 18<24UndeadLeech18>	If you render outside of the cell, you use MORE from the cell than you can.
T 1604787137 18<24UndeadLeech18>	Which is clearly incorrect, because you're reporting incorrect metrics at that point.
T 1604787144 18<24UndeadLeech18>	Incorrect metrics => your font is broken.
T 1604787145 18<29kchibisov18>	it's not outside of cell, it's outside of cell you've picked for it.
T 1604787158 18<29kchibisov18>	monospace font is the one that has the same advance for each char.
T 1604787159 18<24UndeadLeech18>	That is based on the metrics reported by the font though?
T 1604787160 18<29kchibisov18>	nothing more.
T 1604787164 18<29kchibisov18>	there's nothing about fitting into cell.
T 1604787179 18<29kchibisov18>	It depends what metrics are you using.
T 1604787189 18<24UndeadLeech18>	I can make you a monospace font that will never work on any computer.
T 1604787194 18<29kchibisov18>	There's literally a PR on crossfont that makes this font always fit into cell.
T 1604787195 18<24UndeadLeech18>	That's 100% the fonts fault.
T 1604787203 18<24UndeadLeech18>	Having the correct advance is not sufficient for a functional font.
T 1604787218 18<29kchibisov18>	Please, show me a paper that defined functional font.
T 1604787241 18<24UndeadLeech18>	Why the fuck would some random paper have authority over that?
T 1604787253 18<29kchibisov18>	I mean, what is functional font?
T 1604787277 18<29kchibisov18>	And what metrics should define the cell size you'll be using?
T 1604787302 18<24UndeadLeech18>	I mean feel free to read the freetype documentation.
T 1604787305 18<29kchibisov18>	And why require monospace fonts to be rendered inside grid.
T 1604787313 18<29kchibisov18>	I've read, nothing about cell.
T 1604787330 18<24UndeadLeech18>	That's completely incorrect. The glyph metrics are very well defined.
T 1604787331 18<29kchibisov18>	And vte terminals are using other metrics.
T 1604787337 18<24UndeadLeech18>	https://www.freetype.org/freetype2/docs/glyphs/metrics.png
T 1604787365 18<24UndeadLeech18>	If you report the same metrics for every glyph, but you have content drawn outside those metrics, your font is broken.
T 1604787385 18<29kchibisov18>	it's not like that, metric is per glyph.
T 1604787438 18<24UndeadLeech18>	I mean either way this isn't going anywhere. I have zero interest in supporting fonts that are broken.
T 1604787450 18<24UndeadLeech18>	If you want a font to draw at random heights, use a different terminal.
T 1604787469 18<29kchibisov18>	How you'll render cjk?
T 1604787485 18<24UndeadLeech18>	?
T 1604787497 18<24UndeadLeech18>	Why would cjk pose a problem? That reports correctly as fullwidth.
T 1604787510 18<29kchibisov18>	Like you should start picking fallback fonts with similar metrics.
T 1604787545 18<24UndeadLeech18>	I did talk about this problem already.
T 1604787545 18<29kchibisov18>	In the end you'll have kitty's font rendering stack.
T 1604787561 18<24UndeadLeech18>	Why does that matter?
T 1604787563 18<29kchibisov18>	Since the picking nearest my metrics is what they do for sure.
T 1604787582 18<24UndeadLeech18>	They don't?
T 1604787585 18<29kchibisov18>	I'm just acknowlading that it's a valid thing to do.
T 1604787595 18<29kchibisov18>	I swear I saw this logic there.
T 1604787613 18<29kchibisov18>	recentering -> not sure, picking nearest -> for sure.
T 1604787616 18<24UndeadLeech18>	I mean when looking at the font fallback for emojis they were delegating the fallback to fontconfig.
T 1604787631 18<29kchibisov18>	They use fallback from fontconfig.
T 1604787634 18<24UndeadLeech18>	Just put an 'emoji' in the pattern.
T 1604787655 18<29kchibisov18>	but then they try varios font sizes until they find nearest for that font.
T 1604787660 18<29kchibisov18>	that's likely why they don't support bitmap fonts.
T 1604787675 18<24UndeadLeech18>	Sure.
T 1604787685 18<24UndeadLeech18>	But they don't skip fonts in fallback that aren't the correct metrics.
T 1604787702 18<24UndeadLeech18>	Picking font sizes that more closely match your primary font isn't really a bad idea.
T 1604787702 18<29kchibisov18>	Yes, they just try them unless they match primary font.
T 1604787718 18<29kchibisov18>	I've told you about that in the past, you said that it's bad idea.
T 1604787732 18<29kchibisov18>	I was even tempted to implement it at some point iirc.
T 1604787734 18<24UndeadLeech18>	It's just unnecessarily complicated.
T 1604787746 18<24UndeadLeech18>	But it makes sense why someone would want to do it.
T 1604787749 18<29kchibisov18>	Likely when I was touching crossfont a lot.
T 1604787808 18<29kchibisov18>	Also, if you don't want to support drawing outside of glyph boundaries at all, mention that on 'new renderer' thing.
T 1604787843 18<29kchibisov18>	It'll make the life so much easier.
T 1604788043 18<29kchibisov18>	But kitty supports drawing out side of cell boundaries actually.
T 1604788047 18<29kchibisov18>	But horizontally.
T 1604788071 18<29kchibisov18>	https://paste.rs/9be.png
T 1604788359 18<29kchibisov18>	But you may treatf those glyphs as full width when drawing actually, so you'll still crop them, but differently. 
T 1604788378 18<24UndeadLeech18>	Oh I generally don't think it's a good idea to ban rendering outside of cell boundaries. I'm just spitballing.
T 1604788429 18<29kchibisov18>	I mean, the easiest solution is to provide opt-in for builtin font.
T 1604788452 18<29kchibisov18>	even implementing it is easy.
T 1604788466 18<29kchibisov18>	Just time consuming.
T 1604788478 18<29kchibisov18>	since we have literally everything for it to work.
T 1604789085 18<24UndeadLeech18>	Yeah.
T 1604789090 18<24UndeadLeech18>	Though easiest != best.
T 1604789095 18<24UndeadLeech18>	Not necessarily at least.
T 1604789165 18<29kchibisov18>	It depends though, it'll be the best when it'll come to aligning stuff.
T 1604789175 18<29kchibisov18>	And will work with arbitrary line heigh.
T 1604789178 18<29kchibisov18>	line height*
T 1604816033 20*	Disconnected (20)
T 1604816060 19*	Now talking on 22#alacritty
T 1604816060 22*	Topic for 22#alacritty is: Alacritty - A GPU-accelerated terminal emulator <> Latest Release: v0.5.0 - https://github.com/alacritty/alacritty/releases/latest
T 1604816060 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@165.227.76.134 (24Sat Aug  1 00:45:32 2020)
T 1604816074 18<24UndeadLeech18>	At that point you can also return an error, but neither helps with not returning the correct missing glyph symbol.
T 1604816095 18<29kchibisov18>	No, you return Error(RasterizedGlyph)
T 1604816104 18<24UndeadLeech18>	What?
T 1604816123 18<29kchibisov18>	Err, Error::MissingGlyph(RasterizedGlyph)
T 1604816136 18<29kchibisov18>	And this error is a missing symbol.
T 1604816147 18<29kchibisov18>	I mean, your missing glyph is right there.
T 1604816149 18<24UndeadLeech18>	Oh, gotcha. You mean returning the proper rasterized glyph but actually attaching the missing glyph symbol as data.
T 1604816156 18<29kchibisov18>	Yes.
T 1604816174 18<24UndeadLeech18>	I mean that API would be a bit annoying to use, but it's an option.
T 1604816186 18<29kchibisov18>	it won't.
T 1604816202 18<29kchibisov18>	You're alreadyd using Result there, just chain on unwrap.
T 1604816206 18<24UndeadLeech18>	How wouldn't it be? Now you have to handle three separate cases and remap them all differently.
T 1604816263 18<29kchibisov18>	\0 helps, since you can clearly know that if you have \0 in char field for rasterized glyph, it's missing.
T 1604816270 18<24UndeadLeech18>	No.
T 1604816289 18<29kchibisov18>	Hm?
T 1604816309 18<29kchibisov18>	Unless you have a glyph for \0 actually.
T 1604816312 18<24UndeadLeech18>	You know it's missing when it's an error anyways.
T 1604816329 18<29kchibisov18>	No, I mean in approach without error.
T 1604816346 18<29kchibisov18>	Like if glyph is missing you set its char to '\0'.
T 1604816351 18<24UndeadLeech18>	No way we return \0 as an error in an Ok result.
T 1604816354 18<24UndeadLeech18>	That's insane.
T 1604816393 18<29kchibisov18>	I mean I prefer the Error thing more.
T 1604816435 18<29kchibisov18>	Other than that I don't think there's an option to make it work.
T 1604816448 18<24UndeadLeech18>	Yeah, but it'll me `get_glyph.unwrap_or_else(|err| match err { Missing(glyph) => glyph, _ => Default::default() })`.
T 1604816450 18<24UndeadLeech18>	That's messy.
T 1604816508 18<29kchibisov18>	Well, assuming that you'll use that in one place in your program.
T 1604816524 18<29kchibisov18>	Also, we can add a helper for that error.
T 1604816590 18<29kchibisov18>	Though, it won't really help.
T 1604816656 18<29kchibisov18>	The problem is that you can't identify if the glyph is missing.
T 1604816670 18<29kchibisov18>	I mean if the glyph you return is missing.
T 1604816696 18<29kchibisov18>	You may add a bool flag that it's missing glyph, but it'll increase a size of rasterized glyph.
T 1604816746 18<29kchibisov18>	So as an alternative I've suggest to add a fn is_missing(&self) { self.c == '\0' } and set '\0' for those missing glyphs.
T 1604816773 18<24UndeadLeech18>	No.
T 1604816806 18<29kchibisov18>	Exactly, so error approach is the only option that fits.
T 1604816844 18<24UndeadLeech18>	I mean I haven't looked into this yet and I don't plan to today, but from the ones you've suggested that's the only acceptable one at least.
T 1604816876 18<29kchibisov18>	I mean, just by judging how freetype backend works.
T 1604816914 18<29kchibisov18>	And that we should return missing glyph.
T 1611692084 19*	Now talking on 22#alacritty
T 1611692084 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1611692084 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1611698218 20*	Disconnected (20)
T 1611769223 19*	Now talking on 22#alacritty
T 1611769223 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1611769223 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1611769910 18<29BataLoopPak18>	hello, I just installed alacritty with brew in macos. The problem is can't set italics. I'm trying to use fira code
T 1611770131 18<24UndeadLeech18>	Fira Code doesn't have italics.
T 1611770271 18<29BataLoopPak18>	Oh, you're right
T 1611770273 18<29BataLoopPak18>	but with menlo it doesn't work either
T 1611770285 18<24UndeadLeech18>	Might not have an italics version either.
T 1611770294 18<24UndeadLeech18>	You can manually set your italics font to whatever you want though.
T 1611770594 18<29BataLoopPak18>	sorry. It is a vim (text-editor) problem. I just try echo -e "\e[3m foo \e[23m" and it works. Thanks UndeadLeech 
T 1611770611 18<24UndeadLeech18>	No problem.
T 1611771584 18<29BataLoopPak18>	congratulations on the terminal BTW
T 1611773160 18<22judson18>	What's the situation on the sudo CVE in 20.03?
T 1611773173 18<22judson18>	Sorry - n/m
T 1611783290 20*	Disconnected (20)
T 1611791627 19*	Now talking on 22#alacritty
T 1611791627 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1611791627 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1611792222 22*	26ChanServ gives channel operator status to 18UndeadLeech
T 1611800507 24*	28nirojan_ is now known as 18nirojan
T 1611828343 19*	Now talking on 22#alacritty
T 1611828343 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1611828343 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1611831084 20*	Disconnected (20)
T 1611999311 19*	Now talking on 22#alacritty
T 1611999311 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1611999311 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612010171 20*	Disconnected (20)
T 1612010392 19*	Now talking on 22#alacritty
T 1612010392 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612010392 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612123520 19*	Now talking on 22#alacritty
T 1612123520 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612123520 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612123573 20*	Disconnected (20)
T 1612123600 19*	Now talking on 22#alacritty
T 1612123600 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612123600 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612134463 20*	Disconnected (20)
T 1612167221 19*	Now talking on 22#alacritty
T 1612167221 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612167221 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612176502 18<20lovesegfault18>	UndeadLeech: any chance you can cut 0.7.2 with 73759da0f52f7186181f7284a4c9cb9db0798d59?
T 1612183154 18<24UndeadLeech18>	lovesegfault: I thought you for sure would love that feature.
T 1612183169 18<24UndeadLeech18>	I've considered it, but I'm not entirely sure. Since the impact of that bug is relatively low.
T 1612185429 20*	Disconnected (20)
T 1612185455 19*	Now talking on 22#alacritty
T 1612185455 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612185455 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612204442 20*	Disconnected (20)
T 1612204469 19*	Now talking on 22#alacritty
T 1612204469 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612204469 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612206469 18<20lovesegfault18>	UndeadLeech: it broke a whole bunch of my scripts :/
T 1612206504 18<20lovesegfault18>	b/c I use a pattern of launching alacritty with fzf to select something, then write that to a fifo file in /tmp which gets picked up by the spawning proc
T 1612206515 18<20lovesegfault18>	but the spawning proc started failing since alacritty would segfault
T 1612206539 18<20lovesegfault18>	a simple || true solved it, but regardless it took me a while to figure out what was happening :P
T 1612210721 22*	26ChanServ gives channel operator status to 18UndeadLeech_
T 1612211161 24*	28Ckatt is now known as 18Ckat
T 1612211166 24*	28UndeadLeech_ is now known as 18UndeadLeech
T 1612211167 24*	28ShawnMcCool_ is now known as 18ShawnMcCool
T 1612220822 20*	Disconnected (20)
T 1612293823 19*	Now talking on 22#alacritty
T 1612293823 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612293823 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612299712 18<24UndeadLeech18>	If you haven't always had it, is there a version that doesn't have this issue?
T 1612338348 19*	Now talking on 22#alacritty
T 1612338348 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612338348 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612341510 20*	Disconnected (20)
T 1612342442 19*	Now talking on 22#alacritty
T 1612342442 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612342442 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612344000 20*	Disconnected (20)
T 1612345581 20*	Disconnected (20Remote host closed socket)
T 1612346164 20*	Disconnected (20Remote host closed socket)
T 1612346248 20*	Disconnected (20Remote host closed socket)
T 1612346276 19*	Now talking on 22#alacritty
T 1612346276 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612346276 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612357968 20*	Disconnected (20)
T 1612379901 19*	Now talking on 22#alacritty
T 1612379901 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612379901 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612383266 18<24UndeadLeech18>	Reventlov: Are you on the latest Alacritty version?
T 1612384305 18<22Reventlov18>	nope, nixos 20.09 is lagging behind, gonna try the latest asap
T 1612384386 18<24UndeadLeech18>	That would be recommended, yes.
T 1612393314 20*	Disconnected (20)
T 1612437782 19*	Now talking on 22#alacritty
T 1612437782 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612437782 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612462687 20*	Disconnected (20)
T 1612462712 19*	Now talking on 22#alacritty
T 1612462712 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612462712 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612468177 20*	Disconnected (20)
T 1612468245 19*	Now talking on 22#alacritty
T 1612468245 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612468245 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612468447 20*	Disconnected (20)
T 1612468761 19*	Now talking on 22#alacritty
T 1612468761 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612468761 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612468777 20*	Disconnected (20)
T 1612470277 20*	Disconnected (20)
T 1612471163 20*	Disconnected (20Remote host closed socket)
T 1612553781 Python interface unloaded
T 1612553804 19*	Now talking on 22#alacritty
T 1612553804 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612553804 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612555586 20*	Disconnected (20)
T 1612655766 19*	Now talking on 22#alacritty
T 1612655766 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612655766 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612706575 20*	Disconnected (20)
T 1612706603 19*	Now talking on 22#alacritty
T 1612706603 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612706603 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612710402 20*	Disconnected (20)
T 1612710427 19*	Now talking on 22#alacritty
T 1612710427 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612710427 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612711302 20*	Disconnected (20)
T 1612711347 19*	Now talking on 22#alacritty
T 1612711347 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612711347 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612718322 20*	Disconnected (20)
T 1612719018 19*	Now talking on 22#alacritty
T 1612719018 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612719018 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612728936 20*	Disconnected (20)
T 1612728962 19*	Now talking on 22#alacritty
T 1612728962 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612728962 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612729012 24*	28alexherbo23 is now known as 18alexherbo2
T 1612731576 20*	Disconnected (20)
T 1612731710 20*	Disconnected (20Remote host closed socket)
T 1612731781 20*	Disconnected (20Remote host closed socket)
T 1612731823 19*	Now talking on 22#alacritty
T 1612731823 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612731823 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612732515 20*	Disconnected (20)
T 1612782063 20*	Disconnected (20Connection timed out)
T 1612782090 19*	Now talking on 22#alacritty
T 1612782090 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612782090 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612797928 20*	Disconnected (20)
T 1612797954 19*	Now talking on 22#alacritty
T 1612797954 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612797954 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612799262 20*	Disconnected (20)
T 1612799288 19*	Now talking on 22#alacritty
T 1612799288 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612799288 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612807190 20*	Disconnected (20)
T 1612807217 19*	Now talking on 22#alacritty
T 1612807217 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612807217 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612811591 24*	28cole-h_ is now known as 18cole-h
T 1612813584 20*	Disconnected (20)
T 1612813613 19*	Now talking on 22#alacritty
T 1612813613 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612813613 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612817282 20*	Disconnected (20)
T 1612817310 19*	Now talking on 22#alacritty
T 1612817310 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612817310 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612824411 20*	Disconnected (20)
T 1612824436 19*	Now talking on 22#alacritty
T 1612824436 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612824436 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612825041 20*	Disconnected (20)
T 1612875589 19*	Now talking on 22#alacritty
T 1612875589 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612875589 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612875950 20*	Disconnected (20)
T 1612875978 19*	Now talking on 22#alacritty
T 1612875978 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612875978 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612879650 18<22nixpulvis18>	Hey. Thought I'd swing by today, sorry I have been slow on responding to #4768. I'm still reading it over and testing some basic things. I have a few comments so far, but I'll try and write them up on the PR later today.
T 1612880024 18<24UndeadLeech18>	nixpulvis: Glad you came here to comment, I was about to give it another review myself and just merge it since you didn't say anything.
T 1612880415 18<22nixpulvis18>	Yea, sorry I've been a bit MIA. Life has been getting in the way.
T 1612880441 18<24UndeadLeech18>	I mean you have no obligation to be around lol. Just nice to have a second opinion.
T 1612880519 18<22nixpulvis18>	On an unrelated note, did you see this: https://bradbarrows.com/post/alacrittytabs
T 1612880551 18<24UndeadLeech18>	If that's related to the PR I've seen the other day, I'd rather not look at it.
T 1612880559 18<22nixpulvis18>	It's a shame he didn't just figure out how macOS tabs work.
T 1612880581 18<22nixpulvis18>	fair enough. I was very confused by the PR at a glance too.
T 1612880599 18<24UndeadLeech18>	It was very strange indeed.
T 1612880639 18<24UndeadLeech18>	Also reading the description here, that sounds completely unfunctional lol.
T 1612880640 18<22nixpulvis18>	He claims performanve improvements by testing with `time find ~/repos/llvm-project`.
T 1612880652 18<24UndeadLeech18>	Yeah that's not a test.
T 1612880672 18<24UndeadLeech18>	And it sounds like he's trying to write without synchronization with the terminal (no locking), which will prevent things like ctrl+c from working properly.
T 1612880677 18<24UndeadLeech18>	It just doesn't work like that.
T 1612880699 18<22nixpulvis18>	I didn't even bother trying it out TBH.
T 1612880713 18<24UndeadLeech18>	I mean it doesn't build, I didn't try it either.
T 1612880720 18<24UndeadLeech18>	But the changes make little sense.
T 1612880744 18<22nixpulvis18>	even if they made sense, tabs should really be at a higher level than the grid.
T 1612880819 18<24UndeadLeech18>	I mean yeah, alacritty_terminal shouldn't be touched.
T 1612880849 18<22nixpulvis18>	Anyway, I might try and be around here more IDK. But let me at least figure out this sync escape thing now.
T 1612880877 18<24UndeadLeech18>	Whatever floats your boat. You're aware of the escape sequence and how it should work?
T 1612880894 18<24UndeadLeech18>	I haven't given it a full test after sending the PR iirc, so it might still be somewhat broken.
T 1612880916 18<24UndeadLeech18>	I'm mostly concerned about performance problems because I've been playing around with different versions for months with zero progress.
T 1612880949 18<24UndeadLeech18>	Since unfortunately I see no way to do this other than branching in every byte of the parser, which is obviously very expensive.
T 1612882067 18<22nixpulvis18>	I think I understand how this works now, more or less.
T 1612882083 18<24UndeadLeech18>	Hah, you mean my code or the escape sequence itself?
T 1612882095 18<22nixpulvis18>	I want to give it a quick sanity check, but I fear I'm messing up my DSC string.
T 1612882099 18<22nixpulvis18>	Both ;)
T 1612882167 18<22nixpulvis18>	Would there be a way to avoid the conditional with another vtable lookup?
T 1612882207 18<22nixpulvis18>	essentially dynamic dispatch on the `parser`? 
T 1612882260 18<22nixpulvis18>	I'm not even sure that would actually be any faster in this case.
T 1612882446 18<24UndeadLeech18>	Dynamic dispatch is slower than branching. 
T 1612882458 18<24UndeadLeech18>	Had the same idea, expected the lookup to be slower so I tested it. It is indeed.
T 1612882580 20*	Disconnected (20)
T 1612882640 20*	Disconnected (20Remote host closed socket)
T 1612882716 20*	Disconnected (20Remote host closed socket)
T 1612882760 20*	Disconnected (20Remote host closed socket)
T 1612882788 19*	Now talking on 22#alacritty
T 1612882788 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612882788 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612882790 18<24UndeadLeech18>	That's why I think doing it in the parser is the only solution.
T 1612882797 18<22nixpulvis18>	Wait... if you *are* frozen, you should be fine.
T 1612882809 18<24UndeadLeech18>	No, because you might be frozen too early.
T 1612882825 18<22nixpulvis18>	Oh I see what you mean
T 1612882827 18<24UndeadLeech18>	Imagine someone writes content synchronized, then a popup, then freezes until the user does input.
T 1612882837 18<24UndeadLeech18>	You might never see that popup if you freeze on the first frame.
T 1612882851 18<22nixpulvis18>	you need the conditional in the parser one way or another to keep the most forward frozen state.
T 1612882853 18<24UndeadLeech18>	So the application would wait for user feedback and the user would wait for application feedback.
T 1612882858 18<24UndeadLeech18>	Yeah.
T 1612882914 18<22nixpulvis18>	Quick sanity check: `echo -e '\eP=1s'` should enable, and s/1/2 should disable fully?
T 1612882931 18<22nixpulvis18>	oh plus the '\\` at the end of each.
T 1612882943 18<22nixpulvis18>	I still feel like I'm not terminating correctly.
T 1612882951 18<24UndeadLeech18>	You need ST at the end, so \e\\.
T 1612882956 18<22nixpulvis18>	OH
T 1612882960 18<22nixpulvis18>	\e\\ is ST.
T 1612882974 18<24UndeadLeech18>	But you should probably do \e\x5c, because bash seems to struggle with recognizing what you're escaping when you do \e\\"
T 1612882986 18<24UndeadLeech18>	Well zsh, not bash.
T 1612882987 18<22nixpulvis18>	smart
T 1612883000 18<22nixpulvis18>	though, fish doesn't care
T 1612883014 18<24UndeadLeech18>	It would have been smart if I managed to figure it out before running into the issue like 9 times.
T 1612883061 18<24UndeadLeech18>	Ah, it's stuff like `\eP=1s\e\\test` that creates troubles.
T 1612883102 18<22nixpulvis18>	ah. I'm writing seperate echos with some sleeps in between atm.
T 1612883117 18<22nixpulvis18>	confirmed iTerm works at least at a basic level ;)
T 1612883131 18<24UndeadLeech18>	Might work too. Just saying I've completely switched to \x5c because I'm not having half my tests invalidated because the escape sequence wasn't parsed properly.
T 1612959582 19*	Now talking on 22#alacritty
T 1612959582 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612959582 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612960708 20*	Disconnected (20)
T 1612960763 20*	Disconnected (20Remote host closed socket)
T 1612960806 20*	Disconnected (20Remote host closed socket)
T 1612960862 20*	Disconnected (20Remote host closed socket)
T 1612960890 19*	Now talking on 22#alacritty
T 1612960890 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612960890 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612962426 18<27Corvus`yJ18>	/!\ this channel has moved to ##hamradio /!\
T 1612962451 18<24UndeadLeech18>	lol
T 1612962455 18<27danielhuman18>	/!\ this channel has moved to ##hamradio /!\
T 1612962464 22*	26UndeadLeech sets mode 24+r on 22#alacritty
T 1612963887 18<25peschk_l18>	hello :)  the last alacritty version (0.7.1) caused my cursor to always blink when I'm using emacs, even with "cursor.style.blinking" set to "Never". I never had this issue with another terminal emulator (tried gnome-terminal, lxterminal amd xterm). In the end, the fix was a specific option in the emacs config. Since I suspect that other people
T 1612963888 18<25peschk_l18>	might get this issue as well, so I'd like to add this information to the documentation, if that's okay with the maintainers. What would the right place be ? A comment in the reference config file ? Or maybe in a Q&A section in the wiki ?
T 1612964477 18<19rcf18>	peschk_l: open an issue, it's definitely a bug. 
T 1612964512 18<19rcf18>	If never is even an option, it should only exist to prevent cvvis from having an effect. 
T 1612964691 18<25peschk_l18>	rcf: I dont know, looks like emacs does some weid stuff with the cursor: https://www.emacswiki.org/emacs/NonBlinkingCursor . Maybe it hides the terminal's cursor to provide its own ? But you're right I'll open an issue, so can at least have the fix written down somewhere
T 1612964746 18<19rcf18>	peschk_l: you can reproduce the issue at a normal prompt with `tput cvvis`
T 1612964827 18<19rcf18>	Or rather, can you do this? 
T 1612964878 20*	Disconnected (20)
T 1612964924 20*	Disconnected (20Remote host closed socket)
T 1612964980 20*	Disconnected (20Remote host closed socket)
T 1612965037 20*	Disconnected (20Remote host closed socket)
T 1612965088 20*	Disconnected (20Remote host closed socket)
T 1612965114 19*	Now talking on 22#alacritty
T 1612965114 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612965114 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612965321 18<25peschk_l18>	I can't find docs about what exactly emacs does with the cursor... But there's a n-nbc/--no-blinking-cursor option. I'll add relevant links and notes to the issue
T 1612965376 18<25peschk_l18>	(btw it's the only minor issue I've had with alacritty, been using it for over a year now... So congrats for that!)
T 1612965404 18<24UndeadLeech18>	Unless you can reproduce it outside of Alacritty, there's no point in opening an issue.
T 1612965409 18<24UndeadLeech18>	Outside of emacs*
T 1612965448 18<19rcf18>	UndeadLeech: that's what the tput cvvis is for. 
T 1612965544 18<24UndeadLeech18>	I missed that part.
T 1612965549 18<24UndeadLeech18>	Config's probably just fucked.
T 1612965667 18<19rcf18>	peschk_l: are you absolutely sure you set it properly in the config? 
T 1612965701 18<25peschk_l18>	UndeadLeech: my config hasn't much changes from the original: https://pastebin.com/mhGrTw6t
T 1612965720 18<24UndeadLeech18>	Yeah that's wrong.
T 1612965725 18<25peschk_l18>	I can try to reproduce with the reference config
T 1612965766 18<24UndeadLeech18>	I mean it's jut wrong. Please see the default config for documentation on how to disable blinking.
T 1612965839 18<19rcf18>	peschk_l: you set cursor.blinking, not cursor.style.blinking. 
T 1612965873 18<25peschk_l18>	argh crap, indeed. Must've f*ed up when updating config to 0.7.1. Sorry I annoyed you
T 1612965881 18<24UndeadLeech18>	np
T 1612965886 22*	26UndeadLeech sets mode 24-r on 22#alacritty
T 1612965900 18*	19rcf waits for more bizarre hamradio spam
T 1612965976 18<24UndeadLeech18>	IRC spam is something different.
T 1612965984 18<24UndeadLeech18>	You just don't get that kind of spam anywhere else.
T 1612972678 20*	Disconnected (20)
T 1612972730 20*	Disconnected (20Remote host closed socket)
T 1612972771 20*	Disconnected (20Remote host closed socket)
T 1612972820 20*	Disconnected (20Remote host closed socket)
T 1612972847 19*	Now talking on 22#alacritty
T 1612972847 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1612972847 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1612984469 18<24UndeadLeech18>	nixpulvis: You still around? Curious how you feel about configuration of regex "hints" one can launch with the configuration. I'd imagine it would be nice if the same hints would be used for URL highlighting with the mouse.
T 1612988518 20*	Disconnected (20)
T 1613026309 20*	Disconnected (20Connection timed out)
T 1613026337 19*	Now talking on 22#alacritty
T 1613026337 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613026337 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613036951 20*	Disconnected (20)
T 1613036978 19*	Now talking on 22#alacritty
T 1613036978 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613036978 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613040372 20*	Disconnected (20)
T 1613040439 20*	Disconnected (20Remote host closed socket)
T 1613040490 20*	Disconnected (20Remote host closed socket)
T 1613040539 20*	Disconnected (20Remote host closed socket)
T 1613040572 19*	Now talking on 22#alacritty
T 1613040572 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613040572 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613057562 20*	Disconnected (20)
T 1613057590 19*	Now talking on 22#alacritty
T 1613057590 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613057590 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613071640 18<28Yaniel18>	belak: Terminus is a bitmap font IIRC so the obvious answer would be that you set its size in px
T 1613071986 18<28belak18>	Yaniel: yes, terminus is a bitmap font, however it does the exact same thing with the Terminus (TTF) version
T 1613072019 18*	28Yaniel ¬Ø\_(„ÉÑ)_/¬Ø
T 1613072030 18<28Yaniel18>	also, does xft know your DPI or does alacritty get it from somewhere else?
T 1613072043 18<28belak18>	I haven't set my DPI anywhere explicitly
T 1613072114 18<28belak18>	Gnome applications, KDE applications, Emacs, all need 12 set for the size... Alacritty for some reason needs it to be 7 to match everything else...
T 1613072132 18<28belak18>	That's Xft, Pango, and whatever KDE uses
T 1613072185 18<28belak18>	I think something is off with Alacritty because even Source Code Pro at size 12 is massive
T 1613072246 18<28Yaniel18>	I have uhh
T 1613072268 18<28Yaniel18>	Hack at 11.0 in alacritty
T 1613072382 18<28belak18>	1 sec, I'll post a screenshot
T 1613072417 18<28belak18>	https://thelounge.elwert.cloud/uploads/d03ed0ad454db519/2021-02-11-113927_1920x1080_scrot.png 
T 1613072458 18<28belak18>	That seems... huge
T 1613072493 18<28Yaniel18>	can you get some console output from alacritty
T 1613072510 18<28Yaniel18>	that looks a lot like it's getting a DPI scale factor of 2 from somewhere
T 1613072541 18<28belak18>	What log level?
T 1613072560 18<28Yaniel18>	and fwiw, forcing a random piece of text to use the same font and same pt size in firefox dev tools makes it the same size as in alacritty for me
T 1613072591 18<28belak18>	Yeah, device pixel ratio 1.66666667
T 1613072594 18<28belak18>	Good call
T 1613072613 18<28Yaniel18>	there we go
T 1613072626 18<28belak18>	That seems off
T 1613072755 18<28belak18>	Wait, is alacritty a Wayland app?
T 1613072763 18<28belak18>	I wonder if running it inside X is confusing it somehow
T 1613072783 18<28belak18>	Ah, no I see || is_x11
T 1613072788 18<28Yaniel18>	alacritty can use either
T 1613072812 18<28Yaniel18>	but xwayland may be confused about the device pixel ratio
T 1613072831 18<28Yaniel18>	are your reference applications running on native wayland?
T 1613072912 18<28belak18>	I'm running in X and I don't think I have Xwayland set up
T 1613072950 18<28belak18>	I can try adding some extra logging
T 1613072974 18<28Yaniel18>	just need to find where alacritty is getting that DPR from now
T 1613073001 18<28belak18>	Ok, yeah, is_x11 is true
T 1613073313 18<28Yaniel18>	does xrandr report your screen's physical dimensions correctly?
T 1613073426 18<28Yaniel18>	either way you can override it with the WINIT_X11_SCALE_FACTOR env variable
T 1613073463 18<28belak18>	It looks like it...    1920x1080     60.00*+  59.93    48.00  
T 1613073477 18<28Yaniel18>	no I mean the physical size
T 1613073479 18<28Yaniel18>	not pixel size
T 1613073590 18<28belak18>	Yeah, 300mm x 170mm - it's not exact, but they're off by less than 5mm each
T 1613073614 18<28belak18>	eDP1 connected primary 1920x1080+0+0 (normal left inverted right x axis y axis) 300mm x 170mm
T 1613073675 18<28belak18>	Yes, forcing the scale factor to 1 seems to have the intended result
T 1613073710 18<28Yaniel18>	maybe other applications just ignore the screen size vs resolution, while alacritty adjusts itself to account for that
T 1613073719 18<28Yaniel18>	I recall X11 being absolute garbage when it comes to this
T 1613073737 18<28belak18>	From what I can tell, the ratio comes directly from the monitor itself
T 1613073770 18<28belak18>	https://github.com/alacritty/alacritty/blob/master/alacritty/src/display/mod.rs#L196
T 1613073838 18<28belak18>	Both estimated dpr, and dpr are the same
T 1613073847 18<28belak18>	At least for this case
T 1613074465 18<28belak18>	I have to admit, I'm not particularly sure where this value is coming from
T 1613075182 18<28belak18>	All this FFI stuff is a bit obtuse... there's nothing in the underlying X11 lib that references scale_factor
T 1613076352 18<28belak18>	It looks like the code is in winit for anyone looking for it... The calc_dpi_factor function seems like a bunch of magic variables (at least without comments)
T 1613076719 18<28belak18>	I think someone misplaced a decimal in winit
T 1613076813 18<28belak18>	Is there a way in rust to replace a dep with a local copy?
T 1613077104 18<28belak18>	That was it
T 1613077146 18<28belak18>	Wait, maybe not
T 1613077717 18<28belak18>	Ok, it looks like your guess was right Yaniel - winit (and in extension alacritty) calculates a scaling factor based on the size of the display and the resolution... for some reason, nothing else seems to respect this
T 1613077747 18<28belak18>	The calculations are right (but I thought they were wrong because of a weird decimal in some unit conversion)
T 1613078078 18<28belak18>	I think for a while GTK didn't have fractional scaling, so I wonder if they just floored the calculated scaling factor rather than rounding to the nearest 1/12 like winit does
T 1613078597 18<28belak18>	Is there a way to specify different fonts on different platforms?
T 1613080052 18<27frebib18>	I managed to make Alacritty DPI behave fine on X11
T 1613080076 18<27frebib18>	belak: Did you set Xft.dpi in xrdb?
T 1613080102 18<28belak18>	I just overrode the WINIT_X11_SCALE_FACTOR environment variable
T 1613080137 18<27frebib18>	If you don't care about changing the DPI ever, then I suppose that works.
T 1613080390 18<27frebib18>	If you care about correctness or reasoning, this might help
T 1613080390 18<27frebib18>	https://github.com/rust-windowing/winit/commit/4515b77aa51c98f49387c0118de0bfecf3634422
T 1613082265 18<28belak18>	I'll care about that eventually, but this fixes it for now and I don't have the time to keep fighting it lol
T 1613082279 18<28belak18>	I don't currently have any monitors that need to be at higher DPIs
T 1613084909 18<24UndeadLeech18>	QT has the option to calculate the DPR too, but alacritty is the only X11 app I'm aware of that does it by default.
T 1613113213 20*	Disconnected (20)
T 1613113238 19*	Now talking on 22#alacritty
T 1613113238 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613113238 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613122115 18<26betaboon18>	hello #alacritty, I'm running sway and just noticed that setting $XCURSOR_SIZE results in the cursor being half as big in alacritty than everywhere else. what could be the reason for that ? 
T 1613122161 18<24UndeadLeech18>	You mean by setting the cursor size, the cursor size changed?
T 1613122223 18<26betaboon18>	UndeadLeech: i mean when running `XCURSOR_SIZE=50 alacritty` the cursor size ends up being half as big as on other programs that are started with `XCURSOR_SIZE=50`
T 1613122238 18<24UndeadLeech18>	Which version?
T 1613122325 18<26betaboon18>	built against PR4763
T 1613122376 18<26betaboon18>	which is 4 commits ahead of master
T 1613122427 18<24UndeadLeech18>	Which "other applications" are you testing with?
T 1613122542 18<26betaboon18>	UndeadLeech: swaybg, waybar, firefox (in wayland mode), pcmanfm and several electron-based applications running in xwayland mode
T 1613122567 18<26betaboon18>	and wofi
T 1613122595 18<24UndeadLeech18>	Levanx any idea? Most of that seems to be GTK stuff though, which might have a separate configuration option for cursor size.
T 1613122626 18<20Levanx18>	Is it on an hidpi monitor ?
T 1613122654 18<26betaboon18>	UndeadLeech: yeah all the gtk-applications are configured using gsettings, but the xwayland applications should use XCURSOR_SIZE
T 1613122657 18<24UndeadLeech18>	Does sctk scale the cursor size by dpi when other applications do not?
T 1613122674 18<26betaboon18>	Levanx: 1080p
T 1613122677 18<24UndeadLeech18>	xwayland always sounds fishy.
T 1613122704 18<24UndeadLeech18>	DPI is all about pixels per inch, so 1080p alone says nothing.
T 1613122735 18<20Levanx18>	I mean, the screen scale factor is 1
T 1613122743 18<20Levanx18>	so it's not an hidpi issue
T 1613122762 18<20Levanx18>	(things being half the expected size often sound like hidpi issues)
T 1613122791 18<26betaboon18>	UndeadLeech: sorry. i always get confused in the hidpi area. my screen has 166ppi
T 1613122812 18<24UndeadLeech18>	In sway you have to set the DPI manually, right? So the actual monitor DPI shouldn't matter?
T 1613122898 18<26betaboon18>	UndeadLeech: i dont have the dpi set manually anywhere. i would expect sway/wlroots to detect that automatically
T 1613122928 18<24UndeadLeech18>	I'm not sure it does, but I don't use sway. I know you can set it manually if you want to though.
T 1613123199 18<26betaboon18>	XCURSOR_SIZE is being consumed by sctk, right ?
T 1613123243 18<24UndeadLeech18>	It might not be sctk directly, but somewhere in that chain.
T 1613123276 18<26betaboon18>	found it, its in sctk
T 1613123309 18<26betaboon18>	https://github.com/Smithay/client-toolkit/blob/master/src/seat/pointer/theme.rs#L148
T 1613123771 18<26betaboon18>	maybe I'm running into this, wouldnt know tho: https://github.com/Smithay/client-toolkit/blob/master/src/seat/pointer/theme.rs#L77
T 1613127193 20*	Disconnected (20)
T 1613132567 19*	Now talking on 22#alacritty
T 1613132567 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613132567 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613132705 18<20Levanx18>	It chooses the image withe the closest total number of pixels. It was introduced as a reasonable way to handle non-square cursor images
T 1613132730 18<20Levanx18>	But this biases it in favor of choosing smaller images
T 1613141847 20*	Disconnected (20)
T 1613141876 19*	Now talking on 22#alacritty
T 1613141876 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613141876 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613158032 18<24UndeadLeech18>	Levanx: Good job, thanks for the help.
T 1613159937 20*	Disconnected (20)
T 1613160011 20*	Disconnected (20Remote host closed socket)
T 1613160144 19*	Now talking on 22#alacritty
T 1613160144 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613160144 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613160679 18<20capin18>	i'm trying to map `C-S-M` in tmux that's control+shift+meta ie. alt on a mbp keyboard in tmux as my prefix2, presently it's not working. how would i get al to pass that keybinding forward to tmux?
T 1613160962 18<24UndeadLeech18>	Option on macOS is a bit broken.
T 1613161109 18<20capin18>	not sure what that means? i posted this a while back, https://github.com/alacritty/alacritty/issues/93#issuecomment-429651216 and have had success using option aka meta on macos in the past. is there a way i can further troubleshoot this?
T 1613161156 18<24UndeadLeech18>	Wait, what are you trying to map ctrl+shift+alt to?
T 1613161167 18<24UndeadLeech18>	That's just modifiers.
T 1613161192 18<20capin18>	ohhh are you saying i can't just map modifiers by themselves?
T 1613161203 18<24UndeadLeech18>	Not really.
T 1613161207 18<20capin18>	i was hoping to use ctrl+shift+alt as my prefix2 for tmux
T 1613161210 18<24UndeadLeech18>	Not sure what you're trying to do.
T 1613161228 18<20capin18>	(insert exploration gfx)
T 1613161304 18<20capin18>	okay, so when i was reading this, https://unix.stackexchange.com/a/329157/33002 is that why he appends `f12` to the custom key mapping?
T 1613161324 18<24UndeadLeech18>	Maybe.
T 1613161340 18<20capin18>	it seems akin to what you stated above
T 1613161384 18<20capin18>	so if i wanted that mapping in my setup, is there anything special i need to do to get al to pass that along to tmux?
T 1613161385 18<24UndeadLeech18>	Also ctrl/ctrl+shift is usually the same.
T 1613161425 18<20capin18>	i'm content with using `S-M-C-f12` if i can get it to work
T 1613162117 18<20capin18>	if i want to use f12 on a macbook keyboard do i have "specifiy/declare" the function key as well?
T 1613162967 20*	Disconnected (20)
T 1613163044 20*	Disconnected (20Remote host closed socket)
T 1613163107 20*	Disconnected (20Remote host closed socket)
T 1613163148 20*	Disconnected (20Remote host closed socket)
T 1613163173 19*	Now talking on 22#alacritty
T 1613163173 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613163173 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613164737 20*	Disconnected (20)
T 1613164763 19*	Now talking on 22#alacritty
T 1613164763 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613164763 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613166867 20*	Disconnected (20)
T 1613166915 20*	Disconnected (20Remote host closed socket)
T 1613166970 20*	Disconnected (20Remote host closed socket)
T 1613167028 20*	Disconnected (20Remote host closed socket)
T 1613167077 20*	Disconnected (20Remote host closed socket)
T 1613167100 19*	Now talking on 22#alacritty
T 1613167100 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613167100 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613170347 20*	Disconnected (20)
T 1613201073 19*	Now talking on 22#alacritty
T 1613201073 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613201073 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613201408 20*	Disconnected (20)
T 1613201464 20*	Disconnected (20Remote host closed socket)
T 1613201533 20*	Disconnected (20Remote host closed socket)
T 1613201597 20*	Disconnected (20Remote host closed socket)
T 1613201642 19*	Now talking on 22#alacritty
T 1613201642 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613201642 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613202176 24*	28codingquark_ is now known as 18codingquark
T 1613202908 20*	Disconnected (20)
T 1613202978 20*	Disconnected (20Remote host closed socket)
T 1613203036 20*	Disconnected (20Remote host closed socket)
T 1613203090 20*	Disconnected (20Remote host closed socket)
T 1613203147 20*	Disconnected (20Remote host closed socket)
T 1613203173 19*	Now talking on 22#alacritty
T 1613203173 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613203173 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613204528 20*	Disconnected (20)
T 1613204579 20*	Disconnected (20Remote host closed socket)
T 1613204649 20*	Disconnected (20Remote host closed socket)
T 1613204717 20*	Disconnected (20Remote host closed socket)
T 1613204790 20*	Disconnected (20Remote host closed socket)
T 1613204855 20*	Disconnected (20Remote host closed socket)
T 1613204902 20*	Disconnected (20Remote host closed socket)
T 1613205086 20*	Disconnected (20Remote host closed socket)
T 1613205147 20*	Disconnected (20Remote host closed socket)
T 1613205194 20*	Disconnected (20Remote host closed socket)
T 1613205290 19*	Now talking on 22#alacritty
T 1613205290 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613205290 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613238880 20*	Disconnected (20)
T 1613238904 19*	Now talking on 22#alacritty
T 1613238904 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613238904 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613240053 18<22cjoke18>	how do I copy and paste in alacritty things I got in the clipart that is. 
T 1613240268 18<24UndeadLeech18>	Using ctrl+shift+c/v?
T 1613240278 18<24UndeadLeech18>	Check the config for default bindings.
T 1613240320 18<22cjoke18>	no, not happening. im looking at the ~/.alacritty.yml file I did copy from gitsource now. 
T 1613240344 18<24UndeadLeech18>	What OS/DE?
T 1613240344 18<22cjoke18>	when I middle mouseclick, I get things thats marked. not whats in the clipart. 
T 1613240344 18<22cjoke18>	ubuntu20.04 LTS
T 1613240344 18<24UndeadLeech18>	As you should.
T 1613240365 18<24UndeadLeech18>	Are you aware of how the selection clipboard works on Linux?
T 1613240432 18<22cjoke18>	hmm, does alacritty beeing affected by my ~/.Xresources ?
T 1613240433 18<24UndeadLeech18>	Mostly not.
T 1613240435 18<24UndeadLeech18>	Other than Xft.dpi.
T 1613240463 18<22cjoke18>	ok, since I used urxvt and had to do a lot of stuff there. 
T 1613240576 18<22cjoke18>	about the selectioin clipboard, i dont have a clue.
T 1613240591 18<22cjoke18>	s/selectioin/selection/
T 1613240710 20*	Disconnected (20)
T 1613240796 20*	Disconnected (20Remote host closed socket)
T 1613240846 20*	Disconnected (20Remote host closed socket)
T 1613240889 20*	Disconnected (20Remote host closed socket)
T 1613240939 20*	Disconnected (20Remote host closed socket)
T 1613241044 19*	Now talking on 22#alacritty
T 1613241044 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613241044 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613241058 18<22cjoke18>	so, thank you guys for an awesome application! :) <3 
T 1613241073 18<24UndeadLeech18>	It should work just fine with a completely empty configuration file.
T 1613241078 18<24UndeadLeech18>	Which version are you on?
T 1613241115 18<22cjoke18>	alacritty 0.8.0-dev (a5e2ccd)
T 1613241134 18<22cjoke18>	since yesterday or something, maby the day before :)
T 1613241198 18<24UndeadLeech18>	Yeah then removing the comments and not having it at all will both work just fine.
T 1613241208 18<24UndeadLeech18>	It behaves identically.
T 1613241213 18<24UndeadLeech18>	And I'd actually encourage to not have anything in your config that you do not want to change.
T 1613241278 18<22cjoke18>	ahh, I see. thanks! :) 
T 1613243356 24*	28Guest45203 is now known as 18Reventlov
T 1613256160 20*	Disconnected (20)
T 1613313905 19*	Now talking on 22#alacritty
T 1613313905 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613313905 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613314919 18<24UndeadLeech18>	slby[m]: Use a shell.
T 1613317136 18*	27slby[m] sent a long message:  < https://matrix.org/_matrix/media/r0/download/matrix.org/uTGTvYpaPPOobIxitLXNMywr/message.txt >
T 1613317152 18*	27slby[m] sent a long message:  < https://matrix.org/_matrix/media/r0/download/matrix.org/UdfLEkySprnfKtiuwfhncIOx/message.txt >
T 1613317183 18*	27slby[m] sent a long message:  < https://matrix.org/_matrix/media/r0/download/matrix.org/qSngkUufZbOQXhsuRoDVhGts/message.txt >
T 1613317190 18*	27slby[m] sent a long message:  < https://matrix.org/_matrix/media/r0/download/matrix.org/RdoCpShvxEueRwsbqKqzmvxY/message.txt >
T 1613317364 18<24UndeadLeech18>	bash -c "whatever you want"
T 1613318288 18<27slby[m]18>	Ah, thank you very much!
T 1613318288 18<27slby[m]18>	I tried bash "-c" "programm" "$(date)" instead of "programm $(date)", now it works!
T 1613323340 18<22nixpulvis18>	UndeadLeech, if you're around perhaps I can take some of my search/hint/vi mode stuff offline, since it's only partially related to this PR at hand.
T 1613323389 18<22nixpulvis18>	I hope I'm not coming off overly critical. I'm very happy to see you've implemented link hints.
T 1613323678 18<24UndeadLeech18>	I am around indeed.
T 1613323708 18<24UndeadLeech18>	In which scenario would you want to launch this before the stuff you're matching is even visible?
T 1613323738 18<22nixpulvis18>	Watching a log.
T 1613323773 18<22nixpulvis18>	I'm not saying I generally would *want* to do this. I just think if my muscle memory triggers the mode before the input is in yet, it should still work.
T 1613323796 18<24UndeadLeech18>	I honestly think that would just be pointlessly confusing. I don't see much benefit blowing it up to be such a completely separate big "mode" you operate in and have to get back out of.
T 1613323819 18<22nixpulvis18>	But it already *is*.
T 1613323829 18<24UndeadLeech18>	I don't see how.
T 1613323855 18<24UndeadLeech18>	In fact I've actually considered completely freezing the viewport, it's just that it coincidentally works just fine without doing so.
T 1613323863 18<22nixpulvis18>	If my keys don't act as they normally do, I'm in a mode.
T 1613323888 18<24UndeadLeech18>	What is normal?
T 1613323894 18<24UndeadLeech18>	Does launching vim put you in a different terminal mode?
T 1613323902 18<22nixpulvis18>	~Vi, ~Search...
T 1613323942 18<22nixpulvis18>	Since launching vim puts me in the Alt buffer, yes. I can have seperate bindings for that mode.
T 1613323944 18<24UndeadLeech18>	I'd say the way it is right now is much more convenient for someone who's familiar with the feature.
T 1613323957 18<24UndeadLeech18>	It's supposed to be a quick in and out.
T 1613323983 18<22nixpulvis18>	Yet unlike Vi mode which I can enter and leave without moving my fingers, I must reach for ESC?
T 1613324013 18<24UndeadLeech18>	I'm not sure what you mean? By default you should leave this mode by selecting your match.
T 1613324027 18<24UndeadLeech18>	Pressing escape to get out of it should be the exception. 
T 1613324027 18<22nixpulvis18>	I'm just saying, there's something fundamentally inconsistent about the way we move around in Alacritty.
T 1613324036 18<24UndeadLeech18>	Also if you have to move your fingers to press esc, that's on you. :)
T 1613324056 18<22nixpulvis18>	I have caps-lock = esc.
T 1613324062 18<24UndeadLeech18>	Consistent or not, this is just the most pratical approach as far as I can see.
T 1613324092 18<22nixpulvis18>	I don't see how I've made things less practical with my suggestions, just a bit more implementation changes.
T 1613324106 18<24UndeadLeech18>	It just makes things more cumbersome.
T 1613324121 18<24UndeadLeech18>	You get stuff into my way that has no pratcical benefit to me.
T 1613324132 18<22nixpulvis18>	What is in your way?
T 1613324150 18<24UndeadLeech18>	If I thought there was a match and there is none, I now have to exit explicitly.
T 1613324170 18<24UndeadLeech18>	I previously was able to see everything, now there's an indicator in my way that doesn't tell me anything I don't know already.
T 1613324198 18<24UndeadLeech18>	As far as I can see, the changes only do harm.
T 1613324293 18<22nixpulvis18>	If you thought there was a match and there is none, I would hope to get some kind of negative feedback.
T 1613324301 18<22nixpulvis18>	Maybe we just ring the bell...
T 1613324311 18<24UndeadLeech18>	I mean I agree that negative feedback would be helpful, same with search, but it's only helpful if it doesn't annoy the fuck out of me.
T 1613324311 18<22nixpulvis18>	but I have that turned off...
T 1613324328 18<24UndeadLeech18>	Like what Kitty does for example is it throws away my entire buffer and prints a message in the top left saying there's no match.
T 1613324335 18<24UndeadLeech18>	I'd rather have nothing than that.
T 1613324340 18<22nixpulvis18>	that sounds horrible.
T 1613324346 18<24UndeadLeech18>	I personally think it is.
T 1613324363 18<24UndeadLeech18>	But that's an issue that applies both to search and hints I suppose.
T 1613324387 18<22nixpulvis18>	Plus, what if I want to scroll while hinting?
T 1613324399 18<24UndeadLeech18>	Also since you mentioned the key_bindings section: In the future I want to add more fields that use these hints for the mouse highlighting.
T 1613324414 18<22nixpulvis18>	seems easy enough to color the scroll indicator with the hint color or something.
T 1613324432 18<24UndeadLeech18>	Something like mouse_modifiers which automatically causes hints to be used for the mouse when it is enabled with the specified bindings.
T 1613324459 18<22nixpulvis18>	wait... I don't think I follow.
T 1613324459 18<24UndeadLeech18>	That's why I had to move it from the bindings to its own section, originally it was all in key_bindings until I moved it.
T 1613324466 18<22nixpulvis18>	how are hints and the mouse related?
T 1613324484 18<24UndeadLeech18>	Currently URLs are hardcoded into Alacritty. I want to change that. I want the hint system to be the thing that is used both for mouse and keyboard opening.
T 1613324504 18<24UndeadLeech18>	So you'd just define a hint for URLs and then tell Alacritty that you want to be able to open that hint with the mouse too.
T 1613324528 18<22nixpulvis18>	Oh I see what you mean, removing the `Open` (or whatever it's called) action.
T 1613324548 18<24UndeadLeech18>	Yeah, pretty much.
T 1613324565 18<24UndeadLeech18>	Well removing what currently is hardcoded behind "open" and making it dynamic and configurable.
T 1613324642 18<24UndeadLeech18>	That's one of the reasons why I considered this hints approach, since I think those features integrate well with each other. I don't want to just "tack" something new on.
T 1613324647 18<24UndeadLeech18>	But I think this PR stands sufficiently well on its own. In the future then I'll write two new PRs for mouse stuff and for custom actions like Copy/Paste instead of command. So people don't need to rely on external tools for that.
T 1613324647 18<22nixpulvis18>	So this is basically just an action that takes an input, no?
T 1613324664 18<24UndeadLeech18>	What do you mean by "this"?
T 1613324768 18<24UndeadLeech18>	Also I think I'm going to write up a 0.7.2 RC today. I think 0.8.0 is a long way out and I want those Wayland fixes shipped.
T 1613324768 18<22nixpulvis18>	Like, if (just pretend for a sec) hints was a mode, then it would be easy to make the action just configured by a regex.
T 1613324776 18<24UndeadLeech18>	I don't follow.
T 1613324942 18<22nixpulvis18>	Let me back up...
T 1613325063 18<22nixpulvis18>	So the goal is to make the mouse look for "enabled" hints and basically do what we do today in a user configurable way, right?
T 1613325129 18<24UndeadLeech18>	Basically. Though just to be clear this should always work, not only when the hint is active.
T 1613325154 18<22nixpulvis18>	if that's the case, then it already seems like the `command` and `regex` should be together, and the `binding` to activate the key-hint-selection state should be elsewhere, I would think part of the `key_bindings`.
T 1613325256 18<24UndeadLeech18>	Having it in two separate places would just be confusing though.
T 1613325259 18<22nixpulvis18>	Like, I would describe it as follows: Hints are always active, and the mouse underlining searches for them. You can activate a state (through a key_binding) to quick-select a hint. Since there can be many seperate hint regexes, there can be many seperate key_bindings to activate different states for each.
T 1613325259 18<24UndeadLeech18>	At that point you'd have to give it a name or an ID or something and then reference that ID.
T 1613325263 18<24UndeadLeech18>	That just seems much more difficult than necessary.
T 1613325295 18<22nixpulvis18>	I disagree strongly. But I do agree it's not instantly clear how to best do this.
T 1613325302 18<24UndeadLeech18>	It's something I've considered, but it sounds like a massive pain to configure.
T 1613325327 18<22nixpulvis18>	Please don't add key bindings outside the key bindings section :(
T 1613325347 18<24UndeadLeech18>	We already have mouse bindings outside the mouse bindings section.
T 1613325358 18<24UndeadLeech18>	I'd say this is much better than any alternative.
T 1613325370 18<22nixpulvis18>	Though that would also be fixed by this.
T 1613325375 18<24UndeadLeech18>	If there's a better alternative, I'm all ears.
T 1613325380 18<22nixpulvis18>	Unless there's more mouse bindings I'm forgetting.
T 1613325390 18<22nixpulvis18>	I can try to think more about it...
T 1613325393 18<24UndeadLeech18>	No, so it's basically the same.
T 1613325432 18<22nixpulvis18>	I'll take the point that you really don't want to bother with an indicator for this state. That's fine, I just think it would be a small nice thing.
T 1613325480 18<24UndeadLeech18>	I already hate the vi indicator. For vi mode it's just a necessary evil. But here it really isn't necessary.
T 1613325516 18<22nixpulvis18>	Seperating the "hint" from the "hint activation state" (better name needed) would actually help understanding this feature for newbs too. Since a "hint" is not really something one thinks would open a link, or perform any action itself.
T 1613325556 18<22nixpulvis18>	I say for newbs, but I litterally just mean for people learning the feature.
T 1613325826 18<22nixpulvis18>	re 0.7.2 RC: I can try and test it a bit later tonight.
T 1613332750 20*	Disconnected (20)
T 1613333724 20*	Disconnected (20No route to host)
T 1613333751 19*	Now talking on 22#alacritty
T 1613333751 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613333751 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613336230 20*	Disconnected (20)
T 1613336277 20*	Disconnected (20Remote host closed socket)
T 1613336335 20*	Disconnected (20Remote host closed socket)
T 1613336396 20*	Disconnected (20Remote host closed socket)
T 1613336455 20*	Disconnected (20Remote host closed socket)
T 1613336480 19*	Now talking on 22#alacritty
T 1613336480 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613336480 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613341377 20*	Disconnected (20)
T 1613341409 19*	Now talking on 22#alacritty
T 1613341409 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613341409 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613376599 20*	Disconnected (20)
T 1613376625 19*	Now talking on 22#alacritty
T 1613376625 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613376625 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613380709 20*	Disconnected (20)
T 1613380737 19*	Now talking on 22#alacritty
T 1613380737 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613380737 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613388804 20*	Disconnected (20)
T 1613470139 19*	Now talking on 22#alacritty
T 1613470139 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613470139 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613474370 18<27Nahuser18>	Hi, I now use Alacritty :)
T 1613513496 19*	Now talking on 22#alacritty
T 1613513496 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613513496 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613513509 18<24UndeadLeech18>	with the current default it's like what? 10 matches or more and you'll get multiple.
T 1613513622 18<22nixpulvis18>	OK, let me try and construct a regex to test this.
T 1613513630 18<22nixpulvis18>	it didn't like ".+".
T 1613513639 18<24UndeadLeech18>	Why not?
T 1613513654 18<24UndeadLeech18>	That should have one match per line?
T 1613513727 18<22nixpulvis18>	IDK, maybe I'm doing something wrong.
T 1613513753 18<22nixpulvis18>	Oh boy...
T 1613513755 18<24UndeadLeech18>	I think you might have found a bug.
T 1613513758 18<22nixpulvis18>	I froze alacritty.
T 1613513762 18<24UndeadLeech18>	I'm not sure why this doesn't work anymore.
T 1613513791 18<24UndeadLeech18>	Same applies to search.
T 1613513812 18<24UndeadLeech18>	It must be the regex matching though, because I can't imagine the DFA is difficult to build.
T 1613513855 18<22nixpulvis18>	.* in search works for me in the RC.
T 1613513866 18<24UndeadLeech18>	What about .+?
T 1613513879 18<22nixpulvis18>	seems fine.
T 1613513889 18<24UndeadLeech18>	Huh.
T 1613513901 18<24UndeadLeech18>	It's probably my UI/terminal overhaul.
T 1613513903 18<22nixpulvis18>	idk why .+ is matching every line... but it's not hanging.
T 1613513924 18<24UndeadLeech18>	I'm on .8-dev and both hang for me.
T 1613513927 18<22nixpulvis18>	I guess ' ' is a .?
T 1613513936 18<24UndeadLeech18>	Of course, yes.
T 1613513939 18<24UndeadLeech18>	Space.
T 1613513940 18<22nixpulvis18>	right lol
T 1613513953 18<22nixpulvis18>	took me a second to remember what I'm doing here.
T 1613513968 18<24UndeadLeech18>	I mean it doesn't make much sense, but this definitely shouldn't freeze Alacritty.
T 1613513976 18<24UndeadLeech18>	I'm not sure what is hanging here.
T 1613513981 18<24UndeadLeech18>	Other than Alacritty of course.
T 1613514097 18<24UndeadLeech18>	#4800.
T 1613514099 18<22nixpulvis18>	yea, freezing on master,
T 1613514139 18<24UndeadLeech18>	Not much of a surprise that this commit broke a bunch of stuff, so it's kinda nice to cut a 0.7.2 and give this a bunch more testing.
T 1613514233 18<22nixpulvis18>	yea makes sense.
T 1613514246 18<22nixpulvis18>	Glad I can help find random bugs.
T 1613516299 18<28ftpd18>	Hi. iterm: https://files.insomniac.pl/Screenshot_2021-02-16_at_11.50.07_PM.png vs alacritty: https://files.insomniac.pl/Screenshot_2021-02-16_at_11.51.01_PM.png. Is there a way to leave this ~1px of space near the borders, like iterm does? I can't see anything related in default yaml config file.
T 1613516500 18<24UndeadLeech18>	window.padding
T 1613516575 18<28ftpd18>	Thanks!
T 1613516819 20*	Disconnected (20)
T 1613517790 19*	Now talking on 22#alacritty
T 1613517790 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613517790 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613549829 20*	Disconnected (20)
T 1613549857 19*	Now talking on 22#alacritty
T 1613549857 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613549857 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613569280 20*	Disconnected (20)
T 1613569308 19*	Now talking on 22#alacritty
T 1613569308 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613569308 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613583756 19*	Now talking on 22#alacritty
T 1613583756 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613583756 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613726769 19*	Now talking on 22#alacritty
T 1613726769 22*	Topic for 22#alacritty is: Alacritty - A cross-platform, OpenGL terminal emulator <> Latest Release: v0.7.1 - https://github.com/alacritty/alacritty/releases/latest
T 1613726769 22*	Topic for 22#alacritty set by 26UndeadLeech!~UndeadLee@alacritty/undeadleech (24Sat Jan  9 12:42:04 2021)
T 1613726791 18<24UndeadLeech18>	It uses the search colors.
T 1613726800 18<24UndeadLeech18>	I don't think that's documented.
T 1613726803 18<24UndeadLeech18>	colors.search.bar
T 1613727274 18<28belak18>	I was curious about that as well... why doesn't Gnome use the normal window decorations on Alacritty windows?
T 1613727289 18<24UndeadLeech18>	Because it doesn't support SSDs.
T 1613727319 18<28belak18>	client side decorations vs server side decorations?
T 1613727327 18<28belak18>	I'm not familiar with the term in this context
T 1613727335 18<24UndeadLeech18>	Correct.
T 1613727402 18<28belak18>	Blargh, yay Wayland.
T 1613727418 18<28belak18>	(and Gnome, they're not blameless in this either)
T 1613727462 18<24UndeadLeech18>	I mean gnome are literally the only ones forcing this on users.
T 1613727470 18<24UndeadLeech18>	Nothing to do with Wayland at a protocol level.
T 1613727516 18<28belak18>	I'm seriously wondering how Lagrange works then... it uses SDL and shouldn't have any specified decorations (since it doesn't use Gtk), but the titlebar is styled correctly
T 1613727575 18<28belak18>	Though I may be misunderstanding the problem
T 1613727864 18<28belak18>	My frustration with Wayland is around how much it pushes to places where they need to be implemented in multiple places. Things like client-side-decorations and moving more functionality into the compositor rather than a shared component are just examples.
T 1613727906 18<19rcf18>	belak: they can choose to style things differently on a per-compositor basis, or just use gtk to draw the decorations. 
T 1613727936 18<28belak18>	And while this specific example may be Gnome more than Wayland, it's still indirectly because of where Wayland pushes the complexity
T 1613727946 18<19rcf18>	I wouldn't say that. 
T 1613727974 18<19rcf18>	KDE and sway manage just fine. 
T 1613728047 18<19rcf18>	My only complain is that text rendering in the weirdly-styled CSD is now broken, which is distinct from CSD being perhaps visually unappealing and an actual bug. 
T 1613728197 18<28belak18>	Right, but that's my point - window drawing is now something that needs to be implemented in tons of places (once for each windowing toolkit that supports wayland) because SSD is still a protocol extension. And now because it's in 10 different places rather than relying on a window manager to draw the window decorations, they don't all line up.
T 1613728280 18<19rcf18>	SSD was always a protocol extension, though. No X11 window manager needs to provide it, and I would genuinely be surprised if GNOME (before dropping X entirely) did not remove it from mutter. 
T 1613728422 18<28belak18>	Interesting, I didn't know that
T 1613728483 18<28belak18>	So, why did it work in X for a Window to be decorated by the WM? I always assumed that was the default and the clients had to ask to disable it.
T 1613728553 18<28belak18>	I was looking at https://gitlab.gnome.org/GNOME/mutter/-/issues/217 which seems to have devolved a bit, but there are some helpful comments in there
T 1613728638 18<19rcf18>	Because window manager developers were not rabidly opposed to adopting the extensions as they are today. And that's largely because X11 does not try to segregate clients, and because -- being the developers of the display server itself, now -- window manager developers now need to consider whether they want the simplest possible handling of surfaces or to cater to people not using the One True
T 1613728639 18<19rcf18>	Toolkit‚Ñ¢. 
T 1613728667 18<24UndeadLeech18>	rcf: Is it just broken for you in general?
T 1613728753 18<19rcf18>	UndeadLeech: strictly alacritty. It has been a common complaint among everyone reporting CSD issues, but it is often mixed up in the styling itself being off, which is indeed not a bug (or at least not one that would be reasonably solved in alacritty itself) 
T 1613728782 18<24UndeadLeech18>	I've only seen it in a single screenshot and that issue was complaining about it being CSDs.
T 1613728787 18<24UndeadLeech18>	Has this never worked for you?
T 1613728824 18<19rcf18>	I believe it worked in the past, given commit histories discussing (for example) default font choices for CSD titles. 
T 1613728826 18<28belak18>	So, the decorations in alacritty are the fallback decorations for whatever windowing toolkit alacritty uses if the Wayland compositor doesn't support whatever protocol extension is needed for SSDs?
T 1613728836 18<19rcf18>	belak: exactly. 
T 1613728849 18<28belak18>	Fun
T 1613728851 18<24UndeadLeech18>	I'm pretty sure CSDs texts work just fine for most people.
T 1613728865 18<24UndeadLeech18>	All we changed recently was prevent a crash from completely taking down alacritty when the font couldn't be loaded.
T 1613728908 18<28belak18>	I use a Gnome extension which hides the window titlebars when the window is tiled or maximized... and this doesn't work with Alacritty. That's how I noticed it.
T 1613728935 18<28belak18>	If they disappeared like other windows, it wouldn't even bother me.
T 1613728935 18<24UndeadLeech18>	It works just fine for me for example rcf.
T 1613728947 18<19rcf18>	UndeadLeech: I suppose it's the questionable font code you'd mentioned in that one issue. 
T 1613728982 18<24UndeadLeech18>	The thing is it shouldn't be a problem unless you have a messed up fontconfig on your system.
T 1613729000 18<19rcf18>	I don't actually mind too much, of course, given that I normally use sway. 
T 1613729039 18<19rcf18>	I just notice it when I see people complain about it now. 
T 1613729150 18<19rcf18>	belak: the ideal solution would be 'libdecor' or something like that which imposes no hard dependencies and does nothing but render decoration in the compositor's style on a surface. 
T 1613729169 18<24UndeadLeech18>	Would be nice to see if this is a consistent issue you also have with previous versions.
T 1613729169 18<28belak18>	Sway is another fun thing... because wlroots can't support nvidia chips (because of limitations in the proprietary nvidia driver) I can't actually use it
T 1613729468 18<19rcf18>	UndeadLeech: I'll definitely have a go at reproducing it with older versions and more varied (i.e. distro default) configurations and open a proper issue for it at some point. 
T 1613729508 18<28belak18>	rcf: hey, thanks for sticking around and giving me some background - I really appreciate it
T 1613729633 18<24UndeadLeech18>	rcf: Thanks.
T 1613729668 18<19rcf18>	belak: wlroots chose to avoid modularity to make a political statement on that matter as far as I'm concerned, but then I don't run any proprietary drivers so it doesn't bother me too much, and I"m certainly not going to try to write an eglstream backend for it. 
T 1613729742 18<28belak18>	rcf: I'm stuck running proprietary drivers until I can find a graphics card in stock somewhere :/
T 1613729754 18<19rcf18>	Of course there are massive limitations even on GNOME as far as I know -- anyone using Wine to run games, for example, is stuck with xwayland, and that means software rendering. 
T 1613729756 18<24UndeadLeech18>	lol, good luck with that.
T 1613729781 18<28belak18>	UndeadLeech: yeah, I know, lol. It's why I'm still on my 1080 from 4-ish years ago
T 1613729801 18<28belak18>	I've been looking semi-seriously for about 4 months now
T 1613729806 18<24UndeadLeech18>	I've also wanted to get a new GPU this year since I'm running a 390.
T 1613729811 18<24UndeadLeech18>	Though right now it's pointless.
T 1613729930 18<28belak18>	I assume something like a 390 would be old enough that nouveau would support it at least.
T 1613729944 18<24UndeadLeech18>	R9 390 is an AMD gpu, so I doubt it.
T 1613729953 18<28belak18>	Oh, lol
T 1613729959 18<24UndeadLeech18>	:)
T 1613730002 18<28belak18>	That's a bit better than a GTX 390 which seems to be a 10+ year old nvidia card
